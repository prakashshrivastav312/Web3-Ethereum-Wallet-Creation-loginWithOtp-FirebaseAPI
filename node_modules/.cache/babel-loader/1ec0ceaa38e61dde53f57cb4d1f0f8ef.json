{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setupUnitTestWatcherTimeouts = exports.extendAbiRegistry = exports.loadAbiRegistry = exports.loadContractCode = void 0;\n\nconst code_1 = require(\"../smartcontracts/code\");\n\nconst typesystem_1 = require(\"../smartcontracts/typesystem\");\n\nconst transactionWatcher_1 = require(\"../transactionWatcher\");\n\nfunction loadContractCode(path) {\n  return __awaiter(this, void 0, void 0, function* () {\n    if (isBrowser()) {\n      return code_1.Code.fromUrl(path.toString());\n    }\n\n    return code_1.Code.fromFile(path);\n  });\n}\n\nexports.loadContractCode = loadContractCode;\n\nfunction loadAbiRegistry(paths) {\n  return __awaiter(this, void 0, void 0, function* () {\n    let sources = paths.map(e => e.toString());\n\n    if (isBrowser()) {\n      return typesystem_1.AbiRegistry.load({\n        urls: sources\n      });\n    }\n\n    return typesystem_1.AbiRegistry.load({\n      files: sources\n    });\n  });\n}\n\nexports.loadAbiRegistry = loadAbiRegistry;\n\nfunction extendAbiRegistry(registry, path) {\n  return __awaiter(this, void 0, void 0, function* () {\n    let source = path.toString();\n\n    if (isBrowser()) {\n      return registry.extendFromUrl(source);\n    }\n\n    return registry.extendFromFile(source);\n  });\n}\n\nexports.extendAbiRegistry = extendAbiRegistry;\n\nfunction isBrowser() {\n  return typeof window !== \"undefined\";\n}\n\nfunction setupUnitTestWatcherTimeouts() {\n  transactionWatcher_1.TransactionWatcher.DefaultPollingInterval = 42;\n  transactionWatcher_1.TransactionWatcher.DefaultTimeout = 42 * 42;\n}\n\nexports.setupUnitTestWatcherTimeouts = setupUnitTestWatcherTimeouts;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AACA;;AAEA,SAAsBA,gBAAtB,CAAuCC,IAAvC,EAAqD;;IACjD,IAAIC,SAAS,EAAb,EAAiB;MACb,OAAOC,YAAKC,OAAL,CAAaH,IAAI,CAACI,QAAL,EAAb,CAAP;IACH;;IAED,OAAOF,YAAKG,QAAL,CAAcL,IAAd,CAAP;EACH;AAAA;;AANDM;;AAQA,SAAsBC,eAAtB,CAAsCC,KAAtC,EAAuD;;IACnD,IAAIC,OAAO,GAAGD,KAAK,CAACE,GAAN,CAAUC,CAAC,IAAIA,CAAC,CAACP,QAAF,EAAf,CAAd;;IAEA,IAAIH,SAAS,EAAb,EAAiB;MACb,OAAOW,yBAAYC,IAAZ,CAAiB;QAAEC,IAAI,EAAEL;MAAR,CAAjB,CAAP;IACH;;IAED,OAAOG,yBAAYC,IAAZ,CAAiB;MAAEE,KAAK,EAAEN;IAAT,CAAjB,CAAP;EACH;AAAA;;AARDH;;AAUA,SAAsBU,iBAAtB,CAAwCC,QAAxC,EAA+DjB,IAA/D,EAA6E;;IACzE,IAAIkB,MAAM,GAAGlB,IAAI,CAACI,QAAL,EAAb;;IAEA,IAAIH,SAAS,EAAb,EAAiB;MACb,OAAOgB,QAAQ,CAACE,aAAT,CAAuBD,MAAvB,CAAP;IACH;;IAED,OAAOD,QAAQ,CAACG,cAAT,CAAwBF,MAAxB,CAAP;EACH;AAAA;;AARDZ;;AAUA,SAASL,SAAT,GAAkB;EACd,OAAO,OAAOoB,MAAP,KAAkB,WAAzB;AACH;;AAED,SAAgBC,4BAAhB,GAA4C;EACxCC,wCAAmBC,sBAAnB,GAA4C,EAA5C;EACAD,wCAAmBE,cAAnB,GAAoC,KAAK,EAAzC;AACH;;AAHDnB","names":["loadContractCode","path","isBrowser","code_1","fromUrl","toString","fromFile","exports","loadAbiRegistry","paths","sources","map","e","typesystem_1","load","urls","files","extendAbiRegistry","registry","source","extendFromUrl","extendFromFile","window","setupUnitTestWatcherTimeouts","transactionWatcher_1","DefaultPollingInterval","DefaultTimeout"],"sourceRoot":"","sources":["../../src/testutils/utils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}