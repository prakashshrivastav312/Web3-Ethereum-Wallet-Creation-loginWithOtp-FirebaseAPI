{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContractInterface = void 0;\n\nconst utils_1 = require(\"../../utils\");\n\nconst endpoint_1 = require(\"./endpoint\");\n\nconst NamePlaceholder = \"?\";\n/**\n * An Interace represents a (sub)set of endpoints (with their signatures included) defined by a contract.\n */\n\nclass ContractInterface {\n  constructor(name, constructor_definition, endpoints) {\n    this.endpoints = [];\n    this.name = name;\n    this.constructorDefinition = constructor_definition;\n    this.endpoints = endpoints;\n  }\n\n  static fromJSON(json) {\n    json.name = json.name || NamePlaceholder;\n    json.endpoints = json.endpoints || [];\n    let constructorDefinition = constructorFromJSON(json);\n    let endpoints = json.endpoints.map(item => endpoint_1.EndpointDefinition.fromJSON(item));\n    return new ContractInterface(json.name, constructorDefinition, endpoints);\n  }\n\n  getConstructorDefinition() {\n    return this.constructorDefinition;\n  }\n\n  getEndpoint(name) {\n    let result = this.endpoints.find(e => e.name == name);\n    utils_1.guardValueIsSet(\"result\", result);\n    return result;\n  }\n\n}\n\nexports.ContractInterface = ContractInterface;\n\nfunction constructorFromJSON(json) {\n  if (json.constructor.inputs === undefined || json.constructor.outputs === undefined) {\n    return null;\n  } // the name will be missing, so we add it manually\n\n\n  let constructorWithName = Object.assign({\n    name: \"constructor\"\n  }, json.constructor);\n  return endpoint_1.EndpointDefinition.fromJSON(constructorWithName);\n}","map":{"version":3,"mappings":";;;;;;;AAAA;;AACA;;AAEA,MAAMA,eAAe,GAAG,GAAxB;AAEA;;;;AAGA,MAAaC,iBAAb,CAA8B;EAK1BC,YAAYC,IAAZ,EAA0BC,sBAA1B,EAA6EC,SAA7E,EAA4G;IAFnG,iBAAkC,EAAlC;IAGL,KAAKF,IAAL,GAAYA,IAAZ;IACA,KAAKG,qBAAL,GAA6BF,sBAA7B;IACA,KAAKC,SAAL,GAAiBA,SAAjB;EACH;;EAEc,OAARE,QAAQ,CAACC,IAAD,EAA2D;IACtEA,IAAI,CAACL,IAAL,GAAYK,IAAI,CAACL,IAAL,IAAaH,eAAzB;IACAQ,IAAI,CAACH,SAAL,GAAiBG,IAAI,CAACH,SAAL,IAAkB,EAAnC;IAEA,IAAIC,qBAAqB,GAAGG,mBAAmB,CAACD,IAAD,CAA/C;IACA,IAAIH,SAAS,GAAGG,IAAI,CAACH,SAAL,CAAeK,GAAf,CAAmBC,IAAI,IAAIC,8BAAmBL,QAAnB,CAA4BI,IAA5B,CAA3B,CAAhB;IACA,OAAO,IAAIV,iBAAJ,CAAsBO,IAAI,CAACL,IAA3B,EAAiCG,qBAAjC,EAAwDD,SAAxD,CAAP;EACH;;EAEDQ,wBAAwB;IACpB,OAAO,KAAKP,qBAAZ;EACH;;EAEDQ,WAAW,CAACX,IAAD,EAAa;IACpB,IAAIY,MAAM,GAAG,KAAKV,SAAL,CAAeW,IAAf,CAAoBC,CAAC,IAAIA,CAAC,CAACd,IAAF,IAAUA,IAAnC,CAAb;IACAe,wBAAgB,QAAhB,EAA0BH,MAA1B;IACA,OAAOA,MAAP;EACH;;AA5ByB;;AAA9BI;;AA+BA,SAASV,mBAAT,CAA6BD,IAA7B,EAAsC;EAClC,IAAIA,IAAI,CAACN,WAAL,CAAiBkB,MAAjB,KAA4BC,SAA5B,IAAyCb,IAAI,CAACN,WAAL,CAAiBoB,OAAjB,KAA6BD,SAA1E,EAAqF;IACjF,OAAO,IAAP;EACH,CAHiC,CAKlC;;;EACA,IAAIE,mBAAmB;IAAKpB,IAAI,EAAE;EAAX,GAA6BK,IAAI,CAACN,WAAlC,CAAvB;EAEA,OAAOU,8BAAmBL,QAAnB,CAA4BgB,mBAA5B,CAAP;AACH","names":["NamePlaceholder","ContractInterface","constructor","name","constructor_definition","endpoints","constructorDefinition","fromJSON","json","constructorFromJSON","map","item","endpoint_1","getConstructorDefinition","getEndpoint","result","find","e","utils_1","exports","inputs","undefined","outputs","constructorWithName"],"sourceRoot":"","sources":["../../../src/smartcontracts/typesystem/contractInterface.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}