{"ast":null,"code":"const bip39 = require('bip39');\n\nfunction validateBuffer(input, expectedLength) {\n  if (!Buffer.isBuffer(input)) {\n    throw new Error('not buffer!');\n  }\n\n  if (expectedLength && input.length !== expectedLength) {\n    throw new Error('Invalid buffer length');\n  }\n}\n\nfunction validateArray(input) {\n  if (typeof input !== typeof []) {\n    throw new Error('not an array!');\n  }\n}\n\nfunction validateDerivationIndex(input) {\n  if (!Number.isInteger(input)) {\n    throw new Error('invalid derivation index!');\n  }\n}\n\nfunction validateString(input) {\n  if (typeof input !== typeof 'aa') {\n    throw new Error('not a string!');\n  }\n}\n\nfunction validateDerivationScheme(input) {\n  if (input !== 1 && input !== 2) {\n    throw new Error('invalid derivation scheme!');\n  }\n}\n\nfunction validateMnemonic(input) {\n  if (!bip39.validateMnemonic(input)) {\n    const e = new Error('Invalid or unsupported mnemonic format:');\n    e.name = 'InvalidArgumentException';\n    throw e;\n  }\n}\n\nfunction validateMnemonicWords(input) {\n  const wordlist = bip39.wordlists.EN;\n  const words = input.split(' ');\n  const valid = words.reduce((result, word) => {\n    return result && wordlist.indexOf(word) !== -1;\n  }, true);\n\n  if (!valid) {\n    throw new Error('Invalid mnemonic words');\n  }\n}\n\nfunction validatePaperWalletMnemonic(input) {\n  validateMnemonicWords(input);\n  const mnemonicLength = input.split(' ').length;\n\n  if (mnemonicLength !== 27) {\n    throw Error(`Paper Wallet Mnemonic must be 27 words, got ${mnemonicLength} instead`);\n  }\n}\n\nfunction validateNetworkId(input) {\n  if (!Number.isInteger(input) || input < 0 || input > 15) {\n    throw Error('Network id must be an integer between 0 and 15');\n  }\n}\n\nfunction validateUint32(input) {\n  if (!Number.isInteger(input) || input < 0 || input >= Math.pow(2, 32)) {\n    throw Error('Value must be uint32');\n  }\n}\n\nmodule.exports = {\n  validateBuffer,\n  validateArray,\n  validateString,\n  validateDerivationIndex,\n  validateDerivationScheme,\n  validateMnemonic,\n  validateMnemonicWords,\n  validatePaperWalletMnemonic,\n  validateNetworkId,\n  validateUint32\n};","map":{"version":3,"names":["bip39","require","validateBuffer","input","expectedLength","Buffer","isBuffer","Error","length","validateArray","validateDerivationIndex","Number","isInteger","validateString","validateDerivationScheme","validateMnemonic","e","name","validateMnemonicWords","wordlist","wordlists","EN","words","split","valid","reduce","result","word","indexOf","validatePaperWalletMnemonic","mnemonicLength","validateNetworkId","validateUint32","Math","pow","module","exports"],"sources":["C:/Users/acer/node_modules/cardano-crypto.js/utils/validation.js"],"sourcesContent":["const bip39 = require('bip39')\n\nfunction validateBuffer(input, expectedLength) {\n  if (!Buffer.isBuffer(input)) {\n    throw new Error('not buffer!')\n  }\n\n  if (expectedLength && input.length !== expectedLength) {\n    throw new Error('Invalid buffer length')\n  }\n}\n\nfunction validateArray(input) {\n  if (typeof input !== typeof []) {\n    throw new Error('not an array!')\n  }\n}\n\nfunction validateDerivationIndex(input) {\n  if (!Number.isInteger(input)) {\n    throw new Error('invalid derivation index!')\n  }\n}\n\nfunction validateString(input) {\n  if (typeof input !== typeof 'aa') {\n    throw new Error('not a string!')\n  }\n}\n\nfunction validateDerivationScheme(input) {\n  if (input !== 1 && input !== 2) {\n    throw new Error('invalid derivation scheme!')\n  }\n}\n\nfunction validateMnemonic(input) {\n  if (!bip39.validateMnemonic(input)) {\n    const e = new Error('Invalid or unsupported mnemonic format:')\n    e.name = 'InvalidArgumentException'\n    throw e\n  }\n}\n\nfunction validateMnemonicWords(input) {\n  const wordlist = bip39.wordlists.EN\n  const words = input.split(' ')\n\n  const valid = words.reduce((result, word) => {\n    return result && wordlist.indexOf(word) !== -1\n  }, true)\n\n  if (!valid) {\n    throw new Error('Invalid mnemonic words')\n  }\n}\n\nfunction validatePaperWalletMnemonic(input) {\n  validateMnemonicWords(input)\n\n  const mnemonicLength = input.split(' ').length\n\n  if (mnemonicLength !== 27) {\n    throw Error(\n      `Paper Wallet Mnemonic must be 27 words, got ${mnemonicLength} instead`\n    )\n  }\n}\n\nfunction validateNetworkId(input) {\n  if (!Number.isInteger(input) || input < 0 || input > 15) {\n    throw Error(\n      'Network id must be an integer between 0 and 15'\n    )\n  }\n}\n\nfunction validateUint32(input) {\n  if (!Number.isInteger(input) || input < 0 || input >= Math.pow(2, 32)) {\n    throw Error(\n      'Value must be uint32'\n    )\n  }\n}\n\nmodule.exports = {\n  validateBuffer,\n  validateArray,\n  validateString,\n  validateDerivationIndex,\n  validateDerivationScheme,\n  validateMnemonic,\n  validateMnemonicWords,\n  validatePaperWalletMnemonic,\n  validateNetworkId,\n  validateUint32\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}