{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/acer/sptr/React_Firebase_Auth_Tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/acer/sptr/React_Firebase_Auth_Tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/acer/sptr/React_Firebase_Auth_Tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import'react-phone-number-input/style.css';import PhoneInput from'react-phone-number-input';import{Button,Form,Alert}from\"react-bootstrap\";import{Link,useNavigate}from\"react-router-dom\";import{useUserAuth}from\"../context/UserAuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PhoneSignUp=function PhoneSignUp(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),number=_useState2[0],setNumber=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),otp=_useState4[0],setOtp=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),flag=_useState8[0],setFlag=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),confirmObj=_useState10[0],setConfirmObj=_useState10[1];var _useUserAuth=useUserAuth(),setUpRecaptcha=_useUserAuth.setUpRecaptcha;var navigate=useNavigate();var getOtp=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setError(\"\");if(!(number===\"\"||number===undefined)){_context.next=4;break;}return _context.abrupt(\"return\",setError(\"Please enter a valid Phone Number\"));case 4:_context.prev=4;_context.next=7;return setUpRecaptcha(number);case 7:response=_context.sent;console.log(response);setConfirmObj(response);setFlag(true);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](4);setError(_context.t0.message);case 16:console.log(number);case 17:case\"end\":return _context.stop();}}},_callee,null,[[4,13]]);}));return function getOtp(_x){return _ref.apply(this,arguments);};}();var verifyOtp=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(otp);if(!(otp===\"\"||otp===null)){_context2.next=4;break;}return _context2.abrupt(\"return\");case 4:_context2.prev=4;setError(\"\");_context2.next=8;return confirmObj.confirm(otp);case 8:navigate(\"/home\");_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](4);setError(_context2.t0.message);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[4,11]]);}));return function verifyOtp(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 box\",children:[error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:getOtp,style:{display:!flag?\"block\":\"none\"},children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPhoneNumber\",children:[/*#__PURE__*/_jsx(PhoneInput,{defaultCountry:\"IN\",value:number,onChange:setNumber,placeholder:\"Enter Phone Number\"}),/*#__PURE__*/_jsx(\"div\",{id:\"recaptcha-container\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-right\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",children:\"Back\"}),\"  \\xA0\"]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Send OTP\"})]})]}),/*#__PURE__*/_jsxs(Form,{onSubmit:verifyOtp,style:{display:flag?\"block\":\"none\"},children:[/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicOtp\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"otp\",placeholder:\"Enter OTP\",onChange:function onChange(e){return setOtp(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-right\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",children:\"Cancel\"})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Verify OTP\"})]})]})]})});};export default PhoneSignUp;","map":{"version":3,"names":["React","useState","PhoneInput","Button","Form","Alert","Link","useNavigate","useUserAuth","PhoneSignUp","number","setNumber","otp","setOtp","error","setError","flag","setFlag","confirmObj","setConfirmObj","setUpRecaptcha","navigate","getOtp","e","preventDefault","undefined","response","console","log","message","verifyOtp","confirm","display","target","value"],"sources":["C:/Users/acer/sptr/React_Firebase_Auth_Tutorial/src/components/PhoneSignUp.js"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport 'react-phone-number-input/style.css'\r\nimport PhoneInput from 'react-phone-number-input'\r\nimport { Button, Form, Alert } from \"react-bootstrap\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useUserAuth } from \"../context/UserAuthContext\";\r\n\r\nconst PhoneSignUp = () => {\r\n\r\n    const [number, setNumber] = useState(\"\");\r\n    const [otp, setOtp] =useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [flag, setFlag] = useState(false);\r\n    const [confirmObj, setConfirmObj] = useState(\"\");\r\n    const { setUpRecaptcha } = useUserAuth();\r\n    const navigate= useNavigate();\r\n    \r\n    \r\n    const getOtp = async (e) => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        if (number === \"\" || number === undefined )\r\n            return setError(\"Please enter a valid Phone Number\");\r\n        try{\r\n            const response = await setUpRecaptcha(number);\r\n            console.log(response);\r\n            setConfirmObj(response);\r\n            setFlag(true);\r\n        }catch(err){\r\n            setError(err.message);\r\n        }\r\n        \r\n        console.log(number);\r\n    }\r\n\r\n    const verifyOtp = async (e) =>{\r\n        e.preventDefault();\r\n        console.log(otp);\r\n        if(otp === \"\" || otp === null) return;\r\n        try{\r\n            setError(\"\");\r\n            await confirmObj.confirm(otp);\r\n            navigate(\"/home\");\r\n        }catch(err){\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    return(\r\n\r\n        <>\r\n        <div className=\"p-4 box\">\r\n          {/* <h2 className=\"mb-3\">Welcome</h2> */}\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={getOtp} style={{display: !flag ? \"block\" : \"none\"}}>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicPhoneNumber\">\r\n              <PhoneInput\r\n                defaultCountry=\"IN\"\r\n                value={number}\r\n                onChange={setNumber}\r\n                placeholder=\"Enter Phone Number\"\r\n              />\r\n\r\n            <div id=\"recaptcha-container\" />\r\n            </Form.Group>\r\n\r\n            <div className=\"button-right\">\r\n                <Link to=\"/\">\r\n                      <Button variant =\"secondary\">Back</Button>  &nbsp;\r\n                </Link>\r\n                <Button variant =\"primary\" type=\"submit\">Send OTP</Button>\r\n            </div>\r\n        </Form>\r\n\r\n        <Form onSubmit={verifyOtp} style={{display: flag ? \"block\" : \"none\"}}>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicOtp\">\r\n                <Form.Control\r\n                    type=\"otp\"\r\n                    placeholder=\"Enter OTP\"\r\n                    onChange = {(e) => setOtp(e.target.value)}\r\n                />\r\n\r\n            \r\n            </Form.Group>\r\n\r\n            <div className=\"button-right\">\r\n                <Link to=\"/\">\r\n                      <Button variant =\"secondary\">Cancel</Button>\r\n                </Link>\r\n                <Button variant =\"primary\" type=\"submit\">Verify OTP</Button>\r\n            </div>\r\n        </Form>\r\n      </div>\r\n        </> \r\n    );\r\n\r\n};\r\n\r\nexport default PhoneSignUp;"],"mappings":"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"},"metadata":{},"sourceType":"module"}