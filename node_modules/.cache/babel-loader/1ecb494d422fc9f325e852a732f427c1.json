{"ast":null,"code":"'use strict';\n\nconst varint = require('varint');\n\nconst encoder = require('./encoder');\n\nfunction int64Encode(val, buffer, dataView, offset) {\n  if (val < 0) {\n    const last = offset + 9;\n    varint.encode(val * -1, buffer, offset);\n    offset += varint.encode.bytes - 1;\n    buffer[offset] = buffer[offset] | 0x80;\n\n    while (offset < last - 1) {\n      offset++;\n      buffer[offset] = 0xff;\n    }\n\n    buffer[last] = 0x01;\n    int64Encode.bytes = 10;\n  } else {\n    varint.encode(val, buffer, offset);\n    int64Encode.bytes = varint.encode.bytes;\n  }\n}\n\nfunction int64Decode(buffer, dataView, offset) {\n  let val = varint.decode(buffer, offset);\n\n  if (val >= Math.pow(2, 63)) {\n    let limit = 9;\n\n    while (buffer[offset + limit - 1] === 0xff) limit--;\n\n    limit = limit || 9;\n    const subset = buffer.subarray(offset, offset + limit);\n    subset[limit - 1] = subset[limit - 1] & 0x7f;\n    val = -1 * varint.decode(subset, 0);\n    int64Decode.bytes = 10;\n  } else {\n    int64Decode.bytes = varint.decode.bytes;\n  }\n\n  return val;\n}\n\nfunction int64EncodingLength(val) {\n  return val < 0 ? 10 : varint.encodingLength(val);\n}\n\nmodule.exports = encoder(0, int64Encode, int64Decode, int64EncodingLength);","map":{"version":3,"names":["varint","require","encoder","int64Encode","val","buffer","dataView","offset","last","encode","bytes","int64Decode","decode","Math","pow","limit","subset","subarray","int64EncodingLength","encodingLength","module","exports"],"sources":["C:/Users/acer/node_modules/protons/src/compile/encodings/int64.js"],"sourcesContent":["'use strict'\n\nconst varint = require('varint')\nconst encoder = require('./encoder')\n\nfunction int64Encode (val, buffer, dataView, offset) {\n  if (val < 0) {\n    const last = offset + 9\n    varint.encode(val * -1, buffer, offset)\n\n    offset += varint.encode.bytes - 1\n    buffer[offset] = buffer[offset] | 0x80\n\n    while (offset < last - 1) {\n      offset++\n      buffer[offset] = 0xff\n    }\n    buffer[last] = 0x01\n\n    int64Encode.bytes = 10\n  } else {\n    varint.encode(val, buffer, offset)\n    int64Encode.bytes = varint.encode.bytes\n  }\n}\n\nfunction int64Decode (buffer, dataView, offset) {\n  let val = varint.decode(buffer, offset)\n\n  if (val >= Math.pow(2, 63)) {\n    let limit = 9\n    while (buffer[offset + limit - 1] === 0xff) limit--\n    limit = limit || 9\n    const subset = buffer.subarray(offset, offset + limit)\n    subset[limit - 1] = subset[limit - 1] & 0x7f\n    val = -1 * varint.decode(subset, 0)\n    int64Decode.bytes = 10\n  } else {\n    int64Decode.bytes = varint.decode.bytes\n  }\n\n  return val\n}\n\nfunction int64EncodingLength (val) {\n  return val < 0 ? 10 : varint.encodingLength(val)\n}\n\nmodule.exports = encoder(0, int64Encode, int64Decode, int64EncodingLength)\n"],"mappings":"AAAA;;AAEA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,WAAD,CAAvB;;AAEA,SAASE,WAAT,CAAsBC,GAAtB,EAA2BC,MAA3B,EAAmCC,QAAnC,EAA6CC,MAA7C,EAAqD;EACnD,IAAIH,GAAG,GAAG,CAAV,EAAa;IACX,MAAMI,IAAI,GAAGD,MAAM,GAAG,CAAtB;IACAP,MAAM,CAACS,MAAP,CAAcL,GAAG,GAAG,CAAC,CAArB,EAAwBC,MAAxB,EAAgCE,MAAhC;IAEAA,MAAM,IAAIP,MAAM,CAACS,MAAP,CAAcC,KAAd,GAAsB,CAAhC;IACAL,MAAM,CAACE,MAAD,CAAN,GAAiBF,MAAM,CAACE,MAAD,CAAN,GAAiB,IAAlC;;IAEA,OAAOA,MAAM,GAAGC,IAAI,GAAG,CAAvB,EAA0B;MACxBD,MAAM;MACNF,MAAM,CAACE,MAAD,CAAN,GAAiB,IAAjB;IACD;;IACDF,MAAM,CAACG,IAAD,CAAN,GAAe,IAAf;IAEAL,WAAW,CAACO,KAAZ,GAAoB,EAApB;EACD,CAdD,MAcO;IACLV,MAAM,CAACS,MAAP,CAAcL,GAAd,EAAmBC,MAAnB,EAA2BE,MAA3B;IACAJ,WAAW,CAACO,KAAZ,GAAoBV,MAAM,CAACS,MAAP,CAAcC,KAAlC;EACD;AACF;;AAED,SAASC,WAAT,CAAsBN,MAAtB,EAA8BC,QAA9B,EAAwCC,MAAxC,EAAgD;EAC9C,IAAIH,GAAG,GAAGJ,MAAM,CAACY,MAAP,CAAcP,MAAd,EAAsBE,MAAtB,CAAV;;EAEA,IAAIH,GAAG,IAAIS,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,EAAZ,CAAX,EAA4B;IAC1B,IAAIC,KAAK,GAAG,CAAZ;;IACA,OAAOV,MAAM,CAACE,MAAM,GAAGQ,KAAT,GAAiB,CAAlB,CAAN,KAA+B,IAAtC,EAA4CA,KAAK;;IACjDA,KAAK,GAAGA,KAAK,IAAI,CAAjB;IACA,MAAMC,MAAM,GAAGX,MAAM,CAACY,QAAP,CAAgBV,MAAhB,EAAwBA,MAAM,GAAGQ,KAAjC,CAAf;IACAC,MAAM,CAACD,KAAK,GAAG,CAAT,CAAN,GAAoBC,MAAM,CAACD,KAAK,GAAG,CAAT,CAAN,GAAoB,IAAxC;IACAX,GAAG,GAAG,CAAC,CAAD,GAAKJ,MAAM,CAACY,MAAP,CAAcI,MAAd,EAAsB,CAAtB,CAAX;IACAL,WAAW,CAACD,KAAZ,GAAoB,EAApB;EACD,CARD,MAQO;IACLC,WAAW,CAACD,KAAZ,GAAoBV,MAAM,CAACY,MAAP,CAAcF,KAAlC;EACD;;EAED,OAAON,GAAP;AACD;;AAED,SAASc,mBAAT,CAA8Bd,GAA9B,EAAmC;EACjC,OAAOA,GAAG,GAAG,CAAN,GAAU,EAAV,GAAeJ,MAAM,CAACmB,cAAP,CAAsBf,GAAtB,CAAtB;AACD;;AAEDgB,MAAM,CAACC,OAAP,GAAiBnB,OAAO,CAAC,CAAD,EAAIC,WAAJ,EAAiBQ,WAAjB,EAA8BO,mBAA9B,CAAxB"},"metadata":{},"sourceType":"script"}