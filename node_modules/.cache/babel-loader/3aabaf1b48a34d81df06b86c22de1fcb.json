{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _big = require(\"big.js\");\n\nvar _amino = require(\"../amino\");\n\nvar crypto = _interopRequireWildcard(require(\"../crypto\"));\n\nvar _types = require(\"../types\");\n\nvar _utils = require(\"../utils\");\n\nvar _baseRpc = _interopRequireDefault(require(\"./baseRpc\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * The Binance Chain Node rpc client\n */\n\n\nvar RpcClient = /*#__PURE__*/function (_BaseRpc) {\n  (0, _inherits2[\"default\"])(RpcClient, _BaseRpc);\n\n  var _super = _createSuper(RpcClient);\n  /**\n   * @param {String} uriString dataseed address\n   * @param {String} netWork Binance Chain network\n   */\n\n\n  function RpcClient() {\n    var _this;\n\n    var uriString = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"localhost:27146\";\n    var netWork = arguments.length > 1 ? arguments[1] : undefined;\n    (0, _classCallCheck2[\"default\"])(this, RpcClient);\n    _this = _super.call(this, uriString);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"netWork\", void 0);\n    _this.netWork = netWork || \"mainnet\";\n    return _this;\n  }\n  /**\n   * The RPC broadcast delegate broadcasts a transaction via RPC. This is intended for optional use as BncClient's broadcast delegate.\n   * @param {Transaction} signedTx the signed transaction\n   * @return {Promise}\n   */\n\n\n  (0, _createClass2[\"default\"])(RpcClient, [{\n    key: \"broadcastDelegate\",\n    value: function () {\n      var _broadcastDelegate = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(signedTx) {\n        var encoded, res;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // amino encode the signed TX\n                encoded = signedTx.serialize(); // broadcast it via RPC; we have to use a promise here because that's\n                // what the BncClient expects as the return value of this function.\n\n                _context.next = 3;\n                return this.broadcastTxSync({\n                  tx: Buffer.from(encoded, \"hex\")\n                });\n\n              case 3:\n                res = _context.sent;\n\n                if (!(\"\".concat(res.code) === \"0\")) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res);\n\n              case 8:\n                throw new Error(\"broadcastDelegate: non-zero status code \".concat(res.code));\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function broadcastDelegate(_x) {\n        return _broadcastDelegate.apply(this, arguments);\n      }\n\n      return broadcastDelegate;\n    }()\n  }, {\n    key: \"getBech32Prefix\",\n    value: function getBech32Prefix() {\n      if (this.netWork === \"mainnet\") {\n        return \"bnb\";\n      }\n\n      if (this.netWork === \"testnet\") {\n        return \"tbnb\";\n      }\n\n      return \"\";\n    }\n    /**\n     * @param {String} symbol - required\n     * @returns {Object} token detail info\n     */\n\n  }, {\n    key: \"getTokenInfo\",\n    value: function () {\n      var _getTokenInfo = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(symbol) {\n        var path, res, bytes, tokenInfo, bech32Prefix, ownerAddress;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                (0, _utils.validateSymbol)(symbol);\n                path = \"/tokens/info/\" + symbol;\n                _context2.next = 4;\n                return this.abciQuery({\n                  path: path\n                });\n\n              case 4:\n                res = _context2.sent;\n                bytes = Buffer.from(res.response.value, \"base64\");\n                tokenInfo = new _types.Token();\n                (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, tokenInfo);\n                bech32Prefix = this.getBech32Prefix();\n                ownerAddress = crypto.encodeAddress(tokenInfo.owner, bech32Prefix);\n                delete tokenInfo.aminoPrefix; //TODO all the result contains aminoPrefix, need to improve\n\n                return _context2.abrupt(\"return\", _objectSpread(_objectSpread({}, tokenInfo), {}, {\n                  owner: ownerAddress\n                }));\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getTokenInfo(_x2) {\n        return _getTokenInfo.apply(this, arguments);\n      }\n\n      return getTokenInfo;\n    }()\n    /**\n     * get tokens by offset and limit\n     * @param {Number} offset\n     * @param {Number} limit\n     * @returns {Array} token list\n     */\n\n  }, {\n    key: \"listAllTokens\",\n    value: function () {\n      var _listAllTokens = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(offset, limit) {\n        var _this2 = this;\n\n        var path, res, bytes, tokenArr, _unMarshalBinaryLengt, tokenList;\n\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                (0, _utils.validateOffsetLimit)(offset, limit);\n                path = \"tokens/list/\".concat(offset, \"/\").concat(limit);\n                _context3.next = 4;\n                return this.abciQuery({\n                  path: path\n                });\n\n              case 4:\n                res = _context3.sent;\n                bytes = Buffer.from(res.response.value, \"base64\");\n                tokenArr = [new _types.TokenOfList()];\n                _unMarshalBinaryLengt = (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, tokenArr), tokenList = _unMarshalBinaryLengt.val;\n                (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, tokenList);\n                return _context3.abrupt(\"return\", tokenList.map(function (item) {\n                  return _objectSpread(_objectSpread({}, item), {}, {\n                    owner: crypto.encodeAddress(item.owner, _this2.getBech32Prefix())\n                  });\n                }));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function listAllTokens(_x3, _x4) {\n        return _listAllTokens.apply(this, arguments);\n      }\n\n      return listAllTokens;\n    }()\n    /**\n     * @param {String} address\n     * @returns {Object} Account info\n     */\n\n  }, {\n    key: \"getAccount\",\n    value: function () {\n      var _getAccount = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(address) {\n        var res, accountInfo, bytes, bech32Prefix;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.abciQuery({\n                  path: \"/account/\".concat(address)\n                });\n\n              case 2:\n                res = _context4.sent;\n                accountInfo = new _types.AppAccount();\n                bytes = Buffer.from(res.response.value, \"base64\");\n                (0, _amino.unMarshalBinaryBare)(bytes, accountInfo);\n                bech32Prefix = this.getBech32Prefix();\n                return _context4.abrupt(\"return\", {\n                  name: accountInfo.name,\n                  locked: accountInfo.locked,\n                  frozen: accountInfo.frozen,\n                  base: _objectSpread(_objectSpread({}, accountInfo.base), {}, {\n                    address: crypto.encodeAddress(accountInfo.base.address, bech32Prefix)\n                  })\n                });\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getAccount(_x5) {\n        return _getAccount.apply(this, arguments);\n      }\n\n      return getAccount;\n    }()\n    /**\n     * @param {Array} balances\n     */\n\n  }, {\n    key: \"getBalances\",\n    value: function () {\n      var _getBalances = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(address) {\n        var account, coins, balances;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.getAccount(address);\n\n              case 2:\n                account = _context5.sent;\n                coins = [];\n                balances = [];\n\n                if (account) {\n                  coins = account.base && account.base.coins || [];\n                  (0, _utils.convertObjectArrayNum)(coins, [\"amount\"]);\n                  (0, _utils.convertObjectArrayNum)(account.locked, [\"amount\"]);\n                  (0, _utils.convertObjectArrayNum)(account.frozen, [\"amount\"]);\n                }\n\n                coins.forEach(function (item) {\n                  var locked = account.locked.find(function (lockedItem) {\n                    return item.denom === lockedItem.denom;\n                  }) || {};\n                  var frozen = account.frozen.find(function (frozenItem) {\n                    return item.denom === frozenItem.denom;\n                  }) || {};\n                  var bal = new _types.TokenBalance();\n                  bal.symbol = item.denom;\n                  bal.free = +new _big.Big(item.amount).toString();\n                  bal.locked = locked.amount || 0;\n                  bal.frozen = frozen.amount || 0;\n                  balances.push(bal);\n                });\n                return _context5.abrupt(\"return\", balances);\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getBalances(_x6) {\n        return _getBalances.apply(this, arguments);\n      }\n\n      return getBalances;\n    }()\n    /**\n     * get balance by symbol and address\n     * @param {String} address\n     * @param {String} symbol\n     * @returns {Object}\n     */\n\n  }, {\n    key: \"getBalance\",\n    value: function () {\n      var _getBalance = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(address, symbol) {\n        var balances, bal;\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                (0, _utils.validateSymbol)(symbol);\n                _context6.next = 3;\n                return this.getBalances(address);\n\n              case 3:\n                balances = _context6.sent;\n                bal = balances.find(function (item) {\n                  return item.symbol.toUpperCase() === symbol.toUpperCase();\n                });\n                return _context6.abrupt(\"return\", bal);\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getBalance(_x7, _x8) {\n        return _getBalance.apply(this, arguments);\n      }\n\n      return getBalance;\n    }()\n    /**\n     * @param {String} address\n     * @param {String} symbol\n     * @returns {Object}\n     */\n\n  }, {\n    key: \"getOpenOrders\",\n    value: function () {\n      var _getOpenOrders = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(address, symbol) {\n        var path, res, bytes, result, _unMarshalBinaryLengt2, openOrders;\n\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                path = \"/dex/openorders/\".concat(symbol, \"/\").concat(address);\n                _context7.next = 3;\n                return this.abciQuery({\n                  path: path\n                });\n\n              case 3:\n                res = _context7.sent;\n                bytes = Buffer.from(res.response.value, \"base64\");\n                result = [new _types.OpenOrder()];\n                _unMarshalBinaryLengt2 = (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, result), openOrders = _unMarshalBinaryLengt2.val;\n                (0, _utils.convertObjectArrayNum)(openOrders, [\"price\", \"quantity\", \"cumQty\"]);\n                return _context7.abrupt(\"return\", openOrders);\n\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getOpenOrders(_x9, _x10) {\n        return _getOpenOrders.apply(this, arguments);\n      }\n\n      return getOpenOrders;\n    }()\n    /**\n     * @param {Number} offset\n     * @param {Number} limit\n     * @returns {Array}\n     */\n\n  }, {\n    key: \"getTradingPairs\",\n    value: function () {\n      var _getTradingPairs = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(offset, limit) {\n        var path, res, bytes, result, _unMarshalBinaryLengt3, tradingPairs;\n\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                (0, _utils.validateOffsetLimit)(offset, limit);\n                path = \"/dex/pairs/\".concat(offset, \"/\").concat(limit);\n                _context8.next = 4;\n                return this.abciQuery({\n                  path: path\n                });\n\n              case 4:\n                res = _context8.sent;\n                bytes = Buffer.from(res.response.value, \"base64\");\n                result = [new _types.TradingPair()];\n                _unMarshalBinaryLengt3 = (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, result), tradingPairs = _unMarshalBinaryLengt3.val;\n                (0, _utils.convertObjectArrayNum)(tradingPairs, [\"list_price\", \"tick_size\", \"lot_size\"]);\n                return _context8.abrupt(\"return\", tradingPairs);\n\n              case 10:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getTradingPairs(_x11, _x12) {\n        return _getTradingPairs.apply(this, arguments);\n      }\n\n      return getTradingPairs;\n    }()\n    /**\n     * @param {String} tradePair\n     * @returns {Array}\n     */\n\n  }, {\n    key: \"getDepth\",\n    value: function () {\n      var _getDepth = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(tradePair) {\n        var path, res, bytes, result, _unMarshalBinaryLengt4, depth;\n\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                (0, _utils.validateTradingPair)(tradePair);\n                path = \"dex/orderbook/\".concat(tradePair);\n                _context9.next = 4;\n                return this.abciQuery({\n                  path: path\n                });\n\n              case 4:\n                res = _context9.sent;\n                bytes = Buffer.from(res.response.value, \"base64\");\n                result = new _types.OrderBook();\n                _unMarshalBinaryLengt4 = (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, result), depth = _unMarshalBinaryLengt4.val;\n                (0, _utils.convertObjectArrayNum)(depth.levels, [\"buyQty\", \"buyPrice\", \"sellQty\", \"sellPrice\"]);\n                return _context9.abrupt(\"return\", depth);\n\n              case 10:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getDepth(_x13) {\n        return _getDepth.apply(this, arguments);\n      }\n\n      return getDepth;\n    }()\n  }, {\n    key: \"getTxByHash\",\n    value: function () {\n      var _getTxByHash = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(hash) {\n        var prove,\n            res,\n            txBytes,\n            msgAminoPrefix,\n            msgType,\n            type,\n            _unMarshalBinaryLengt5,\n            result,\n            txResult,\n            _args10 = arguments;\n\n        return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                prove = _args10.length > 1 && _args10[1] !== undefined ? _args10[1] : true;\n\n                if (!Buffer.isBuffer(hash)) {\n                  hash = Buffer.from(hash, \"hex\");\n                }\n\n                _context10.next = 4;\n                return this.tx({\n                  hash: hash,\n                  prove: prove\n                });\n\n              case 4:\n                res = _context10.sent;\n                txBytes = Buffer.from(res.tx, \"base64\");\n                msgAminoPrefix = txBytes.slice(8, 12).toString(\"hex\");\n                msgType = (0, _utils.getMsgByAminoPrefix)(msgAminoPrefix);\n                type = {\n                  msg: [msgType.defaultMsg()],\n                  signatures: [{\n                    pub_key: Buffer.from(\"\"),\n                    signature: Buffer.from(\"\"),\n                    account_number: 0,\n                    sequence: 0\n                  }],\n                  memo: \"\",\n                  source: 0,\n                  data: \"\",\n                  aminoPrefix: _types.AminoPrefix.StdTx\n                };\n                _unMarshalBinaryLengt5 = (0, _amino.unMarshalBinaryLengthPrefixed)(txBytes, type), result = _unMarshalBinaryLengt5.val;\n                txResult = this.parseTxResult(res.tx_result); //TODO remove aminoPrefix\n\n                return _context10.abrupt(\"return\", _objectSpread(_objectSpread({}, res), {}, {\n                  tx: result,\n                  tx_result: txResult\n                }));\n\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function getTxByHash(_x14) {\n        return _getTxByHash.apply(this, arguments);\n      }\n\n      return getTxByHash;\n    }()\n  }, {\n    key: \"parseTxResult\",\n    value: function parseTxResult(txResult) {\n      if (txResult.data) {\n        txResult.data = Buffer.from(txResult.data, \"base64\").toString();\n      }\n\n      if (txResult.events && txResult.events.length > 0) {\n        for (var i = 0; i < txResult.events.length; i++) {\n          var event = txResult.events[i];\n\n          if (event.attributes && event.attributes.length > 0) {\n            event.attributes = event.attributes.map(function (item) {\n              return {\n                key: Buffer.from(item.key, \"base64\").toString(),\n                value: Buffer.from(item.value, \"base64\").toString()\n              };\n            });\n          }\n        }\n      }\n\n      if (txResult.tags && txResult.tags.length > 0) {\n        txResult.tags = txResult.tags.map(function (item) {\n          return {\n            key: Buffer.from(item.key, \"base64\").toString(),\n            value: Buffer.from(item.value, \"base64\").toString()\n          };\n        });\n      }\n\n      return _objectSpread({}, txResult);\n    }\n  }]);\n  return RpcClient;\n}(_baseRpc[\"default\"]);\n\nvar _default = RpcClient;\nexports[\"default\"] = _default;","map":{"version":3,"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_regenerator","_asyncToGenerator2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_big","_amino","crypto","_types","_utils","_baseRpc","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","RpcClient","_BaseRpc","_super","_this","uriString","undefined","netWork","_broadcastDelegate","mark","_callee","signedTx","encoded","res","wrap","_callee$","_context","prev","next","serialize","broadcastTxSync","tx","Buffer","from","sent","concat","code","abrupt","Error","stop","broadcastDelegate","_x","getBech32Prefix","_getTokenInfo","_callee2","symbol","path","bytes","tokenInfo","bech32Prefix","ownerAddress","_callee2$","_context2","validateSymbol","abciQuery","response","Token","unMarshalBinaryLengthPrefixed","encodeAddress","owner","aminoPrefix","getTokenInfo","_x2","_listAllTokens","_callee3","offset","limit","_this2","tokenArr","_unMarshalBinaryLengt","tokenList","_callee3$","_context3","validateOffsetLimit","TokenOfList","val","map","item","listAllTokens","_x3","_x4","_getAccount","_callee4","address","accountInfo","_callee4$","_context4","AppAccount","unMarshalBinaryBare","name","locked","frozen","base","getAccount","_x5","_getBalances","_callee5","account","coins","balances","_callee5$","_context5","convertObjectArrayNum","find","lockedItem","denom","frozenItem","bal","TokenBalance","free","Big","amount","getBalances","_x6","_getBalance","_callee6","_callee6$","_context6","toUpperCase","getBalance","_x7","_x8","_getOpenOrders","_callee7","_unMarshalBinaryLengt2","openOrders","_callee7$","_context7","OpenOrder","getOpenOrders","_x9","_x10","_getTradingPairs","_callee8","_unMarshalBinaryLengt3","tradingPairs","_callee8$","_context8","TradingPair","getTradingPairs","_x11","_x12","_getDepth","_callee9","tradePair","_unMarshalBinaryLengt4","depth","_callee9$","_context9","validateTradingPair","OrderBook","levels","getDepth","_x13","_getTxByHash","_callee10","hash","prove","txBytes","msgAminoPrefix","msgType","type","_unMarshalBinaryLengt5","txResult","_args10","_callee10$","_context10","isBuffer","slice","getMsgByAminoPrefix","msg","defaultMsg","signatures","pub_key","signature","account_number","sequence","memo","data","AminoPrefix","StdTx","parseTxResult","tx_result","getTxByHash","_x14","events","event","attributes","tags","_default"],"sources":["C:/Users/acer/node_modules/@binance-chain/javascript-sdk/lib/rpc/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _big = require(\"big.js\");\n\nvar _amino = require(\"../amino\");\n\nvar crypto = _interopRequireWildcard(require(\"../crypto\"));\n\nvar _types = require(\"../types\");\n\nvar _utils = require(\"../utils\");\n\nvar _baseRpc = _interopRequireDefault(require(\"./baseRpc\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * The Binance Chain Node rpc client\n */\nvar RpcClient = /*#__PURE__*/function (_BaseRpc) {\n  (0, _inherits2[\"default\"])(RpcClient, _BaseRpc);\n\n  var _super = _createSuper(RpcClient);\n\n  /**\n   * @param {String} uriString dataseed address\n   * @param {String} netWork Binance Chain network\n   */\n  function RpcClient() {\n    var _this;\n\n    var uriString = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"localhost:27146\";\n    var netWork = arguments.length > 1 ? arguments[1] : undefined;\n    (0, _classCallCheck2[\"default\"])(this, RpcClient);\n    _this = _super.call(this, uriString);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"netWork\", void 0);\n    _this.netWork = netWork || \"mainnet\";\n    return _this;\n  }\n  /**\n   * The RPC broadcast delegate broadcasts a transaction via RPC. This is intended for optional use as BncClient's broadcast delegate.\n   * @param {Transaction} signedTx the signed transaction\n   * @return {Promise}\n   */\n\n\n  (0, _createClass2[\"default\"])(RpcClient, [{\n    key: \"broadcastDelegate\",\n    value: function () {\n      var _broadcastDelegate = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(signedTx) {\n        var encoded, res;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // amino encode the signed TX\n                encoded = signedTx.serialize(); // broadcast it via RPC; we have to use a promise here because that's\n                // what the BncClient expects as the return value of this function.\n\n                _context.next = 3;\n                return this.broadcastTxSync({\n                  tx: Buffer.from(encoded, \"hex\")\n                });\n\n              case 3:\n                res = _context.sent;\n\n                if (!(\"\".concat(res.code) === \"0\")) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", res);\n\n              case 8:\n                throw new Error(\"broadcastDelegate: non-zero status code \".concat(res.code));\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function broadcastDelegate(_x) {\n        return _broadcastDelegate.apply(this, arguments);\n      }\n\n      return broadcastDelegate;\n    }()\n  }, {\n    key: \"getBech32Prefix\",\n    value: function getBech32Prefix() {\n      if (this.netWork === \"mainnet\") {\n        return \"bnb\";\n      }\n\n      if (this.netWork === \"testnet\") {\n        return \"tbnb\";\n      }\n\n      return \"\";\n    }\n    /**\n     * @param {String} symbol - required\n     * @returns {Object} token detail info\n     */\n\n  }, {\n    key: \"getTokenInfo\",\n    value: function () {\n      var _getTokenInfo = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(symbol) {\n        var path, res, bytes, tokenInfo, bech32Prefix, ownerAddress;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                (0, _utils.validateSymbol)(symbol);\n                path = \"/tokens/info/\" + symbol;\n                _context2.next = 4;\n                return this.abciQuery({\n                  path: path\n                });\n\n              case 4:\n                res = _context2.sent;\n                bytes = Buffer.from(res.response.value, \"base64\");\n                tokenInfo = new _types.Token();\n                (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, tokenInfo);\n                bech32Prefix = this.getBech32Prefix();\n                ownerAddress = crypto.encodeAddress(tokenInfo.owner, bech32Prefix);\n                delete tokenInfo.aminoPrefix; //TODO all the result contains aminoPrefix, need to improve\n\n                return _context2.abrupt(\"return\", _objectSpread(_objectSpread({}, tokenInfo), {}, {\n                  owner: ownerAddress\n                }));\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getTokenInfo(_x2) {\n        return _getTokenInfo.apply(this, arguments);\n      }\n\n      return getTokenInfo;\n    }()\n    /**\n     * get tokens by offset and limit\n     * @param {Number} offset\n     * @param {Number} limit\n     * @returns {Array} token list\n     */\n\n  }, {\n    key: \"listAllTokens\",\n    value: function () {\n      var _listAllTokens = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(offset, limit) {\n        var _this2 = this;\n\n        var path, res, bytes, tokenArr, _unMarshalBinaryLengt, tokenList;\n\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                (0, _utils.validateOffsetLimit)(offset, limit);\n                path = \"tokens/list/\".concat(offset, \"/\").concat(limit);\n                _context3.next = 4;\n                return this.abciQuery({\n                  path: path\n                });\n\n              case 4:\n                res = _context3.sent;\n                bytes = Buffer.from(res.response.value, \"base64\");\n                tokenArr = [new _types.TokenOfList()];\n                _unMarshalBinaryLengt = (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, tokenArr), tokenList = _unMarshalBinaryLengt.val;\n                (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, tokenList);\n                return _context3.abrupt(\"return\", tokenList.map(function (item) {\n                  return _objectSpread(_objectSpread({}, item), {}, {\n                    owner: crypto.encodeAddress(item.owner, _this2.getBech32Prefix())\n                  });\n                }));\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function listAllTokens(_x3, _x4) {\n        return _listAllTokens.apply(this, arguments);\n      }\n\n      return listAllTokens;\n    }()\n    /**\n     * @param {String} address\n     * @returns {Object} Account info\n     */\n\n  }, {\n    key: \"getAccount\",\n    value: function () {\n      var _getAccount = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(address) {\n        var res, accountInfo, bytes, bech32Prefix;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.abciQuery({\n                  path: \"/account/\".concat(address)\n                });\n\n              case 2:\n                res = _context4.sent;\n                accountInfo = new _types.AppAccount();\n                bytes = Buffer.from(res.response.value, \"base64\");\n                (0, _amino.unMarshalBinaryBare)(bytes, accountInfo);\n                bech32Prefix = this.getBech32Prefix();\n                return _context4.abrupt(\"return\", {\n                  name: accountInfo.name,\n                  locked: accountInfo.locked,\n                  frozen: accountInfo.frozen,\n                  base: _objectSpread(_objectSpread({}, accountInfo.base), {}, {\n                    address: crypto.encodeAddress(accountInfo.base.address, bech32Prefix)\n                  })\n                });\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getAccount(_x5) {\n        return _getAccount.apply(this, arguments);\n      }\n\n      return getAccount;\n    }()\n    /**\n     * @param {Array} balances\n     */\n\n  }, {\n    key: \"getBalances\",\n    value: function () {\n      var _getBalances = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(address) {\n        var account, coins, balances;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.getAccount(address);\n\n              case 2:\n                account = _context5.sent;\n                coins = [];\n                balances = [];\n\n                if (account) {\n                  coins = account.base && account.base.coins || [];\n                  (0, _utils.convertObjectArrayNum)(coins, [\"amount\"]);\n                  (0, _utils.convertObjectArrayNum)(account.locked, [\"amount\"]);\n                  (0, _utils.convertObjectArrayNum)(account.frozen, [\"amount\"]);\n                }\n\n                coins.forEach(function (item) {\n                  var locked = account.locked.find(function (lockedItem) {\n                    return item.denom === lockedItem.denom;\n                  }) || {};\n                  var frozen = account.frozen.find(function (frozenItem) {\n                    return item.denom === frozenItem.denom;\n                  }) || {};\n                  var bal = new _types.TokenBalance();\n                  bal.symbol = item.denom;\n                  bal.free = +new _big.Big(item.amount).toString();\n                  bal.locked = locked.amount || 0;\n                  bal.frozen = frozen.amount || 0;\n                  balances.push(bal);\n                });\n                return _context5.abrupt(\"return\", balances);\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getBalances(_x6) {\n        return _getBalances.apply(this, arguments);\n      }\n\n      return getBalances;\n    }()\n    /**\n     * get balance by symbol and address\n     * @param {String} address\n     * @param {String} symbol\n     * @returns {Object}\n     */\n\n  }, {\n    key: \"getBalance\",\n    value: function () {\n      var _getBalance = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(address, symbol) {\n        var balances, bal;\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                (0, _utils.validateSymbol)(symbol);\n                _context6.next = 3;\n                return this.getBalances(address);\n\n              case 3:\n                balances = _context6.sent;\n                bal = balances.find(function (item) {\n                  return item.symbol.toUpperCase() === symbol.toUpperCase();\n                });\n                return _context6.abrupt(\"return\", bal);\n\n              case 6:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getBalance(_x7, _x8) {\n        return _getBalance.apply(this, arguments);\n      }\n\n      return getBalance;\n    }()\n    /**\n     * @param {String} address\n     * @param {String} symbol\n     * @returns {Object}\n     */\n\n  }, {\n    key: \"getOpenOrders\",\n    value: function () {\n      var _getOpenOrders = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(address, symbol) {\n        var path, res, bytes, result, _unMarshalBinaryLengt2, openOrders;\n\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                path = \"/dex/openorders/\".concat(symbol, \"/\").concat(address);\n                _context7.next = 3;\n                return this.abciQuery({\n                  path: path\n                });\n\n              case 3:\n                res = _context7.sent;\n                bytes = Buffer.from(res.response.value, \"base64\");\n                result = [new _types.OpenOrder()];\n                _unMarshalBinaryLengt2 = (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, result), openOrders = _unMarshalBinaryLengt2.val;\n                (0, _utils.convertObjectArrayNum)(openOrders, [\"price\", \"quantity\", \"cumQty\"]);\n                return _context7.abrupt(\"return\", openOrders);\n\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getOpenOrders(_x9, _x10) {\n        return _getOpenOrders.apply(this, arguments);\n      }\n\n      return getOpenOrders;\n    }()\n    /**\n     * @param {Number} offset\n     * @param {Number} limit\n     * @returns {Array}\n     */\n\n  }, {\n    key: \"getTradingPairs\",\n    value: function () {\n      var _getTradingPairs = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(offset, limit) {\n        var path, res, bytes, result, _unMarshalBinaryLengt3, tradingPairs;\n\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                (0, _utils.validateOffsetLimit)(offset, limit);\n                path = \"/dex/pairs/\".concat(offset, \"/\").concat(limit);\n                _context8.next = 4;\n                return this.abciQuery({\n                  path: path\n                });\n\n              case 4:\n                res = _context8.sent;\n                bytes = Buffer.from(res.response.value, \"base64\");\n                result = [new _types.TradingPair()];\n                _unMarshalBinaryLengt3 = (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, result), tradingPairs = _unMarshalBinaryLengt3.val;\n                (0, _utils.convertObjectArrayNum)(tradingPairs, [\"list_price\", \"tick_size\", \"lot_size\"]);\n                return _context8.abrupt(\"return\", tradingPairs);\n\n              case 10:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getTradingPairs(_x11, _x12) {\n        return _getTradingPairs.apply(this, arguments);\n      }\n\n      return getTradingPairs;\n    }()\n    /**\n     * @param {String} tradePair\n     * @returns {Array}\n     */\n\n  }, {\n    key: \"getDepth\",\n    value: function () {\n      var _getDepth = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(tradePair) {\n        var path, res, bytes, result, _unMarshalBinaryLengt4, depth;\n\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                (0, _utils.validateTradingPair)(tradePair);\n                path = \"dex/orderbook/\".concat(tradePair);\n                _context9.next = 4;\n                return this.abciQuery({\n                  path: path\n                });\n\n              case 4:\n                res = _context9.sent;\n                bytes = Buffer.from(res.response.value, \"base64\");\n                result = new _types.OrderBook();\n                _unMarshalBinaryLengt4 = (0, _amino.unMarshalBinaryLengthPrefixed)(bytes, result), depth = _unMarshalBinaryLengt4.val;\n                (0, _utils.convertObjectArrayNum)(depth.levels, [\"buyQty\", \"buyPrice\", \"sellQty\", \"sellPrice\"]);\n                return _context9.abrupt(\"return\", depth);\n\n              case 10:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getDepth(_x13) {\n        return _getDepth.apply(this, arguments);\n      }\n\n      return getDepth;\n    }()\n  }, {\n    key: \"getTxByHash\",\n    value: function () {\n      var _getTxByHash = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(hash) {\n        var prove,\n            res,\n            txBytes,\n            msgAminoPrefix,\n            msgType,\n            type,\n            _unMarshalBinaryLengt5,\n            result,\n            txResult,\n            _args10 = arguments;\n\n        return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                prove = _args10.length > 1 && _args10[1] !== undefined ? _args10[1] : true;\n\n                if (!Buffer.isBuffer(hash)) {\n                  hash = Buffer.from(hash, \"hex\");\n                }\n\n                _context10.next = 4;\n                return this.tx({\n                  hash: hash,\n                  prove: prove\n                });\n\n              case 4:\n                res = _context10.sent;\n                txBytes = Buffer.from(res.tx, \"base64\");\n                msgAminoPrefix = txBytes.slice(8, 12).toString(\"hex\");\n                msgType = (0, _utils.getMsgByAminoPrefix)(msgAminoPrefix);\n                type = {\n                  msg: [msgType.defaultMsg()],\n                  signatures: [{\n                    pub_key: Buffer.from(\"\"),\n                    signature: Buffer.from(\"\"),\n                    account_number: 0,\n                    sequence: 0\n                  }],\n                  memo: \"\",\n                  source: 0,\n                  data: \"\",\n                  aminoPrefix: _types.AminoPrefix.StdTx\n                };\n                _unMarshalBinaryLengt5 = (0, _amino.unMarshalBinaryLengthPrefixed)(txBytes, type), result = _unMarshalBinaryLengt5.val;\n                txResult = this.parseTxResult(res.tx_result); //TODO remove aminoPrefix\n\n                return _context10.abrupt(\"return\", _objectSpread(_objectSpread({}, res), {}, {\n                  tx: result,\n                  tx_result: txResult\n                }));\n\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function getTxByHash(_x14) {\n        return _getTxByHash.apply(this, arguments);\n      }\n\n      return getTxByHash;\n    }()\n  }, {\n    key: \"parseTxResult\",\n    value: function parseTxResult(txResult) {\n      if (txResult.data) {\n        txResult.data = Buffer.from(txResult.data, \"base64\").toString();\n      }\n\n      if (txResult.events && txResult.events.length > 0) {\n        for (var i = 0; i < txResult.events.length; i++) {\n          var event = txResult.events[i];\n\n          if (event.attributes && event.attributes.length > 0) {\n            event.attributes = event.attributes.map(function (item) {\n              return {\n                key: Buffer.from(item.key, \"base64\").toString(),\n                value: Buffer.from(item.value, \"base64\").toString()\n              };\n            });\n          }\n        }\n      }\n\n      if (txResult.tags && txResult.tags.length > 0) {\n        txResult.tags = txResult.tags.map(function (item) {\n          return {\n            key: Buffer.from(item.key, \"base64\").toString(),\n            value: Buffer.from(item.value, \"base64\").toString()\n          };\n        });\n      }\n\n      return _objectSpread({}, txResult);\n    }\n  }]);\n  return RpcClient;\n}(_baseRpc[\"default\"]);\n\nvar _default = RpcClient;\nexports[\"default\"] = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}