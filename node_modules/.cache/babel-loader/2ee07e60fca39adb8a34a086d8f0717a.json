{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Token = exports.TokenType = void 0;\n\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\n\nconst address_1 = require(\"./address\");\n\nvar TokenType;\n\n(function (TokenType) {\n  TokenType[TokenType[\"Fungible\"] = 0] = \"Fungible\";\n  TokenType[TokenType[\"Semifungible\"] = 1] = \"Semifungible\";\n  TokenType[TokenType[\"Nonfungible\"] = 2] = \"Nonfungible\";\n})(TokenType = exports.TokenType || (exports.TokenType = {}));\n\nclass Token {\n  constructor(init) {\n    this.identifier = ''; // Token identifier (ticker + random string, eg. MYTOKEN-12345)\n\n    this.name = ''; // Token name (eg. MyTokenName123)\n\n    this.type = TokenType.Fungible;\n    this.owner = new address_1.Address();\n    this.minted = new bignumber_js_1.default(0);\n    this.burnt = new bignumber_js_1.default(0);\n    this.decimals = 18;\n    this.isPaused = false;\n    this.canUpgrade = false;\n    this.canMint = false;\n    this.canBurn = false;\n    this.canChangeOwner = false;\n    this.canPause = false;\n    this.canFreeze = false;\n    this.canWipe = false;\n    this.canAddSpecialRoles = false;\n    this.canTransferNftCreateRole = false;\n    this.nftCreateStopped = false;\n    this.wiped = false;\n    Object.assign(this, init);\n  }\n\n  static fromHttpResponse(response) {\n    return new Token({\n      identifier: response.token,\n      name: response.name,\n      type: TokenType[response.type],\n      owner: new address_1.Address(response.owner),\n      minted: new bignumber_js_1.default(response.minted),\n      burnt: new bignumber_js_1.default(response.burnt),\n      decimals: response.decimals,\n      isPaused: response.isPaused,\n      canUpgrade: response.canUpgrade,\n      canMint: response.canMint,\n      canBurn: response.canBurn,\n      canChangeOwner: response.canChangeOwner,\n      canPause: response.canPause,\n      canFreeze: response.canFreeze,\n      canWipe: response.canWipe\n    });\n  }\n\n  static fromTokenProperties(tokenIdentifier, results) {\n    let [tokenName, tokenType, owner, totalMinted, totalBurned, ...propertiesBuffers] = results;\n    let properties = parseTokenProperties(propertiesBuffers);\n    return new Token({\n      identifier: tokenIdentifier,\n      type: TokenType[tokenType.toString()],\n      name: tokenName.toString(),\n      owner,\n      minted: new bignumber_js_1.default(totalMinted),\n      burnt: new bignumber_js_1.default(totalBurned),\n      decimals: properties.NumDecimals.toNumber(),\n      isPaused: properties.IsPaused,\n      canUpgrade: properties.CanUpgrade,\n      canMint: properties.CanMint,\n      canBurn: properties.CanBurn,\n      canChangeOwner: properties.CanChangeOwner,\n      canPause: properties.CanPause,\n      canFreeze: properties.CanFreeze,\n      canWipe: properties.CanWipe,\n      canAddSpecialRoles: properties.CanAddSpecialRoles,\n      canTransferNftCreateRole: properties.CanTransferNFTCreateRole,\n      nftCreateStopped: properties.NFTCreateStopped,\n      wiped: properties.NumWiped\n    });\n  }\n\n  getTokenName() {\n    return this.name;\n  }\n\n  typeAsString() {\n    return TokenType[this.type];\n  }\n\n  getTokenIdentifier() {\n    return this.identifier;\n  }\n\n  isEgld() {\n    return this.getTokenIdentifier() == \"EGLD\";\n  }\n\n  isFungible() {\n    return !this.isNft();\n  }\n\n  isNft() {\n    switch (this.type) {\n      case TokenType.Fungible:\n        return false;\n\n      case TokenType.Semifungible:\n      case TokenType.Nonfungible:\n        return true;\n    }\n  }\n\n}\n\nexports.Token = Token;\n\nfunction parseValue(value) {\n  switch (value) {\n    case \"true\":\n      return true;\n\n    case \"false\":\n      return false;\n\n    default:\n      return new bignumber_js_1.default(value);\n  }\n}\n\nfunction parseTokenProperties(propertiesBuffers) {\n  let properties = {};\n\n  for (let buffer of propertiesBuffers) {\n    let [name, value] = buffer.toString().split(\"-\");\n    properties[name] = parseValue(value);\n  }\n\n  return properties;\n}","map":{"version":3,"mappings":"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","names":["TokenType","exports","Token","constructor","init","Fungible","address_1","bignumber_js_1","Object","assign","fromHttpResponse","response","identifier","token","name","type","owner","minted","burnt","decimals","isPaused","canUpgrade","canMint","canBurn","canChangeOwner","canPause","canFreeze","canWipe","fromTokenProperties","tokenIdentifier","results","tokenName","tokenType","totalMinted","totalBurned","propertiesBuffers","properties","parseTokenProperties","toString","NumDecimals","toNumber","IsPaused","CanUpgrade","CanMint","CanBurn","CanChangeOwner","CanPause","CanFreeze","CanWipe","canAddSpecialRoles","CanAddSpecialRoles","canTransferNftCreateRole","CanTransferNFTCreateRole","nftCreateStopped","NFTCreateStopped","wiped","NumWiped","getTokenName","typeAsString","getTokenIdentifier","isEgld","isFungible","isNft","Semifungible","Nonfungible","parseValue","value","buffer","split"],"sourceRoot":"","sources":["../src/token.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}