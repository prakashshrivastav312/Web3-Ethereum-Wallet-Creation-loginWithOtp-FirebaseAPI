{"ast":null,"code":"'use strict';\n\nmodule.exports = {\n  _cache: {},\n  _count: 0,\n  _eraseIndex: 0,\n  _usedList: {},\n  _usedIndex: {},\n  _CACHE_SIZE: 5000,\n  get: function (xkey, number, hardened) {\n    hardened = !!hardened;\n    var key = xkey + '/' + number + '/' + hardened;\n\n    if (this._cache[key]) {\n      this._cacheHit(key);\n\n      return this._cache[key];\n    }\n  },\n  set: function (xkey, number, hardened, derived) {\n    hardened = !!hardened;\n    var key = xkey + '/' + number + '/' + hardened;\n    this._cache[key] = derived;\n\n    this._cacheHit(key);\n  },\n  _cacheHit: function (key) {\n    if (this._usedIndex[key]) {\n      delete this._usedList[this._usedIndex[key]];\n    }\n\n    this._usedList[this._count] = key;\n    this._usedIndex[key] = this._count;\n    this._count++;\n\n    this._cacheRemove();\n  },\n  _cacheRemove: function () {\n    while (this._eraseIndex < this._count - this._CACHE_SIZE) {\n      if (this._usedList[this._eraseIndex]) {\n        var removeKey = this._usedList[this._eraseIndex];\n        delete this._usedIndex[removeKey];\n        delete this._cache[removeKey];\n      }\n\n      delete this._usedList[this._eraseIndex];\n      this._eraseIndex++;\n    }\n  }\n};","map":{"version":3,"names":["module","exports","_cache","_count","_eraseIndex","_usedList","_usedIndex","_CACHE_SIZE","get","xkey","number","hardened","key","_cacheHit","set","derived","_cacheRemove","removeKey"],"sources":["C:/Users/acer/node_modules/bitcore-lib-doge/lib/hdkeycache.js"],"sourcesContent":["'use strict';\n\nmodule.exports = {\n  _cache: {},\n  _count: 0,\n  _eraseIndex: 0,\n  _usedList: {},\n  _usedIndex: {},\n  _CACHE_SIZE: 5000,\n\n  get: function(xkey, number, hardened) {\n    hardened = !!hardened;\n    var key = xkey + '/' + number + '/' + hardened;\n    if (this._cache[key]) {\n      this._cacheHit(key);\n      return this._cache[key];\n    }\n  },\n  set: function(xkey, number, hardened, derived) {\n    hardened = !!hardened;\n    var key = xkey + '/' + number + '/' + hardened;\n    this._cache[key] = derived;\n    this._cacheHit(key);\n  },\n  _cacheHit: function(key) {\n    if (this._usedIndex[key]) {\n      delete this._usedList[this._usedIndex[key]];\n    }\n    this._usedList[this._count] = key;\n    this._usedIndex[key] = this._count;\n    this._count++;\n    this._cacheRemove();\n  },\n  _cacheRemove: function() {\n    while (this._eraseIndex < this._count - this._CACHE_SIZE) {\n      if (this._usedList[this._eraseIndex]) {\n        var removeKey = this._usedList[this._eraseIndex];\n        delete this._usedIndex[removeKey];\n        delete this._cache[removeKey];\n      }\n      delete this._usedList[this._eraseIndex];\n      this._eraseIndex++;\n    }\n  }\n};\n"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,OAAP,GAAiB;EACfC,MAAM,EAAE,EADO;EAEfC,MAAM,EAAE,CAFO;EAGfC,WAAW,EAAE,CAHE;EAIfC,SAAS,EAAE,EAJI;EAKfC,UAAU,EAAE,EALG;EAMfC,WAAW,EAAE,IANE;EAQfC,GAAG,EAAE,UAASC,IAAT,EAAeC,MAAf,EAAuBC,QAAvB,EAAiC;IACpCA,QAAQ,GAAG,CAAC,CAACA,QAAb;IACA,IAAIC,GAAG,GAAGH,IAAI,GAAG,GAAP,GAAaC,MAAb,GAAsB,GAAtB,GAA4BC,QAAtC;;IACA,IAAI,KAAKT,MAAL,CAAYU,GAAZ,CAAJ,EAAsB;MACpB,KAAKC,SAAL,CAAeD,GAAf;;MACA,OAAO,KAAKV,MAAL,CAAYU,GAAZ,CAAP;IACD;EACF,CAfc;EAgBfE,GAAG,EAAE,UAASL,IAAT,EAAeC,MAAf,EAAuBC,QAAvB,EAAiCI,OAAjC,EAA0C;IAC7CJ,QAAQ,GAAG,CAAC,CAACA,QAAb;IACA,IAAIC,GAAG,GAAGH,IAAI,GAAG,GAAP,GAAaC,MAAb,GAAsB,GAAtB,GAA4BC,QAAtC;IACA,KAAKT,MAAL,CAAYU,GAAZ,IAAmBG,OAAnB;;IACA,KAAKF,SAAL,CAAeD,GAAf;EACD,CArBc;EAsBfC,SAAS,EAAE,UAASD,GAAT,EAAc;IACvB,IAAI,KAAKN,UAAL,CAAgBM,GAAhB,CAAJ,EAA0B;MACxB,OAAO,KAAKP,SAAL,CAAe,KAAKC,UAAL,CAAgBM,GAAhB,CAAf,CAAP;IACD;;IACD,KAAKP,SAAL,CAAe,KAAKF,MAApB,IAA8BS,GAA9B;IACA,KAAKN,UAAL,CAAgBM,GAAhB,IAAuB,KAAKT,MAA5B;IACA,KAAKA,MAAL;;IACA,KAAKa,YAAL;EACD,CA9Bc;EA+BfA,YAAY,EAAE,YAAW;IACvB,OAAO,KAAKZ,WAAL,GAAmB,KAAKD,MAAL,GAAc,KAAKI,WAA7C,EAA0D;MACxD,IAAI,KAAKF,SAAL,CAAe,KAAKD,WAApB,CAAJ,EAAsC;QACpC,IAAIa,SAAS,GAAG,KAAKZ,SAAL,CAAe,KAAKD,WAApB,CAAhB;QACA,OAAO,KAAKE,UAAL,CAAgBW,SAAhB,CAAP;QACA,OAAO,KAAKf,MAAL,CAAYe,SAAZ,CAAP;MACD;;MACD,OAAO,KAAKZ,SAAL,CAAe,KAAKD,WAApB,CAAP;MACA,KAAKA,WAAL;IACD;EACF;AAzCc,CAAjB"},"metadata":{},"sourceType":"script"}