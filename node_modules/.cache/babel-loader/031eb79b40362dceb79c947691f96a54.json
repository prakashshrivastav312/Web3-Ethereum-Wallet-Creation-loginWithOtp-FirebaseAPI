{"ast":null,"code":"/**\n * Container to be used by this library for inversion control. If container was not implicitly set then by default\n * container simply creates a new instance of the given class.\n */\nvar defaultContainer = new (\n/** @class */\nfunction () {\n  function class_1() {\n    this.instances = [];\n  }\n\n  class_1.prototype.get = function (someClass) {\n    var instance = this.instances.find(function (instance) {\n      return instance.type === someClass;\n    });\n\n    if (!instance) {\n      instance = {\n        type: someClass,\n        object: new someClass()\n      };\n      this.instances.push(instance);\n    }\n\n    return instance.object;\n  };\n\n  return class_1;\n}())();\nvar userContainer;\nvar userContainerOptions;\n/**\n * Sets container to be used by this library.\n */\n\nexport function useContainer(iocContainer, options) {\n  userContainer = iocContainer;\n  userContainerOptions = options;\n}\n/**\n * Gets the IOC container used by this library.\n */\n\nexport function getFromContainer(someClass) {\n  if (userContainer) {\n    try {\n      var instance = userContainer.get(someClass);\n      if (instance) return instance;\n      if (!userContainerOptions || !userContainerOptions.fallback) return instance;\n    } catch (error) {\n      if (!userContainerOptions || !userContainerOptions.fallbackOnErrors) throw error;\n    }\n  }\n\n  return defaultContainer.get(someClass);\n}","map":{"version":3,"mappings":"AAeA;;;;AAIA,IAAMA,gBAAgB,GAAqE;AAAI;AAAA;EAAC;IACtF,iBAA+C,EAA/C;EAUT;;EATCC,kCAAOC,SAAP,EAA6C;IAC3C,IAAIC,QAAQ,GAAG,KAAKC,SAAL,CAAeC,IAAf,CAAoB,oBAAQ;MAAI,eAAQ,CAACC,IAAT,KAAkBJ,SAAlB;IAA2B,CAA3D,CAAf;;IACA,IAAI,CAACC,QAAL,EAAe;MACbA,QAAQ,GAAG;QAAEG,IAAI,EAAEJ,SAAR;QAAmBK,MAAM,EAAE,IAAIL,SAAJ;MAA3B,CAAX;MACA,KAAKE,SAAL,CAAeI,IAAf,CAAoBL,QAApB;IACD;;IAED,OAAOA,QAAQ,CAACI,MAAhB;EACD,CARD;;EASF;AAAC,CAX8F,EAAJ,GAA3F;AAaA,IAAIE,aAAJ;AACA,IAAIC,oBAAJ;AAEA;;;;AAGA,OAAM,SAAUC,YAAV,CAAuBC,YAAvB,EAAmEC,OAAnE,EAAgG;EACpGJ,aAAa,GAAGG,YAAhB;EACAF,oBAAoB,GAAGG,OAAvB;AACD;AAED;;;;AAGA,OAAM,SAAUC,gBAAV,CAA8BZ,SAA9B,EAA+E;EACnF,IAAIO,aAAJ,EAAmB;IACjB,IAAI;MACF,IAAMN,QAAQ,GAAGM,aAAa,CAACM,GAAd,CAAkBb,SAAlB,CAAjB;MACA,IAAIC,QAAJ,EAAc,OAAOA,QAAP;MAEd,IAAI,CAACO,oBAAD,IAAyB,CAACA,oBAAoB,CAACM,QAAnD,EAA6D,OAAOb,QAAP;IAC9D,CALD,CAKE,OAAOc,KAAP,EAAc;MACd,IAAI,CAACP,oBAAD,IAAyB,CAACA,oBAAoB,CAACQ,gBAAnD,EAAqE,MAAMD,KAAN;IACtE;EACF;;EACD,OAAOjB,gBAAgB,CAACe,GAAjB,CAAwBb,SAAxB,CAAP;AACD","names":["defaultContainer","class_1","someClass","instance","instances","find","type","object","push","userContainer","userContainerOptions","useContainer","iocContainer","options","getFromContainer","get","fallback","error","fallbackOnErrors"],"sourceRoot":"","sources":["../../src/container.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}