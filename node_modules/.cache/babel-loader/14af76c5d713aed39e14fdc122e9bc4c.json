{"ast":null,"code":"'use strict';\n\nconst CID = require('cids');\n\nconst multihashing = require('multihashing-async');\n\nconst multicodec = require('multicodec'); // binary resolver\n\n\nmodule.exports = {\n  codec: multicodec.RAW,\n  defaultHashAlg: multicodec.SHA2_256,\n  resolver: {\n    /**\n     * Resolves a path within a Raw block.\n     *\n     * Always returns the raw data as value without any remainderPath.\n     *\n     * @param {Buffer} binaryBlob - Binary representation of a PB block\n     * @param {string} [path='/'] - Path that should be resolved.  Must be '/' or an exception is thrown\n     * @returns {Object} result - Result of the path it it was resolved successfully\n     * @returns {*} result.value - The raw data\n     * @returns {string} result.remainderPath - An empty string\n     */\n    resolve: (binaryBlob, path) => {\n      if (path !== '/') {\n        throw new Error('Only the root path / may be resolved');\n      }\n\n      return {\n        value: binaryBlob,\n        remainderPath: ''\n      };\n    },\n\n    /**\n     * Return all available paths of a block.\n     *\n     * @generator\n     * @param {Buffer} binaryBlob - The raw data\n     * @returns {Object} - Finished generator with `done: true`\n     */\n    tree: binaryBlob => {\n      return {\n        done: true\n      };\n    }\n  },\n  util: {\n    deserialize: data => {\n      return data;\n    },\n    serialize: data => {\n      return data;\n    },\n\n    /**\n     * Calculate the CID of the binary blob.\n     *\n     * @param {Object} binaryBlob - Encoded IPLD Node\n     * @param {Object} [userOptions] - Options to create the CID\n     * @param {number} [userOptions.cidVersion=1] - CID version number\n     * @param {string} [UserOptions.hashAlg] - Defaults to the defaultHashAlg of the format\n     * @returns {Promise.<CID>}\n     */\n    cid: async (binaryBlob, userOptions) => {\n      const defaultOptions = {\n        cidVersion: 1,\n        hashAlg: module.exports.defaultHashAlg\n      };\n      const options = Object.assign(defaultOptions, userOptions);\n      const multihash = await multihashing(binaryBlob, options.hashAlg);\n      const codecName = multicodec.print[module.exports.codec];\n      const cid = new CID(options.cidVersion, codecName, multihash);\n      return cid;\n    }\n  }\n};","map":{"version":3,"names":["CID","require","multihashing","multicodec","module","exports","codec","RAW","defaultHashAlg","SHA2_256","resolver","resolve","binaryBlob","path","Error","value","remainderPath","tree","done","util","deserialize","data","serialize","cid","userOptions","defaultOptions","cidVersion","hashAlg","options","Object","assign","multihash","codecName","print"],"sources":["C:/Users/acer/node_modules/ipld-raw/src/index.js"],"sourcesContent":["'use strict'\nconst CID = require('cids')\nconst multihashing = require('multihashing-async')\nconst multicodec = require('multicodec')\n\n// binary resolver\nmodule.exports = {\n  codec: multicodec.RAW,\n  defaultHashAlg: multicodec.SHA2_256,\n  resolver: {\n    /**\n     * Resolves a path within a Raw block.\n     *\n     * Always returns the raw data as value without any remainderPath.\n     *\n     * @param {Buffer} binaryBlob - Binary representation of a PB block\n     * @param {string} [path='/'] - Path that should be resolved.  Must be '/' or an exception is thrown\n     * @returns {Object} result - Result of the path it it was resolved successfully\n     * @returns {*} result.value - The raw data\n     * @returns {string} result.remainderPath - An empty string\n     */\n    resolve: (binaryBlob, path) => {\n      if (path !== '/') {\n        throw new Error('Only the root path / may be resolved')\n      }\n\n      return {\n        value: binaryBlob,\n        remainderPath: ''\n      }\n    },\n    /**\n     * Return all available paths of a block.\n     *\n     * @generator\n     * @param {Buffer} binaryBlob - The raw data\n     * @returns {Object} - Finished generator with `done: true`\n     */\n    tree: (binaryBlob) => {\n      return {\n        done: true\n      }\n    }\n  },\n  util: {\n    deserialize: (data) => {\n      return data\n    },\n    serialize: (data) => {\n      return data\n    },\n    /**\n     * Calculate the CID of the binary blob.\n     *\n     * @param {Object} binaryBlob - Encoded IPLD Node\n     * @param {Object} [userOptions] - Options to create the CID\n     * @param {number} [userOptions.cidVersion=1] - CID version number\n     * @param {string} [UserOptions.hashAlg] - Defaults to the defaultHashAlg of the format\n     * @returns {Promise.<CID>}\n     */\n    cid: async (binaryBlob, userOptions) => {\n      const defaultOptions = { cidVersion: 1, hashAlg: module.exports.defaultHashAlg }\n      const options = Object.assign(defaultOptions, userOptions)\n\n      const multihash = await multihashing(binaryBlob, options.hashAlg)\n      const codecName = multicodec.print[module.exports.codec]\n      const cid = new CID(options.cidVersion, codecName, multihash)\n\n      return cid\n    }\n  }\n}\n"],"mappings":"AAAA;;AACA,MAAMA,GAAG,GAAGC,OAAO,CAAC,MAAD,CAAnB;;AACA,MAAMC,YAAY,GAAGD,OAAO,CAAC,oBAAD,CAA5B;;AACA,MAAME,UAAU,GAAGF,OAAO,CAAC,YAAD,CAA1B,C,CAEA;;;AACAG,MAAM,CAACC,OAAP,GAAiB;EACfC,KAAK,EAAEH,UAAU,CAACI,GADH;EAEfC,cAAc,EAAEL,UAAU,CAACM,QAFZ;EAGfC,QAAQ,EAAE;IACR;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACIC,OAAO,EAAE,CAACC,UAAD,EAAaC,IAAb,KAAsB;MAC7B,IAAIA,IAAI,KAAK,GAAb,EAAkB;QAChB,MAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;MACD;;MAED,OAAO;QACLC,KAAK,EAAEH,UADF;QAELI,aAAa,EAAE;MAFV,CAAP;IAID,CArBO;;IAsBR;AACJ;AACA;AACA;AACA;AACA;AACA;IACIC,IAAI,EAAGL,UAAD,IAAgB;MACpB,OAAO;QACLM,IAAI,EAAE;MADD,CAAP;IAGD;EAjCO,CAHK;EAsCfC,IAAI,EAAE;IACJC,WAAW,EAAGC,IAAD,IAAU;MACrB,OAAOA,IAAP;IACD,CAHG;IAIJC,SAAS,EAAGD,IAAD,IAAU;MACnB,OAAOA,IAAP;IACD,CANG;;IAOJ;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACIE,GAAG,EAAE,OAAOX,UAAP,EAAmBY,WAAnB,KAAmC;MACtC,MAAMC,cAAc,GAAG;QAAEC,UAAU,EAAE,CAAd;QAAiBC,OAAO,EAAEvB,MAAM,CAACC,OAAP,CAAeG;MAAzC,CAAvB;MACA,MAAMoB,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAcL,cAAd,EAA8BD,WAA9B,CAAhB;MAEA,MAAMO,SAAS,GAAG,MAAM7B,YAAY,CAACU,UAAD,EAAagB,OAAO,CAACD,OAArB,CAApC;MACA,MAAMK,SAAS,GAAG7B,UAAU,CAAC8B,KAAX,CAAiB7B,MAAM,CAACC,OAAP,CAAeC,KAAhC,CAAlB;MACA,MAAMiB,GAAG,GAAG,IAAIvB,GAAJ,CAAQ4B,OAAO,CAACF,UAAhB,EAA4BM,SAA5B,EAAuCD,SAAvC,CAAZ;MAEA,OAAOR,GAAP;IACD;EAzBG;AAtCS,CAAjB"},"metadata":{},"sourceType":"script"}