{"ast":null,"code":"import _slicedToArray from\"C:/Users/acer/sptr/React_Firebase_Auth_Tutorial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{createContext,useContext,useEffect,useState}from\"react\";import{createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged,signOut,GoogleAuthProvider,signInWithPopup,RecaptchaVerifier,signInWithPhoneNumber}from\"firebase/auth\";import{auth}from\"../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";var userAuthContext=/*#__PURE__*/createContext();export function UserAuthContextProvider(_ref){var children=_ref.children;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];function logIn(email,password){return signInWithEmailAndPassword(auth,email,password);}function signUp(email,password){return createUserWithEmailAndPassword(auth,email,password);}function logOut(){return signOut(auth);}function googleSignIn(){var googleAuthProvider=new GoogleAuthProvider();return signInWithPopup(auth,googleAuthProvider);}function setUpRecaptcha(number){var recaptchaVerifier=new RecaptchaVerifier(\"recaptcha-container\",{},auth);recaptchaVerifier.render();return signInWithPhoneNumber(auth,number,recaptchaVerifier);}useEffect(function(){var unsubscribe=onAuthStateChanged(auth,function(currentuser){console.log(\"Auth\",currentuser);setUser(currentuser);});return function(){unsubscribe();};},[]);return/*#__PURE__*/_jsx(userAuthContext.Provider,{value:{user:user,logIn:logIn,signUp:signUp,logOut:logOut,googleSignIn:googleSignIn,setUpRecaptcha:setUpRecaptcha},children:children});}export function useUserAuth(){return useContext(userAuthContext);}","map":{"version":3,"names":["createContext","useContext","useEffect","useState","createUserWithEmailAndPassword","signInWithEmailAndPassword","onAuthStateChanged","signOut","GoogleAuthProvider","signInWithPopup","RecaptchaVerifier","signInWithPhoneNumber","auth","userAuthContext","UserAuthContextProvider","children","user","setUser","logIn","email","password","signUp","logOut","googleSignIn","googleAuthProvider","setUpRecaptcha","number","recaptchaVerifier","render","unsubscribe","currentuser","console","log","useUserAuth"],"sources":["C:/Users/acer/sptr/React_Firebase_Auth_Tutorial/src/context/UserAuthContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  onAuthStateChanged,\r\n  signOut,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n  RecaptchaVerifier,\r\n  signInWithPhoneNumber,\r\n} from \"firebase/auth\";\r\nimport { auth } from \"../firebase\";\r\n\r\nconst userAuthContext = createContext();\r\n\r\nexport function UserAuthContextProvider({ children }) {\r\n  const [user, setUser] = useState({});\r\n\r\n  function logIn(email, password) {\r\n    return signInWithEmailAndPassword(auth, email, password);\r\n  }\r\n  function signUp(email, password) {\r\n    return createUserWithEmailAndPassword(auth, email, password);\r\n  }\r\n  function logOut() {\r\n    return signOut(auth);\r\n  }\r\n  function googleSignIn() {\r\n    const googleAuthProvider = new GoogleAuthProvider();\r\n    return signInWithPopup(auth, googleAuthProvider);\r\n  }\r\n\r\n  function setUpRecaptcha(number){\r\n    const recaptchaVerifier = new RecaptchaVerifier(\r\n      \"recaptcha-container\",\r\n      {},\r\n      auth\r\n    );\r\n    recaptchaVerifier.render();\r\n    return signInWithPhoneNumber(auth, number, recaptchaVerifier);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (currentuser) => {\r\n      console.log(\"Auth\", currentuser);\r\n      setUser(currentuser);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <userAuthContext.Provider\r\n      value={{ user, logIn, signUp, logOut, googleSignIn, setUpRecaptcha }}\r\n    >\r\n      {children}\r\n    </userAuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useUserAuth() {\r\n  return useContext(userAuthContext);\r\n}\r\n"],"mappings":"sKAAA,OAASA,aAAT,CAAwBC,UAAxB,CAAoCC,SAApC,CAA+CC,QAA/C,KAA+D,OAA/D,CACA,OACEC,8BADF,CAEEC,0BAFF,CAGEC,kBAHF,CAIEC,OAJF,CAKEC,kBALF,CAMEC,eANF,CAOEC,iBAPF,CAQEC,qBARF,KASO,eATP,CAUA,OAASC,IAAT,KAAqB,aAArB,C,2CAEA,GAAMC,gBAAe,cAAGb,aAAa,EAArC,CAEA,MAAO,SAASc,wBAAT,MAA+C,IAAZC,SAAY,MAAZA,QAAY,CACpD,cAAwBZ,QAAQ,CAAC,EAAD,CAAhC,wCAAOa,IAAP,eAAaC,OAAb,eAEA,QAASC,MAAT,CAAeC,KAAf,CAAsBC,QAAtB,CAAgC,CAC9B,MAAOf,2BAA0B,CAACO,IAAD,CAAOO,KAAP,CAAcC,QAAd,CAAjC,CACD,CACD,QAASC,OAAT,CAAgBF,KAAhB,CAAuBC,QAAvB,CAAiC,CAC/B,MAAOhB,+BAA8B,CAACQ,IAAD,CAAOO,KAAP,CAAcC,QAAd,CAArC,CACD,CACD,QAASE,OAAT,EAAkB,CAChB,MAAOf,QAAO,CAACK,IAAD,CAAd,CACD,CACD,QAASW,aAAT,EAAwB,CACtB,GAAMC,mBAAkB,CAAG,GAAIhB,mBAAJ,EAA3B,CACA,MAAOC,gBAAe,CAACG,IAAD,CAAOY,kBAAP,CAAtB,CACD,CAED,QAASC,eAAT,CAAwBC,MAAxB,CAA+B,CAC7B,GAAMC,kBAAiB,CAAG,GAAIjB,kBAAJ,CACxB,qBADwB,CAExB,EAFwB,CAGxBE,IAHwB,CAA1B,CAKAe,iBAAiB,CAACC,MAAlB,GACA,MAAOjB,sBAAqB,CAACC,IAAD,CAAOc,MAAP,CAAeC,iBAAf,CAA5B,CACD,CAEDzB,SAAS,CAAC,UAAM,CACd,GAAM2B,YAAW,CAAGvB,kBAAkB,CAACM,IAAD,CAAO,SAACkB,WAAD,CAAiB,CAC5DC,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBF,WAApB,EACAb,OAAO,CAACa,WAAD,CAAP,CACD,CAHqC,CAAtC,CAKA,MAAO,WAAM,CACXD,WAAW,GACZ,CAFD,CAGD,CATQ,CASN,EATM,CAAT,CAWA,mBACE,KAAC,eAAD,CAAiB,QAAjB,EACE,KAAK,CAAE,CAAEb,IAAI,CAAJA,IAAF,CAAQE,KAAK,CAALA,KAAR,CAAeG,MAAM,CAANA,MAAf,CAAuBC,MAAM,CAANA,MAAvB,CAA+BC,YAAY,CAAZA,YAA/B,CAA6CE,cAAc,CAAdA,cAA7C,CADT,UAGGV,QAHH,EADF,CAOD,CAED,MAAO,SAASkB,YAAT,EAAuB,CAC5B,MAAOhC,WAAU,CAACY,eAAD,CAAjB,CACD"},"metadata":{},"sourceType":"module"}