{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SendContext = void 0;\n\nconst networkParams_1 = require(\"../../networkParams\");\n\nconst strictChecker_1 = require(\"../strictChecker\");\n\nconst errors_1 = require(\"../../errors\");\n\nconst systemWrapper_1 = require(\"./systemWrapper\");\n/**\n * Stores contextual information which is needed when preparing a transaction.\n */\n\n\nclass SendContext {\n  constructor(provider) {\n    this.sender_ = null;\n    this.provider_ = provider;\n    this.gas_ = null;\n    this.logger_ = null;\n    this.value_ = null;\n    this.checker = new strictChecker_1.StrictChecker();\n  }\n\n  provider(provider) {\n    this.provider_ = provider;\n    return this;\n  }\n\n  sender(sender) {\n    this.sender_ = sender;\n    return this;\n  }\n\n  gas(gas) {\n    this.gas_ = new networkParams_1.GasLimit(gas);\n    return this;\n  }\n\n  autoGas(baseGas) {\n    return this.gas(systemWrapper_1.getGasFromValue(baseGas, this.value_));\n  }\n\n  logger(logger) {\n    this.logger_ = logger;\n    return this;\n  }\n\n  value(value) {\n    this.value_ = value;\n    return this;\n  }\n\n  getAndResetValue() {\n    let value = this.value_;\n    this.value_ = null;\n    return value;\n  }\n\n  getSender() {\n    if (this.sender_) {\n      return this.sender_;\n    }\n\n    throw new errors_1.Err(\"sender not set\");\n  }\n\n  getSenderOptional() {\n    return this.sender_;\n  }\n\n  getProvider() {\n    return this.provider_;\n  }\n\n  getGasLimit() {\n    if (this.gas_) {\n      return this.gas_;\n    }\n\n    throw new errors_1.Err(\"gas limit not set\");\n  }\n\n  getLogger() {\n    return this.logger_;\n  }\n\n}\n\nexports.SendContext = SendContext;","map":{"version":3,"mappings":";;;;;;;AAAA;;AAGA;;AAIA;;AACA;AAEA;;;;;AAGA,MAAaA,WAAb,CAAwB;EAQpBC,YAAYC,QAAZ,EAA+B;IAC3B,KAAKC,OAAL,GAAe,IAAf;IACA,KAAKC,SAAL,GAAiBF,QAAjB;IACA,KAAKG,IAAL,GAAY,IAAZ;IACA,KAAKC,OAAL,GAAe,IAAf;IACA,KAAKC,MAAL,GAAc,IAAd;IACA,KAAKC,OAAL,GAAe,IAAIC,6BAAJ,EAAf;EACH;;EAEDP,QAAQ,CAACA,QAAD,EAAoB;IACxB,KAAKE,SAAL,GAAiBF,QAAjB;IACA,OAAO,IAAP;EACH;;EAEDQ,MAAM,CAACA,MAAD,EAAmB;IACrB,KAAKP,OAAL,GAAeO,MAAf;IACA,OAAO,IAAP;EACH;;EAEDC,GAAG,CAACA,GAAD,EAAY;IACX,KAAKN,IAAL,GAAY,IAAIO,wBAAJ,CAAaD,GAAb,CAAZ;IACA,OAAO,IAAP;EACH;;EAEDE,OAAO,CAACC,OAAD,EAAgB;IACnB,OAAO,KAAKH,GAAL,CAASI,gCAAgBD,OAAhB,EAAyB,KAAKP,MAA9B,CAAT,CAAP;EACH;;EAEDS,MAAM,CAACA,MAAD,EAA8B;IAChC,KAAKV,OAAL,GAAeU,MAAf;IACA,OAAO,IAAP;EACH;;EAEDC,KAAK,CAACA,KAAD,EAAe;IAChB,KAAKV,MAAL,GAAcU,KAAd;IACA,OAAO,IAAP;EACH;;EAEDC,gBAAgB;IACZ,IAAID,KAAK,GAAG,KAAKV,MAAjB;IACA,KAAKA,MAAL,GAAc,IAAd;IACA,OAAOU,KAAP;EACH;;EAEDE,SAAS;IACL,IAAI,KAAKhB,OAAT,EAAkB;MACd,OAAO,KAAKA,OAAZ;IACH;;IACD,MAAM,IAAIiB,YAAJ,CAAQ,gBAAR,CAAN;EACH;;EAEDC,iBAAiB;IACb,OAAO,KAAKlB,OAAZ;EACH;;EAEDmB,WAAW;IACP,OAAO,KAAKlB,SAAZ;EACH;;EAEDmB,WAAW;IACP,IAAI,KAAKlB,IAAT,EAAe;MACX,OAAO,KAAKA,IAAZ;IACH;;IACD,MAAM,IAAIe,YAAJ,CAAQ,mBAAR,CAAN;EACH;;EAEDI,SAAS;IACL,OAAO,KAAKlB,OAAZ;EACH;;AA5EmB;;AAAxBmB","names":["SendContext","constructor","provider","sender_","provider_","gas_","logger_","value_","checker","strictChecker_1","sender","gas","networkParams_1","autoGas","baseGas","systemWrapper_1","logger","value","getAndResetValue","getSender","errors_1","getSenderOptional","getProvider","getGasLimit","getLogger","exports"],"sourceRoot":"","sources":["../../../src/smartcontracts/wrapper/sendContext.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}