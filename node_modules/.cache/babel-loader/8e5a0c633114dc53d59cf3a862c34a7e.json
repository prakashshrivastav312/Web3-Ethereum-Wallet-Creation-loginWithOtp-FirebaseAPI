{"ast":null,"code":"import { buildMessage, ValidateBy } from '../common/ValidateBy';\nexport var MAX_DATE = 'maxDate';\n/**\n * Checks if the value is a date that's before the specified date.\n */\n\nexport function maxDate(date, maxDate) {\n  return date instanceof Date && date.getTime() <= maxDate.getTime();\n}\n/**\n * Checks if the value is a date that's after the specified date.\n */\n\nexport function MaxDate(date, validationOptions) {\n  return ValidateBy({\n    name: MAX_DATE,\n    constraints: [date],\n    validator: {\n      validate: function (value, args) {\n        return maxDate(value, args.constraints[0]);\n      },\n      defaultMessage: buildMessage(function (eachPrefix) {\n        return 'maximal allowed date for ' + eachPrefix + '$property is $constraint1';\n      }, validationOptions)\n    }\n  }, validationOptions);\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAT,EAAuBC,UAAvB,QAAyC,sBAAzC;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAjB;AAEP;;;;AAGA,OAAM,SAAUC,OAAV,CAAkBC,IAAlB,EAAiCD,OAAjC,EAA8C;EAClD,OAAOC,IAAI,YAAYC,IAAhB,IAAwBD,IAAI,CAACE,OAAL,MAAkBH,OAAO,CAACG,OAAR,EAAjD;AACD;AAED;;;;AAGA,OAAM,SAAUC,OAAV,CAAkBH,IAAlB,EAA8BI,iBAA9B,EAAmE;EACvE,OAAOP,UAAU,CACf;IACEQ,IAAI,EAAEP,QADR;IAEEQ,WAAW,EAAE,CAACN,IAAD,CAFf;IAGEO,SAAS,EAAE;MACTC,QAAQ,EAAE,UAACC,KAAD,EAAQC,IAAR,EAAY;QAAc,cAAO,CAACD,KAAD,EAAQC,IAAI,CAACJ,WAAL,CAAiB,CAAjB,CAAR,CAAP;MAAmC,CAD9D;MAETK,cAAc,EAAEf,YAAY,CAC1B,sBAAU;QAAI,qCAA8BgB,UAA9B,GAA2C,2BAA3C;MAAsE,CAD1D,EAE1BR,iBAF0B;IAFnB;EAHb,CADe,EAYfA,iBAZe,CAAjB;AAcD","names":["buildMessage","ValidateBy","MAX_DATE","maxDate","date","Date","getTime","MaxDate","validationOptions","name","constraints","validator","validate","value","args","defaultMessage","eachPrefix"],"sourceRoot":"","sources":["../../../../src/decorator/date/MaxDate.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}