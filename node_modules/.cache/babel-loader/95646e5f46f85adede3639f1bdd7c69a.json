{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isEmpty = exports.guardEmpty = exports.guardNotEmpty = exports.guardLength = exports.guardSameLength = exports.guardValueIsSetWithMessage = exports.guardValueIsSet = exports.guardType = exports.guardTrue = void 0;\n\nconst errors = __importStar(require(\"./errors\")); // TODO: Create a class called \"Guard\". Add the following as member functions.\n\n\nfunction guardTrue(value, what) {\n  if (!value) {\n    throw new errors.ErrInvariantFailed(`[<${what}>] isn't true`);\n  }\n}\n\nexports.guardTrue = guardTrue;\n\nfunction guardType(name, type, value) {\n  let allowUndefined = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  if (allowUndefined && value === undefined) {\n    return;\n  }\n\n  if (value instanceof type) {\n    return;\n  }\n\n  throw new errors.ErrBadType(name, type, value);\n}\n\nexports.guardType = guardType; // TODO: merge with guardValueIsSetWithMessage\n\nfunction guardValueIsSet(name, value) {\n  guardValueIsSetWithMessage(`${name} isn't set (null or undefined)`, value);\n}\n\nexports.guardValueIsSet = guardValueIsSet; // TODO: merge with guardValueIsSet\n\nfunction guardValueIsSetWithMessage(message, value) {\n  if (value == null || value === undefined) {\n    throw new errors.ErrInvariantFailed(message);\n  }\n}\n\nexports.guardValueIsSetWithMessage = guardValueIsSetWithMessage;\n\nfunction guardSameLength(a, b) {\n  a = a || [];\n  b = b || [];\n\n  if (a.length != b.length) {\n    throw new errors.ErrInvariantFailed(\"arrays do not have the same length\");\n  }\n}\n\nexports.guardSameLength = guardSameLength;\n\nfunction guardLength(withLength, expectedLength) {\n  let actualLength = withLength.length || 0;\n\n  if (actualLength != expectedLength) {\n    throw new errors.ErrInvariantFailed(`wrong length, expected: ${expectedLength}, actual: ${actualLength}`);\n  }\n}\n\nexports.guardLength = guardLength;\n\nfunction guardNotEmpty(value, what) {\n  if (isEmpty(value)) {\n    throw new errors.ErrInvariantFailed(`${what} is empty`);\n  }\n}\n\nexports.guardNotEmpty = guardNotEmpty;\n\nfunction guardEmpty(value, what) {\n  if (!isEmpty(value)) {\n    throw new errors.ErrInvariantFailed(`${what} is not empty`);\n  }\n}\n\nexports.guardEmpty = guardEmpty;\n\nfunction isEmpty(value) {\n  if (value.isEmpty) {\n    return value.isEmpty();\n  }\n\n  return value.length === 0;\n}\n\nexports.isEmpty = isEmpty;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iD,CAEA;;;AAEA,SAAgBA,SAAhB,CAA0BC,KAA1B,EAA0CC,IAA1C,EAAsD;EAClD,IAAI,CAACD,KAAL,EAAY;IACR,MAAM,IAAIE,MAAM,CAACC,kBAAX,CAA8B,KAAKF,IAAI,eAAvC,CAAN;EACH;AACJ;;AAJDG;;AAMA,SAAgBC,SAAhB,CAA0BC,IAA1B,EAAwCC,IAAxC,EAAmDP,KAAnD,EAA8F;EAAA,IAA9BQ,cAA8B,uEAAJ,IAAI;;EAC1F,IAAIA,cAAc,IAAIR,KAAK,KAAKS,SAAhC,EAA2C;IACvC;EACH;;EACD,IAAIT,KAAK,YAAYO,IAArB,EAA2B;IACvB;EACH;;EAED,MAAM,IAAIL,MAAM,CAACQ,UAAX,CAAsBJ,IAAtB,EAA4BC,IAA5B,EAAkCP,KAAlC,CAAN;AACH;;AATDI,8B,CAWA;;AACA,SAAgBO,eAAhB,CAAgCL,IAAhC,EAA8CN,KAA9C,EAA4E;EACxEY,0BAA0B,CAAC,GAAGN,IAAI,gCAAR,EAA0CN,KAA1C,CAA1B;AACH;;AAFDI,0C,CAIA;;AACA,SAAgBQ,0BAAhB,CAA2CC,OAA3C,EAA4Db,KAA5D,EAA0F;EACtF,IAAIA,KAAK,IAAI,IAAT,IAAiBA,KAAK,KAAKS,SAA/B,EAA0C;IACtC,MAAM,IAAIP,MAAM,CAACC,kBAAX,CAA8BU,OAA9B,CAAN;EACH;AACJ;;AAJDT;;AAMA,SAAgBU,eAAhB,CAAgCC,CAAhC,EAA0CC,CAA1C,EAAkD;EAC9CD,CAAC,GAAGA,CAAC,IAAI,EAAT;EACAC,CAAC,GAAGA,CAAC,IAAI,EAAT;;EAEA,IAAID,CAAC,CAACE,MAAF,IAAYD,CAAC,CAACC,MAAlB,EAA0B;IACtB,MAAM,IAAIf,MAAM,CAACC,kBAAX,CAA8B,oCAA9B,CAAN;EACH;AACJ;;AAPDC;;AASA,SAAgBc,WAAhB,CAA4BC,UAA5B,EAA6DC,cAA7D,EAAmF;EAC/E,IAAIC,YAAY,GAAGF,UAAU,CAACF,MAAX,IAAqB,CAAxC;;EAEA,IAAII,YAAY,IAAID,cAApB,EAAoC;IAChC,MAAM,IAAIlB,MAAM,CAACC,kBAAX,CAA8B,2BAA2BiB,cAAc,aAAaC,YAAY,EAAhG,CAAN;EACH;AACJ;;AANDjB;;AAQA,SAAgBkB,aAAhB,CAA8BtB,KAA9B,EAAmFC,IAAnF,EAA+F;EAC3F,IAAIsB,OAAO,CAACvB,KAAD,CAAX,EAAoB;IAChB,MAAM,IAAIE,MAAM,CAACC,kBAAX,CAA8B,GAAGF,IAAI,WAArC,CAAN;EACH;AACJ;;AAJDG;;AAMA,SAAgBoB,UAAhB,CAA2BxB,KAA3B,EAAgFC,IAAhF,EAA4F;EACxF,IAAI,CAACsB,OAAO,CAACvB,KAAD,CAAZ,EAAqB;IACjB,MAAM,IAAIE,MAAM,CAACC,kBAAX,CAA8B,GAAGF,IAAI,eAArC,CAAN;EACH;AACJ;;AAJDG;;AAMA,SAAgBmB,OAAhB,CAAwBvB,KAAxB,EAA2E;EACvE,IAAIA,KAAK,CAACuB,OAAV,EAAmB;IACf,OAAOvB,KAAK,CAACuB,OAAN,EAAP;EACH;;EAED,OAAOvB,KAAK,CAACiB,MAAN,KAAiB,CAAxB;AACH;;AANDb","names":["guardTrue","value","what","errors","ErrInvariantFailed","exports","guardType","name","type","allowUndefined","undefined","ErrBadType","guardValueIsSet","guardValueIsSetWithMessage","message","guardSameLength","a","b","length","guardLength","withLength","expectedLength","actualLength","guardNotEmpty","isEmpty","guardEmpty"],"sourceRoot":"","sources":["../src/utils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}