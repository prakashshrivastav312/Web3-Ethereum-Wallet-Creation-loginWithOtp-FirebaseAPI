{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BncClient = exports.LedgerSigningDelegate = exports.DefaultBroadcastDelegate = exports.DefaultSigningDelegate = exports.NETWORK_PREFIX_MAPPING = exports.api = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _big = _interopRequireDefault(require(\"big.js\"));\n\nvar crypto = _interopRequireWildcard(require(\"../crypto\"));\n\nvar _tx = _interopRequireDefault(require(\"../tx\"));\n\nvar _types = require(\"../types/\");\n\nvar _request = _interopRequireDefault(require(\"../utils/request\"));\n\nvar _validateHelper = require(\"../utils/validateHelper\");\n\nvar _gov = _interopRequireDefault(require(\"./gov\"));\n\nvar _swap = _interopRequireDefault(require(\"./swap\"));\n\nvar _token = _interopRequireWildcard(require(\"./token\"));\n\nvar _bridge = require(\"./bridge\");\n\nvar _stake = require(\"./stake\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar BASENUMBER = Math.pow(10, 8);\nvar api = {\n  broadcast: \"/api/v1/broadcast\",\n  nodeInfo: \"/api/v1/node-info\",\n  getAccount: \"/api/v1/account\",\n  getMarkets: \"/api/v1/markets\",\n  getSwaps: \"/api/v1/atomic-swaps\",\n  getOpenOrders: \"/api/v1/orders/open\",\n  getDepth: \"/api/v1/depth\",\n  getTransactions: \"/api/v1/transactions\",\n  getTxs: \"/bc/api/v1/txs\",\n  getTx: \"/api/v1/tx\"\n};\nexports.api = api;\nvar NETWORK_PREFIX_MAPPING = {\n  testnet: \"tbnb\",\n  mainnet: \"bnb\"\n};\nexports.NETWORK_PREFIX_MAPPING = NETWORK_PREFIX_MAPPING;\n/**\n * The default signing delegate which uses the local private key.\n * @param  {Transaction} tx      the transaction\n * @param  {Object}      signMsg the canonical sign bytes for the msg\n * @return {Transaction}\n */\n\nvar DefaultSigningDelegate = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(tx, signMsg) {\n    var privateKey;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            privateKey = this.getPrivateKey();\n\n            if (privateKey) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(\"Private key has to be set before signing a transaction\"));\n\n          case 3:\n            return _context.abrupt(\"return\", tx.sign(privateKey, signMsg));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function DefaultSigningDelegate(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**\n * The default broadcast delegate which immediately broadcasts a transaction.\n * @param {Transaction} signedTx the signed transaction\n */\n\n\nexports.DefaultSigningDelegate = DefaultSigningDelegate;\n\nvar DefaultBroadcastDelegate = /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(signedTx) {\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", this.sendTransaction(signedTx, true));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function DefaultBroadcastDelegate(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n/**\n * The Ledger signing delegate.\n * @param  {LedgerApp}  ledgerApp\n * @param  {preSignCb}  function\n * @param  {postSignCb} function\n * @param  {errCb} function\n * @return {function}\n */\n\n\nexports.DefaultBroadcastDelegate = DefaultBroadcastDelegate;\n\nvar LedgerSigningDelegate = function LedgerSigningDelegate(ledgerApp, preSignCb, postSignCb, errCb, hdPath) {\n  return /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(tx, signMsg) {\n      var signBytes, pubKeyResp, sigResp, pubKey;\n      return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              signBytes = tx.getSignBytes(signMsg);\n              preSignCb && preSignCb(signBytes);\n              _context3.prev = 2;\n              _context3.next = 5;\n              return ledgerApp.getPublicKey(hdPath);\n\n            case 5:\n              pubKeyResp = _context3.sent;\n              _context3.next = 8;\n              return ledgerApp.sign(signBytes, hdPath);\n\n            case 8:\n              sigResp = _context3.sent;\n              postSignCb && postSignCb(pubKeyResp, sigResp);\n              _context3.next = 16;\n              break;\n\n            case 12:\n              _context3.prev = 12;\n              _context3.t0 = _context3[\"catch\"](2);\n              console.warn(\"LedgerSigningDelegate error\", _context3.t0);\n              errCb && errCb(_context3.t0);\n\n            case 16:\n              if (!(sigResp && sigResp.signature)) {\n                _context3.next = 19;\n                break;\n              }\n\n              pubKey = crypto.getPublicKey(pubKeyResp.pk.toString(\"hex\"));\n              return _context3.abrupt(\"return\", tx.addSignature(pubKey, sigResp.signature));\n\n            case 19:\n              return _context3.abrupt(\"return\", tx);\n\n            case 20:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 12]]);\n    }));\n\n    return function (_x6, _x7) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\n/**\n * validate the input number.\n * @param {Array} outputs\n */\n\n\nexports.LedgerSigningDelegate = LedgerSigningDelegate;\n\nvar checkOutputs = function checkOutputs(outputs) {\n  outputs.forEach(function (transfer) {\n    var coins = transfer.coins || [];\n    coins.forEach(function (coin) {\n      (0, _validateHelper.checkNumber)(coin.amount);\n\n      if (!coin.denom) {\n        throw new Error(\"invalid denmon\");\n      }\n    });\n  });\n};\n/**\n * sum corresponding input coin\n * @param {Array} inputs\n * @param {Array} coins\n */\n\n\nvar calInputCoins = function calInputCoins(inputs, coins) {\n  coins.forEach(function (coin) {\n    var existCoin = inputs[0].coins.find(function (c) {\n      return c.denom === coin.denom;\n    });\n\n    if (existCoin) {\n      var existAmount = new _big[\"default\"](existCoin.amount);\n      existCoin.amount = Number(existAmount.plus(coin.amount).toString());\n    } else {\n      inputs[0].coins.push(_objectSpread({}, coin));\n    }\n  });\n};\n/**\n * The Binance Chain client.\n */\n\n\nvar BncClient = /*#__PURE__*/function () {\n  /**\n   * @param {String} server Binance Chain public url\n   * @param {Boolean} useAsyncBroadcast use async broadcast mode, faster but less guarantees (default off)\n   * @param {Number} source where does this transaction come from (default 0)\n   */\n  function BncClient(server) {\n    var useAsyncBroadcast = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    (0, _classCallCheck2[\"default\"])(this, BncClient);\n    (0, _defineProperty2[\"default\"])(this, \"_httpClient\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_signingDelegate\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_broadcastDelegate\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_useAsyncBroadcast\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_source\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"tokens\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"swap\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"gov\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"bridge\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"stake\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"chainId\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"addressPrefix\", \"tbnb\");\n    (0, _defineProperty2[\"default\"])(this, \"network\", \"testnet\");\n    (0, _defineProperty2[\"default\"])(this, \"address\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_setPkPromise\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"account_number\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_privateKey\", null);\n\n    if (!server) {\n      throw new Error(\"Binance chain server should not be null\");\n    }\n\n    this._httpClient = new _request[\"default\"](server);\n    this._signingDelegate = DefaultSigningDelegate;\n    this._broadcastDelegate = DefaultBroadcastDelegate;\n    this._useAsyncBroadcast = useAsyncBroadcast;\n    this._source = source;\n    this.tokens = new _token[\"default\"](this);\n    this.swap = new _swap[\"default\"](this);\n    this.gov = new _gov[\"default\"](this);\n    this.bridge = new _bridge.Bridge(this);\n    this.stake = new _stake.Stake(this);\n  }\n  /**\n   * Initialize the client with the chain's ID. Asynchronous.\n   * @return {Promise}\n   */\n\n\n  (0, _createClass2[\"default\"])(BncClient, [{\n    key: \"initChain\",\n    value: function () {\n      var _initChain = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4() {\n        var data;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this.chainId) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                _context4.next = 3;\n                return this._httpClient.request(\"get\", api.nodeInfo);\n\n              case 3:\n                data = _context4.sent;\n                this.chainId = data.result.node_info && data.result.node_info.network;\n\n              case 5:\n                return _context4.abrupt(\"return\", this);\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function initChain() {\n        return _initChain.apply(this, arguments);\n      }\n\n      return initChain;\n    }()\n    /**\n     * Sets the client network (testnet or mainnet).\n     * @param {String} network Indicate testnet or mainnet\n     */\n\n  }, {\n    key: \"chooseNetwork\",\n    value: function chooseNetwork(network) {\n      this.addressPrefix = NETWORK_PREFIX_MAPPING[network] || \"tbnb\";\n      this.network = NETWORK_PREFIX_MAPPING[network] ? network : \"testnet\";\n    }\n    /**\n     * Sets the client's private key for calls made by this client. Asynchronous.\n     * @param {string} privateKey the private key hexstring\n     * @param {boolean} localOnly set this to true if you will supply an account_number yourself via `setAccountNumber`. Warning: You must do that if you set this to true!\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"setPrivateKey\",\n    value: function () {\n      var _setPrivateKey = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(privateKey) {\n        var localOnly,\n            address,\n            promise,\n            data,\n            _args5 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                localOnly = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : false;\n\n                if (!(privateKey !== this._privateKey)) {\n                  _context5.next = 19;\n                  break;\n                }\n\n                address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n\n                if (address) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                throw new Error(\"address is falsy: \".concat(address, \". invalid private key?\"));\n\n              case 5:\n                this._privateKey = privateKey;\n                this.address = address;\n\n                if (localOnly) {\n                  _context5.next = 19;\n                  break;\n                }\n\n                _context5.prev = 8;\n                promise = this._setPkPromise = this._httpClient.request(\"get\", \"\".concat(api.getAccount, \"/\").concat(address));\n                _context5.next = 12;\n                return promise;\n\n              case 12:\n                data = _context5.sent;\n                this.account_number = data.result.account_number;\n                _context5.next = 19;\n                break;\n\n              case 16:\n                _context5.prev = 16;\n                _context5.t0 = _context5[\"catch\"](8);\n                throw new Error(\"unable to query the address on the blockchain. try sending it some funds first: \".concat(address));\n\n              case 19:\n                return _context5.abrupt(\"return\", this);\n\n              case 20:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[8, 16]]);\n      }));\n\n      function setPrivateKey(_x8) {\n        return _setPrivateKey.apply(this, arguments);\n      }\n\n      return setPrivateKey;\n    }()\n    /**\n     * Removes client's private key.\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"removePrivateKey\",\n    value: function removePrivateKey() {\n      this._privateKey = null;\n      return this;\n    }\n    /**\n     * Gets client's private key.\n     * @return {string|null} the private key hexstring or `null` if no private key has been set\n     */\n\n  }, {\n    key: \"getPrivateKey\",\n    value: function getPrivateKey() {\n      return this._privateKey;\n    }\n    /**\n     * Sets the client's account number.\n     * @param {number} accountNumber\n     */\n\n  }, {\n    key: \"setAccountNumber\",\n    value: function setAccountNumber(accountNumber) {\n      this.account_number = accountNumber;\n    }\n    /**\n     * Use async broadcast mode. Broadcasts faster with less guarantees (default off)\n     * @param {Boolean} useAsyncBroadcast\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"useAsyncBroadcast\",\n    value: function useAsyncBroadcast() {\n      var _useAsyncBroadcast = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._useAsyncBroadcast = _useAsyncBroadcast;\n      return this;\n    }\n    /**\n     * Sets the signing delegate (for wallet integrations).\n     * @param {function} delegate\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"setSigningDelegate\",\n    value: function setSigningDelegate(delegate) {\n      if (typeof delegate !== \"function\") throw new Error(\"signing delegate must be a function\");\n      this._signingDelegate = delegate;\n      return this;\n    }\n    /**\n     * Sets the broadcast delegate (for wallet integrations).\n     * @param {function} delegate\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"setBroadcastDelegate\",\n    value: function setBroadcastDelegate(delegate) {\n      if (typeof delegate !== \"function\") throw new Error(\"broadcast delegate must be a function\");\n      this._broadcastDelegate = delegate;\n      return this;\n    }\n    /**\n     * Applies the default signing delegate.\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"useDefaultSigningDelegate\",\n    value: function useDefaultSigningDelegate() {\n      this._signingDelegate = DefaultSigningDelegate;\n      return this;\n    }\n    /**\n     * Applies the default broadcast delegate.\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"useDefaultBroadcastDelegate\",\n    value: function useDefaultBroadcastDelegate() {\n      this._broadcastDelegate = DefaultBroadcastDelegate;\n      return this;\n    }\n    /**\n     * Applies the Ledger signing delegate.\n     * @param {function} ledgerApp\n     * @param {function} preSignCb\n     * @param {function} postSignCb\n     * @param {function} errCb\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"useLedgerSigningDelegate\",\n    value: function useLedgerSigningDelegate() {\n      this._signingDelegate = LedgerSigningDelegate.apply(void 0, arguments);\n      return this;\n    }\n    /**\n     * Transfer tokens from one address to another.\n     * @param {String} fromAddress\n     * @param {String} toAddress\n     * @param {Number} amount\n     * @param {String} asset\n     * @param {String} memo optional memo\n     * @param {Number} sequence optional sequence\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"transfer\",\n    value: function () {\n      var _transfer = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(fromAddress, toAddress, amount, asset) {\n        var memo,\n            sequence,\n            accCode,\n            toAccCode,\n            coin,\n            msg,\n            signMsg,\n            signedTx,\n            _args6 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                memo = _args6.length > 4 && _args6[4] !== undefined ? _args6[4] : \"\";\n                sequence = _args6.length > 5 && _args6[5] !== undefined ? _args6[5] : null;\n                accCode = crypto.decodeAddress(fromAddress);\n                toAccCode = crypto.decodeAddress(toAddress);\n                amount = new _big[\"default\"](amount);\n                amount = Number(amount.mul(BASENUMBER).toString());\n                (0, _validateHelper.checkNumber)(amount, \"amount\");\n                coin = {\n                  denom: asset,\n                  amount: amount\n                };\n                msg = {\n                  inputs: [{\n                    address: accCode,\n                    coins: [coin]\n                  }],\n                  outputs: [{\n                    address: toAccCode,\n                    coins: [coin]\n                  }],\n                  aminoPrefix: _types.AminoPrefix.MsgSend\n                };\n                signMsg = {\n                  inputs: [{\n                    address: fromAddress,\n                    coins: [{\n                      amount: amount,\n                      denom: asset\n                    }]\n                  }],\n                  outputs: [{\n                    address: toAddress,\n                    coins: [{\n                      amount: amount,\n                      denom: asset\n                    }]\n                  }]\n                };\n                _context6.next = 12;\n                return this._prepareTransaction(msg, signMsg, fromAddress, sequence, memo);\n\n              case 12:\n                signedTx = _context6.sent;\n                return _context6.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 14:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function transfer(_x9, _x10, _x11, _x12) {\n        return _transfer.apply(this, arguments);\n      }\n\n      return transfer;\n    }()\n    /**\n     * Create and sign a multi send tx\n     * @param {String} fromAddress\n     * @param {Array} outputs\n     * @example\n     * const outputs = [\n     * {\n     *   \"to\": \"tbnb1p4kpnj5qz5spsaf0d2555h6ctngse0me5q57qe\",\n     *   \"coins\": [{\n     *     \"denom\": \"BNB\",\n     *     \"amount\": 10\n     *   },{\n     *     \"denom\": \"BTC\",\n     *     \"amount\": 10\n     *   }]\n     * },\n     * {\n     *   \"to\": \"tbnb1scjj8chhhp7lngdeflltzex22yaf9ep59ls4gk\",\n     *   \"coins\": [{\n     *     \"denom\": \"BTC\",\n     *     \"amount\": 10\n     *   },{\n     *     \"denom\": \"BNB\",\n     *     \"amount\": 10\n     *   }]\n     * }]\n     * @param {String} memo optional memo\n     * @param {Number} sequence optional sequence\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"multiSend\",\n    value: function () {\n      var _multiSend = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(fromAddress, outputs) {\n        var memo,\n            sequence,\n            fromAddrCode,\n            inputs,\n            transfers,\n            msg,\n            signInputs,\n            signOutputs,\n            signMsg,\n            signedTx,\n            _args7 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                memo = _args7.length > 2 && _args7[2] !== undefined ? _args7[2] : \"\";\n                sequence = _args7.length > 3 && _args7[3] !== undefined ? _args7[3] : null;\n\n                if (fromAddress) {\n                  _context7.next = 4;\n                  break;\n                }\n\n                throw new Error(\"fromAddress should not be falsy\");\n\n              case 4:\n                if (Array.isArray(outputs)) {\n                  _context7.next = 6;\n                  break;\n                }\n\n                throw new Error(\"outputs should be array\");\n\n              case 6:\n                checkOutputs(outputs); //sort denom by alphbet and init amount\n\n                outputs.forEach(function (item) {\n                  item.coins = item.coins.sort(function (a, b) {\n                    return a.denom.localeCompare(b.denom);\n                  });\n                  item.coins.forEach(function (coin) {\n                    var amount = new _big[\"default\"](coin.amount);\n                    coin.amount = Number(amount.mul(BASENUMBER).toString());\n                  });\n                });\n                fromAddrCode = crypto.decodeAddress(fromAddress);\n                inputs = [{\n                  address: fromAddrCode,\n                  coins: []\n                }];\n                transfers = [];\n                outputs.forEach(function (item) {\n                  var toAddcCode = crypto.decodeAddress(item.to);\n                  calInputCoins(inputs, item.coins);\n                  transfers.push({\n                    address: toAddcCode,\n                    coins: item.coins\n                  });\n                });\n                msg = {\n                  inputs: inputs,\n                  outputs: transfers,\n                  aminoPrefix: _types.AminoPrefix.MsgSend\n                };\n                signInputs = [{\n                  address: fromAddress,\n                  coins: []\n                }];\n                signOutputs = [];\n                outputs.forEach(function (item, index) {\n                  signOutputs.push({\n                    address: item.to,\n                    coins: []\n                  });\n                  item.coins.forEach(function (c) {\n                    signOutputs[index].coins.push(c);\n                  });\n                  calInputCoins(signInputs, item.coins);\n                });\n                signMsg = {\n                  inputs: signInputs,\n                  outputs: signOutputs\n                };\n                _context7.next = 19;\n                return this._prepareTransaction(msg, signMsg, fromAddress, sequence, memo);\n\n              case 19:\n                signedTx = _context7.sent;\n                return _context7.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 21:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function multiSend(_x13, _x14) {\n        return _multiSend.apply(this, arguments);\n      }\n\n      return multiSend;\n    }()\n    /**\n     * Cancel an order.\n     * @param {String} fromAddress\n     * @param {String} symbol the market pair\n     * @param {String} refid the order ID of the order to cancel\n     * @param {Number} sequence optional sequence\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"cancelOrder\",\n    value: function () {\n      var _cancelOrder = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(fromAddress, symbol, refid) {\n        var sequence,\n            accCode,\n            msg,\n            signMsg,\n            signedTx,\n            _args8 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                sequence = _args8.length > 3 && _args8[3] !== undefined ? _args8[3] : null;\n                accCode = crypto.decodeAddress(fromAddress);\n                msg = {\n                  sender: accCode,\n                  symbol: symbol,\n                  refid: refid,\n                  aminoPrefix: _types.AminoPrefix.CancelOrderMsg\n                };\n                signMsg = {\n                  refid: refid,\n                  sender: fromAddress,\n                  symbol: symbol\n                };\n                _context8.next = 6;\n                return this._prepareTransaction(msg, signMsg, fromAddress, sequence, \"\");\n\n              case 6:\n                signedTx = _context8.sent;\n                return _context8.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 8:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function cancelOrder(_x15, _x16, _x17) {\n        return _cancelOrder.apply(this, arguments);\n      }\n\n      return cancelOrder;\n    }()\n    /**\n     * Place an order.\n     * @param {String} address\n     * @param {String} symbol the market pair\n     * @param {Number} side (1-Buy, 2-Sell)\n     * @param {Number} price\n     * @param {Number} quantity\n     * @param {Number} sequence optional sequence\n     * @param {Number} timeinforce (1-GTC(Good Till Expire), 3-IOC(Immediate or Cancel))\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"placeOrder\",\n    value: function () {\n      var _placeOrder = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9() {\n        var address,\n            symbol,\n            side,\n            price,\n            quantity,\n            sequence,\n            timeinforce,\n            accCode,\n            data,\n            bigPrice,\n            bigQuantity,\n            placeOrderMsg,\n            signMsg,\n            signedTx,\n            _args9 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                address = _args9.length > 0 && _args9[0] !== undefined ? _args9[0] : this.address;\n                symbol = _args9.length > 1 ? _args9[1] : undefined;\n                side = _args9.length > 2 ? _args9[2] : undefined;\n                price = _args9.length > 3 ? _args9[3] : undefined;\n                quantity = _args9.length > 4 ? _args9[4] : undefined;\n                sequence = _args9.length > 5 && _args9[5] !== undefined ? _args9[5] : null;\n                timeinforce = _args9.length > 6 && _args9[6] !== undefined ? _args9[6] : 1;\n\n                if (address) {\n                  _context9.next = 9;\n                  break;\n                }\n\n                throw new Error(\"address should not be falsy\");\n\n              case 9:\n                if (symbol) {\n                  _context9.next = 11;\n                  break;\n                }\n\n                throw new Error(\"symbol should not be falsy\");\n\n              case 11:\n                if (!(side !== 1 && side !== 2)) {\n                  _context9.next = 13;\n                  break;\n                }\n\n                throw new Error(\"side can only be 1 or 2\");\n\n              case 13:\n                if (!(timeinforce !== 1 && timeinforce !== 3)) {\n                  _context9.next = 15;\n                  break;\n                }\n\n                throw new Error(\"timeinforce can only be 1 or 3\");\n\n              case 15:\n                accCode = crypto.decodeAddress(address);\n\n                if (!(sequence !== 0 && !sequence)) {\n                  _context9.next = 21;\n                  break;\n                }\n\n                _context9.next = 19;\n                return this._httpClient.request(\"get\", \"\".concat(api.getAccount, \"/\").concat(address));\n\n              case 19:\n                data = _context9.sent;\n                sequence = data.result && data.result.sequence;\n\n              case 21:\n                bigPrice = new _big[\"default\"](price);\n                bigQuantity = new _big[\"default\"](quantity);\n                placeOrderMsg = {\n                  sender: accCode,\n                  id: \"\".concat(accCode.toString(\"hex\"), \"-\").concat(sequence + 1).toUpperCase(),\n                  symbol: symbol,\n                  ordertype: 2,\n                  side: side,\n                  price: parseFloat(bigPrice.mul(BASENUMBER).toString()),\n                  quantity: parseFloat(bigQuantity.mul(BASENUMBER).toString()),\n                  timeinforce: timeinforce,\n                  aminoPrefix: _types.AminoPrefix.NewOrderMsg\n                };\n                signMsg = {\n                  id: placeOrderMsg.id,\n                  ordertype: placeOrderMsg.ordertype,\n                  price: placeOrderMsg.price,\n                  quantity: placeOrderMsg.quantity,\n                  sender: address,\n                  side: placeOrderMsg.side,\n                  symbol: placeOrderMsg.symbol,\n                  timeinforce: timeinforce\n                };\n                (0, _validateHelper.checkNumber)(placeOrderMsg.price, \"price\");\n                (0, _validateHelper.checkNumber)(placeOrderMsg.quantity, \"quantity\");\n                _context9.next = 29;\n                return this._prepareTransaction(placeOrderMsg, signMsg, address, sequence, \"\");\n\n              case 29:\n                signedTx = _context9.sent;\n                return _context9.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 31:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function placeOrder() {\n        return _placeOrder.apply(this, arguments);\n      }\n\n      return placeOrder;\n    }()\n    /**\n     * @param {String} address\n     * @param {Number} proposalId\n     * @param {String} baseAsset\n     * @param {String} quoteAsset\n     * @param {Number} initPrice\n     * @param {Number} sequence optional sequence\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"list\",\n    value: function () {\n      var _list = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(address, proposalId, baseAsset, quoteAsset, initPrice) {\n        var sequence,\n            accCode,\n            init_price,\n            listMsg,\n            signMsg,\n            signedTx,\n            _args10 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                sequence = _args10.length > 5 && _args10[5] !== undefined ? _args10[5] : null;\n                accCode = crypto.decodeAddress(address);\n\n                if (address) {\n                  _context10.next = 4;\n                  break;\n                }\n\n                throw new Error(\"address should not be falsy\");\n\n              case 4:\n                if (!(proposalId <= 0)) {\n                  _context10.next = 6;\n                  break;\n                }\n\n                throw new Error(\"proposal id should larger than 0\");\n\n              case 6:\n                if (!(initPrice <= 0)) {\n                  _context10.next = 8;\n                  break;\n                }\n\n                throw new Error(\"price should larger than 0\");\n\n              case 8:\n                if (baseAsset) {\n                  _context10.next = 10;\n                  break;\n                }\n\n                throw new Error(\"baseAsset should not be falsy\");\n\n              case 10:\n                if (quoteAsset) {\n                  _context10.next = 12;\n                  break;\n                }\n\n                throw new Error(\"quoteAsset should not be falsy\");\n\n              case 12:\n                init_price = Number(new _big[\"default\"](initPrice).mul(BASENUMBER).toString());\n                listMsg = {\n                  from: accCode,\n                  proposal_id: proposalId,\n                  base_asset_symbol: baseAsset,\n                  quote_asset_symbol: quoteAsset,\n                  init_price: init_price,\n                  aminoPrefix: _types.AminoPrefix.ListMsg\n                };\n                signMsg = {\n                  base_asset_symbol: baseAsset,\n                  from: address,\n                  init_price: init_price,\n                  proposal_id: proposalId,\n                  quote_asset_symbol: quoteAsset\n                };\n                _context10.next = 17;\n                return this._prepareTransaction(listMsg, signMsg, address, sequence, \"\");\n\n              case 17:\n                signedTx = _context10.sent;\n                return _context10.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 19:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function list(_x18, _x19, _x20, _x21, _x22) {\n        return _list.apply(this, arguments);\n      }\n\n      return list;\n    }()\n    /**\n     * list miniToken\n     */\n\n  }, {\n    key: \"listMiniToken\",\n    value: function () {\n      var _listMiniToken = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee11(_ref4) {\n        var from, baseAsset, quoteAsset, initPrice, _ref4$sequence, sequence, init_price, listMiniMsg, signedTx;\n\n        return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                from = _ref4.from, baseAsset = _ref4.baseAsset, quoteAsset = _ref4.quoteAsset, initPrice = _ref4.initPrice, _ref4$sequence = _ref4.sequence, sequence = _ref4$sequence === void 0 ? null : _ref4$sequence;\n                (0, _token.validateMiniTokenSymbol)(baseAsset);\n\n                if (!(initPrice <= 0)) {\n                  _context11.next = 4;\n                  break;\n                }\n\n                throw new Error(\"price should larger than 0\");\n\n              case 4:\n                if (from) {\n                  _context11.next = 6;\n                  break;\n                }\n\n                throw new Error(\"address should not be falsy\");\n\n              case 6:\n                if (quoteAsset) {\n                  _context11.next = 8;\n                  break;\n                }\n\n                throw new Error(\"quoteAsset should not be falsy\");\n\n              case 8:\n                init_price = Number(new _big[\"default\"](initPrice).mul(BASENUMBER).toString());\n                listMiniMsg = new _types.ListMiniMsg({\n                  from: from,\n                  base_asset_symbol: baseAsset,\n                  quote_asset_symbol: quoteAsset,\n                  init_price: init_price\n                });\n                _context11.next = 12;\n                return this._prepareTransaction(listMiniMsg.getMsg(), listMiniMsg.getSignMsg(), from, sequence);\n\n              case 12:\n                signedTx = _context11.sent;\n                return _context11.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 14:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function listMiniToken(_x23) {\n        return _listMiniToken.apply(this, arguments);\n      }\n\n      return listMiniToken;\n    }()\n    /**\n     * Set account flags\n     * @param {String} address\n     * @param {Number} flags new value of account flags\n     * @param {Number} sequence optional sequence\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"setAccountFlags\",\n    value: function () {\n      var _setAccountFlags = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee12(address, flags) {\n        var sequence,\n            accCode,\n            msg,\n            signMsg,\n            signedTx,\n            _args12 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                sequence = _args12.length > 2 && _args12[2] !== undefined ? _args12[2] : null;\n                accCode = crypto.decodeAddress(address);\n                msg = {\n                  from: accCode,\n                  flags: flags,\n                  aminoPrefix: _types.AminoPrefix.SetAccountFlagsMsg\n                };\n                signMsg = {\n                  flags: flags,\n                  from: address\n                };\n                _context12.next = 6;\n                return this._prepareTransaction(msg, signMsg, address, sequence, \"\");\n\n              case 6:\n                signedTx = _context12.sent;\n                return _context12.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 8:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function setAccountFlags(_x24, _x25) {\n        return _setAccountFlags.apply(this, arguments);\n      }\n\n      return setAccountFlags;\n    }()\n    /**\n     * Prepare a serialized raw transaction for sending to the blockchain.\n     * @param {Object} msg the msg object\n     * @param {Object} stdSignMsg the sign doc object used to generate a signature\n     * @param {String} address\n     * @param {Number} sequence optional sequence\n     * @param {String} memo optional memo\n     * @return {Transaction} signed transaction\n     */\n\n  }, {\n    key: \"_prepareTransaction\",\n    value: function () {\n      var _prepareTransaction2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee13(msg, stdSignMsg, address) {\n        var sequence,\n            memo,\n            data,\n            tx,\n            _args13 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                sequence = _args13.length > 3 && _args13[3] !== undefined ? _args13[3] : null;\n                memo = _args13.length > 4 && _args13[4] !== undefined ? _args13[4] : \"\";\n\n                if (!((!this.account_number || sequence !== 0 && !sequence) && address)) {\n                  _context13.next = 10;\n                  break;\n                }\n\n                _context13.next = 5;\n                return this._httpClient.request(\"get\", \"\".concat(api.getAccount, \"/\").concat(address));\n\n              case 5:\n                data = _context13.sent;\n                sequence = data.result.sequence;\n                this.account_number = data.result.account_number; // if user has not used `await` in its call to setPrivateKey (old API), we should wait for the promise here\n\n                _context13.next = 13;\n                break;\n\n              case 10:\n                if (!this._setPkPromise) {\n                  _context13.next = 13;\n                  break;\n                }\n\n                _context13.next = 13;\n                return this._setPkPromise;\n\n              case 13:\n                tx = new _tx[\"default\"]({\n                  accountNumber: typeof this.account_number !== \"number\" ? parseInt(this.account_number) : this.account_number,\n                  chainId: this.chainId,\n                  memo: memo,\n                  msg: msg,\n                  sequence: typeof sequence !== \"number\" ? parseInt(sequence) : sequence,\n                  source: this._source\n                });\n                return _context13.abrupt(\"return\", this._signingDelegate.call(this, tx, stdSignMsg));\n\n              case 15:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function _prepareTransaction(_x26, _x27, _x28) {\n        return _prepareTransaction2.apply(this, arguments);\n      }\n\n      return _prepareTransaction;\n    }()\n    /**\n     * Broadcast a transaction to the blockchain.\n     * @param {signedTx} tx signed Transaction object\n     * @param {Boolean} sync use synchronous mode, optional\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"sendTransaction\",\n    value: function () {\n      var _sendTransaction2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee14(signedTx, sync) {\n        var signedBz;\n        return _regenerator[\"default\"].wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                signedBz = signedTx.serialize();\n                return _context14.abrupt(\"return\", this.sendRawTransaction(signedBz, sync));\n\n              case 2:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function sendTransaction(_x29, _x30) {\n        return _sendTransaction2.apply(this, arguments);\n      }\n\n      return sendTransaction;\n    }()\n    /**\n     * Broadcast a raw transaction to the blockchain.\n     * @param {String} signedBz signed and serialized raw transaction\n     * @param {Boolean} sync use synchronous mode, optional\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"sendRawTransaction\",\n    value: function () {\n      var _sendRawTransaction = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee15(signedBz) {\n        var sync,\n            opts,\n            _args15 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                sync = _args15.length > 1 && _args15[1] !== undefined ? _args15[1] : !this._useAsyncBroadcast;\n                opts = {\n                  data: signedBz,\n                  headers: {\n                    \"content-type\": \"text/plain\"\n                  }\n                };\n                return _context15.abrupt(\"return\", this._httpClient.request(\"post\", \"\".concat(api.broadcast, \"?sync=\").concat(sync), null, opts));\n\n              case 3:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function sendRawTransaction(_x31) {\n        return _sendRawTransaction.apply(this, arguments);\n      }\n\n      return sendRawTransaction;\n    }()\n    /**\n     * Broadcast a raw transaction to the blockchain.\n     * @param {Object} msg the msg object\n     * @param {Object} stdSignMsg the sign doc object used to generate a signature\n     * @param {String} address\n     * @param {Number} sequence optional sequence\n     * @param {String} memo optional memo\n     * @param {Boolean} sync use synchronous mode, optional\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"_sendTransaction\",\n    value: function () {\n      var _sendTransaction3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee16(msg, stdSignMsg, address) {\n        var sequence,\n            memo,\n            sync,\n            signedTx,\n            _args16 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                sequence = _args16.length > 3 && _args16[3] !== undefined ? _args16[3] : null;\n                memo = _args16.length > 4 && _args16[4] !== undefined ? _args16[4] : \"\";\n                sync = _args16.length > 5 && _args16[5] !== undefined ? _args16[5] : !this._useAsyncBroadcast;\n                _context16.next = 5;\n                return this._prepareTransaction(msg, stdSignMsg, address, sequence, memo);\n\n              case 5:\n                signedTx = _context16.sent;\n                return _context16.abrupt(\"return\", this.sendTransaction(signedTx, sync));\n\n              case 7:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function _sendTransaction(_x32, _x33, _x34) {\n        return _sendTransaction3.apply(this, arguments);\n      }\n\n      return _sendTransaction;\n    }()\n    /**\n     * get account\n     * @param {String} address\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getAccount\",\n    value: function () {\n      var _getAccount = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee17() {\n        var address,\n            data,\n            _args17 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                address = _args17.length > 0 && _args17[0] !== undefined ? _args17[0] : this.address;\n\n                if (address) {\n                  _context17.next = 3;\n                  break;\n                }\n\n                throw new Error(\"address should not be falsy\");\n\n              case 3:\n                _context17.prev = 3;\n                _context17.next = 6;\n                return this._httpClient.request(\"get\", \"\".concat(api.getAccount, \"/\").concat(address));\n\n              case 6:\n                data = _context17.sent;\n                return _context17.abrupt(\"return\", data);\n\n              case 10:\n                _context17.prev = 10;\n                _context17.t0 = _context17[\"catch\"](3);\n                return _context17.abrupt(\"return\", null);\n\n              case 13:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this, [[3, 10]]);\n      }));\n\n      function getAccount() {\n        return _getAccount.apply(this, arguments);\n      }\n\n      return getAccount;\n    }()\n    /**\n     * get balances\n     * @param {String} address optional address\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getBalance\",\n    value: function () {\n      var _getBalance = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee18() {\n        var address,\n            data,\n            _args18 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                address = _args18.length > 0 && _args18[0] !== undefined ? _args18[0] : this.address;\n                _context18.prev = 1;\n                _context18.next = 4;\n                return this.getAccount(address);\n\n              case 4:\n                data = _context18.sent;\n                return _context18.abrupt(\"return\", data.result.balances);\n\n              case 8:\n                _context18.prev = 8;\n                _context18.t0 = _context18[\"catch\"](1);\n                return _context18.abrupt(\"return\", []);\n\n              case 11:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this, [[1, 8]]);\n      }));\n\n      function getBalance() {\n        return _getBalance.apply(this, arguments);\n      }\n\n      return getBalance;\n    }()\n    /**\n     * get markets\n     * @param {Number} limit max 1000 is default\n     * @param {Number} offset from beggining, default 0\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getMarkets\",\n    value: function () {\n      var _getMarkets = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee19() {\n        var limit,\n            offset,\n            data,\n            _args19 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                limit = _args19.length > 0 && _args19[0] !== undefined ? _args19[0] : 1000;\n                offset = _args19.length > 1 && _args19[1] !== undefined ? _args19[1] : 0;\n                _context19.prev = 2;\n                _context19.next = 5;\n                return this._httpClient.request(\"get\", \"\".concat(api.getMarkets, \"?limit=\").concat(limit, \"&offset=\").concat(offset));\n\n              case 5:\n                data = _context19.sent;\n                return _context19.abrupt(\"return\", data);\n\n              case 9:\n                _context19.prev = 9;\n                _context19.t0 = _context19[\"catch\"](2);\n                console.warn(\"getMarkets error\", _context19.t0);\n                return _context19.abrupt(\"return\", []);\n\n              case 13:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this, [[2, 9]]);\n      }));\n\n      function getMarkets() {\n        return _getMarkets.apply(this, arguments);\n      }\n\n      return getMarkets;\n    }()\n    /**\n     * get transactions for an account\n     * @param {String} address optional address\n     * @param {Number} offset from beggining, default 0\n     * @return {Promise} resolves with http response\n     * @deprecated please use getTxs instead.\n     */\n\n  }, {\n    key: \"getTransactions\",\n    value: function () {\n      var _getTransactions = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee20() {\n        var address,\n            offset,\n            data,\n            _args20 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee20$(_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                address = _args20.length > 0 && _args20[0] !== undefined ? _args20[0] : this.address;\n                offset = _args20.length > 1 && _args20[1] !== undefined ? _args20[1] : 0;\n                _context20.prev = 2;\n                _context20.next = 5;\n                return this._httpClient.request(\"get\", \"\".concat(api.getTransactions, \"?address=\").concat(address, \"&offset=\").concat(offset));\n\n              case 5:\n                data = _context20.sent;\n                return _context20.abrupt(\"return\", data);\n\n              case 9:\n                _context20.prev = 9;\n                _context20.t0 = _context20[\"catch\"](2);\n                console.warn(\"getTransactions error\", _context20.t0);\n                return _context20.abrupt(\"return\", []);\n\n              case 13:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee20, this, [[2, 9]]);\n      }));\n\n      function getTransactions() {\n        return _getTransactions.apply(this, arguments);\n      }\n\n      return getTransactions;\n    }()\n    /**\n     * get transactions for an account\n     * @param {String} address optional address\n     * @param {Number} startTime start time in milliseconds\n     * @param {Number} endTime end time in in milliseconds, endTime - startTime should be smaller than 7 days\n     * @return {Promise} resolves with http response ([more details](https://docs.binance.org/api-reference/dex-api/block-service.html#apiv1txs))\n     * ```js\n     * // Example:\n     * const client = new BncClient('https://testnet-api.binance.org')\n     * client.getTxs(...);\n     * ```\n     */\n\n  }, {\n    key: \"getTxs\",\n    value: function () {\n      var _getTxs = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee21() {\n        var address,\n            startTime,\n            endTime,\n            data,\n            _args21 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                address = _args21.length > 0 && _args21[0] !== undefined ? _args21[0] : this.address;\n                startTime = _args21.length > 1 ? _args21[1] : undefined;\n                endTime = _args21.length > 2 ? _args21[2] : undefined;\n                _context21.prev = 3;\n                _context21.next = 6;\n                return this._httpClient.request(\"get\", \"\".concat(api.getTxs, \"?address=\").concat(address, \"&startTime=\").concat(startTime, \"&endTime=\").concat(endTime));\n\n              case 6:\n                data = _context21.sent;\n                return _context21.abrupt(\"return\", data);\n\n              case 10:\n                _context21.prev = 10;\n                _context21.t0 = _context21[\"catch\"](3);\n                console.warn(\"getTxs error\", _context21.t0);\n                return _context21.abrupt(\"return\", []);\n\n              case 14:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21, this, [[3, 10]]);\n      }));\n\n      function getTxs() {\n        return _getTxs.apply(this, arguments);\n      }\n\n      return getTxs;\n    }()\n    /**\n     * get transaction\n     * @param {String} hash the transaction hash\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getTx\",\n    value: function () {\n      var _getTx = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee22(hash) {\n        var data;\n        return _regenerator[\"default\"].wrap(function _callee22$(_context22) {\n          while (1) {\n            switch (_context22.prev = _context22.next) {\n              case 0:\n                _context22.prev = 0;\n                _context22.next = 3;\n                return this._httpClient.request(\"get\", \"\".concat(api.getTx, \"/\").concat(hash));\n\n              case 3:\n                data = _context22.sent;\n                return _context22.abrupt(\"return\", data);\n\n              case 7:\n                _context22.prev = 7;\n                _context22.t0 = _context22[\"catch\"](0);\n                console.warn(\"getTx error\", _context22.t0);\n                return _context22.abrupt(\"return\", []);\n\n              case 11:\n              case \"end\":\n                return _context22.stop();\n            }\n          }\n        }, _callee22, this, [[0, 7]]);\n      }));\n\n      function getTx(_x35) {\n        return _getTx.apply(this, arguments);\n      }\n\n      return getTx;\n    }()\n    /**\n     * get depth for a given market\n     * @param {String} symbol the market pair\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getDepth\",\n    value: function () {\n      var _getDepth = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee23() {\n        var symbol,\n            data,\n            _args23 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee23$(_context23) {\n          while (1) {\n            switch (_context23.prev = _context23.next) {\n              case 0:\n                symbol = _args23.length > 0 && _args23[0] !== undefined ? _args23[0] : \"BNB_BUSD-BD1\";\n                _context23.prev = 1;\n                _context23.next = 4;\n                return this._httpClient.request(\"get\", \"\".concat(api.getDepth, \"?symbol=\").concat(symbol));\n\n              case 4:\n                data = _context23.sent;\n                return _context23.abrupt(\"return\", data);\n\n              case 8:\n                _context23.prev = 8;\n                _context23.t0 = _context23[\"catch\"](1);\n                console.warn(\"getDepth error\", _context23.t0);\n                return _context23.abrupt(\"return\", []);\n\n              case 12:\n              case \"end\":\n                return _context23.stop();\n            }\n          }\n        }, _callee23, this, [[1, 8]]);\n      }));\n\n      function getDepth() {\n        return _getDepth.apply(this, arguments);\n      }\n\n      return getDepth;\n    }()\n    /**\n     * get open orders for an address\n     * @param {String} address binance address\n     * @param {String} symbol binance BEP2 symbol\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getOpenOrders\",\n    value: function () {\n      var _getOpenOrders = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee24() {\n        var address,\n            data,\n            _args24 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee24$(_context24) {\n          while (1) {\n            switch (_context24.prev = _context24.next) {\n              case 0:\n                address = _args24.length > 0 && _args24[0] !== undefined ? _args24[0] : this.address;\n                _context24.prev = 1;\n                _context24.next = 4;\n                return this._httpClient.request(\"get\", \"\".concat(api.getOpenOrders, \"?address=\").concat(address));\n\n              case 4:\n                data = _context24.sent;\n                return _context24.abrupt(\"return\", data);\n\n              case 8:\n                _context24.prev = 8;\n                _context24.t0 = _context24[\"catch\"](1);\n                console.warn(\"getOpenOrders error\", _context24.t0);\n                return _context24.abrupt(\"return\", []);\n\n              case 12:\n              case \"end\":\n                return _context24.stop();\n            }\n          }\n        }, _callee24, this, [[1, 8]]);\n      }));\n\n      function getOpenOrders() {\n        return _getOpenOrders.apply(this, arguments);\n      }\n\n      return getOpenOrders;\n    }()\n    /**\n     * get atomic swap\n     * @param {String} swapID: ID of an existing swap\n     * @return {Promise} AtomicSwap\n     */\n\n  }, {\n    key: \"getSwapByID\",\n    value: function () {\n      var _getSwapByID = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee25(swapID) {\n        var data;\n        return _regenerator[\"default\"].wrap(function _callee25$(_context25) {\n          while (1) {\n            switch (_context25.prev = _context25.next) {\n              case 0:\n                _context25.prev = 0;\n                _context25.next = 3;\n                return this._httpClient.request(\"get\", \"\".concat(api.getSwaps, \"/\").concat(swapID));\n\n              case 3:\n                data = _context25.sent;\n                return _context25.abrupt(\"return\", data);\n\n              case 7:\n                _context25.prev = 7;\n                _context25.t0 = _context25[\"catch\"](0);\n                console.warn(\"query swap by swapID error\", _context25.t0);\n                return _context25.abrupt(\"return\", []);\n\n              case 11:\n              case \"end\":\n                return _context25.stop();\n            }\n          }\n        }, _callee25, this, [[0, 7]]);\n      }));\n\n      function getSwapByID(_x36) {\n        return _getSwapByID.apply(this, arguments);\n      }\n\n      return getSwapByID;\n    }()\n    /**\n     * query atomic swap list by creator address\n     * @param {String} creator: swap creator address\n     * @param {Number} offset from beginning, default 0\n     * @param {Number} limit, max 1000 is default\n     * @return {Promise} Array of AtomicSwap\n     */\n\n  }, {\n    key: \"getSwapByCreator\",\n    value: function () {\n      var _getSwapByCreator = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee26(creator) {\n        var limit,\n            offset,\n            data,\n            _args26 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee26$(_context26) {\n          while (1) {\n            switch (_context26.prev = _context26.next) {\n              case 0:\n                limit = _args26.length > 1 && _args26[1] !== undefined ? _args26[1] : 100;\n                offset = _args26.length > 2 && _args26[2] !== undefined ? _args26[2] : 0;\n                _context26.prev = 2;\n                _context26.next = 5;\n                return this._httpClient.request(\"get\", \"\".concat(api.getSwaps, \"?fromAddress=\").concat(creator, \"&limit=\").concat(limit, \"&offset=\").concat(offset));\n\n              case 5:\n                data = _context26.sent;\n                return _context26.abrupt(\"return\", data);\n\n              case 9:\n                _context26.prev = 9;\n                _context26.t0 = _context26[\"catch\"](2);\n                console.warn(\"query swap list by swap creator error\", _context26.t0);\n                return _context26.abrupt(\"return\", []);\n\n              case 13:\n              case \"end\":\n                return _context26.stop();\n            }\n          }\n        }, _callee26, this, [[2, 9]]);\n      }));\n\n      function getSwapByCreator(_x37) {\n        return _getSwapByCreator.apply(this, arguments);\n      }\n\n      return getSwapByCreator;\n    }()\n    /**\n     * query atomic swap list by recipient address\n     * @param {String} recipient: the recipient address of the swap\n     * @param {Number} offset from beginning, default 0\n     * @param {Number} limit, max 1000 is default\n     * @return {Promise} Array of AtomicSwap\n     */\n\n  }, {\n    key: \"getSwapByRecipient\",\n    value: function () {\n      var _getSwapByRecipient = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee27(recipient) {\n        var limit,\n            offset,\n            data,\n            _args27 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee27$(_context27) {\n          while (1) {\n            switch (_context27.prev = _context27.next) {\n              case 0:\n                limit = _args27.length > 1 && _args27[1] !== undefined ? _args27[1] : 100;\n                offset = _args27.length > 2 && _args27[2] !== undefined ? _args27[2] : 0;\n                _context27.prev = 2;\n                _context27.next = 5;\n                return this._httpClient.request(\"get\", \"\".concat(api.getSwaps, \"?toAddress=\").concat(recipient, \"&limit=\").concat(limit, \"&offset=\").concat(offset));\n\n              case 5:\n                data = _context27.sent;\n                return _context27.abrupt(\"return\", data);\n\n              case 9:\n                _context27.prev = 9;\n                _context27.t0 = _context27[\"catch\"](2);\n                console.warn(\"query swap list by swap recipient error\", _context27.t0);\n                return _context27.abrupt(\"return\", []);\n\n              case 13:\n              case \"end\":\n                return _context27.stop();\n            }\n          }\n        }, _callee27, this, [[2, 9]]);\n      }));\n\n      function getSwapByRecipient(_x38) {\n        return _getSwapByRecipient.apply(this, arguments);\n      }\n\n      return getSwapByRecipient;\n    }()\n    /**\n     * Creates a private key and returns it and its address.\n     * @return {object} the private key and address in an object.\n     * {\n     *  address,\n     *  privateKey\n     * }\n     */\n\n  }, {\n    key: \"createAccount\",\n    value: function createAccount() {\n      var privateKey = crypto.generatePrivateKey();\n      return {\n        privateKey: privateKey,\n        address: crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix)\n      };\n    }\n    /**\n     * Creates an account keystore object, and returns the private key and address.\n     * @param {String} password\n     *  {\n     *  privateKey,\n     *  address,\n     *  keystore\n     * }\n     */\n\n  }, {\n    key: \"createAccountWithKeystore\",\n    value: function createAccountWithKeystore(password) {\n      if (!password) {\n        throw new Error(\"password should not be falsy\");\n      }\n\n      var privateKey = crypto.generatePrivateKey();\n      var address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n      var keystore = crypto.generateKeyStore(privateKey, password);\n      return {\n        privateKey: privateKey,\n        address: address,\n        keystore: keystore\n      };\n    }\n    /**\n     * Creates an account from mnemonic seed phrase.\n     * @return {object}\n     * {\n     *  privateKey,\n     *  address,\n     *  mnemonic\n     * }\n     */\n\n  }, {\n    key: \"createAccountWithMneomnic\",\n    value: function createAccountWithMneomnic() {\n      var mnemonic = crypto.generateMnemonic();\n      var privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic);\n      var address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n      return {\n        privateKey: privateKey,\n        address: address,\n        mnemonic: mnemonic\n      };\n    }\n    /**\n     * Recovers an account from a keystore object.\n     * @param {object} keystore object.\n     * @param {string} password password.\n     * {\n     * privateKey,\n     * address\n     * }\n     */\n\n  }, {\n    key: \"recoverAccountFromKeystore\",\n    value: function recoverAccountFromKeystore(keystore, password) {\n      var privateKey = crypto.getPrivateKeyFromKeyStore(keystore, password);\n      var address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n      return {\n        privateKey: privateKey,\n        address: address\n      };\n    }\n    /**\n     * Recovers an account from a mnemonic seed phrase.\n     * @param {string} mneomnic\n     * {\n     * privateKey,\n     * address\n     * }\n     */\n\n  }, {\n    key: \"recoverAccountFromMnemonic\",\n    value: function recoverAccountFromMnemonic(mnemonic) {\n      var privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic);\n      var address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n      return {\n        privateKey: privateKey,\n        address: address\n      };\n    } // support an old method name containing a typo\n\n  }, {\n    key: \"recoverAccountFromMneomnic\",\n    value: function recoverAccountFromMneomnic(mnemonic) {\n      return this.recoverAccountFromMnemonic(mnemonic);\n    }\n    /**\n     * Recovers an account using private key.\n     * @param {String} privateKey\n     * {\n     * privateKey,\n     * address\n     * }\n     */\n\n  }, {\n    key: \"recoverAccountFromPrivateKey\",\n    value: function recoverAccountFromPrivateKey(privateKey) {\n      var address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n      return {\n        privateKey: privateKey,\n        address: address\n      };\n    }\n    /**\n     * Validates an address.\n     * @param {String} address\n     * @param {String} prefix\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"checkAddress\",\n    value: function checkAddress(address) {\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.addressPrefix;\n      return crypto.checkAddress(address, prefix);\n    }\n    /**\n     * Returns the address for the current account if setPrivateKey has been called on this client.\n     * @return {String}\n     */\n\n  }, {\n    key: \"getClientKeyAddress\",\n    value: function getClientKeyAddress() {\n      if (!this._privateKey) throw new Error(\"no private key is set on this client\");\n      var address = crypto.getAddressFromPrivateKey(this._privateKey, this.addressPrefix);\n      this.address = address;\n      return address;\n    }\n  }]);\n  return BncClient;\n}();\n\nexports.BncClient = BncClient;","map":{"version":3,"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","BncClient","LedgerSigningDelegate","DefaultBroadcastDelegate","DefaultSigningDelegate","NETWORK_PREFIX_MAPPING","api","_classCallCheck2","_createClass2","_defineProperty2","_regenerator","_asyncToGenerator2","_big","crypto","_tx","_types","_request","_validateHelper","_gov","_swap","_token","_bridge","_stake","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","BASENUMBER","Math","pow","broadcast","nodeInfo","getAccount","getMarkets","getSwaps","getOpenOrders","getDepth","getTransactions","getTxs","getTx","testnet","mainnet","_ref","mark","_callee","tx","signMsg","privateKey","wrap","_callee$","_context","prev","next","getPrivateKey","abrupt","Promise","reject","sign","stop","_x","_x2","_x3","_ref2","_callee2","signedTx","_callee2$","_context2","sendTransaction","_x4","_x5","ledgerApp","preSignCb","postSignCb","errCb","hdPath","_ref3","_callee3","signBytes","pubKeyResp","sigResp","pubKey","_callee3$","_context3","getSignBytes","getPublicKey","sent","t0","console","warn","signature","pk","toString","addSignature","_x6","_x7","checkOutputs","outputs","transfer","coins","coin","checkNumber","amount","denom","Error","calInputCoins","inputs","existCoin","find","c","existAmount","Number","plus","server","useAsyncBroadcast","undefined","_httpClient","_signingDelegate","_broadcastDelegate","_useAsyncBroadcast","_source","tokens","swap","gov","bridge","Bridge","stake","Stake","_initChain","_callee4","data","_callee4$","_context4","chainId","request","result","node_info","network","initChain","chooseNetwork","addressPrefix","_setPrivateKey","_callee5","localOnly","address","promise","_args5","_callee5$","_context5","_privateKey","getAddressFromPrivateKey","concat","_setPkPromise","account_number","setPrivateKey","_x8","removePrivateKey","setAccountNumber","accountNumber","setSigningDelegate","delegate","setBroadcastDelegate","useDefaultSigningDelegate","useDefaultBroadcastDelegate","useLedgerSigningDelegate","_transfer","_callee6","fromAddress","toAddress","asset","memo","sequence","accCode","toAccCode","msg","_args6","_callee6$","_context6","decodeAddress","mul","aminoPrefix","AminoPrefix","MsgSend","_prepareTransaction","_x9","_x10","_x11","_x12","_multiSend","_callee7","fromAddrCode","transfers","signInputs","signOutputs","_args7","_callee7$","_context7","Array","isArray","item","sort","a","b","localeCompare","toAddcCode","to","index","multiSend","_x13","_x14","_cancelOrder","_callee8","symbol","refid","_args8","_callee8$","_context8","sender","CancelOrderMsg","cancelOrder","_x15","_x16","_x17","_placeOrder","_callee9","side","price","quantity","timeinforce","bigPrice","bigQuantity","placeOrderMsg","_args9","_callee9$","_context9","id","toUpperCase","ordertype","parseFloat","NewOrderMsg","placeOrder","_list","_callee10","proposalId","baseAsset","quoteAsset","initPrice","init_price","listMsg","_args10","_callee10$","_context10","from","proposal_id","base_asset_symbol","quote_asset_symbol","ListMsg","list","_x18","_x19","_x20","_x21","_x22","_listMiniToken","_callee11","_ref4","_ref4$sequence","listMiniMsg","_callee11$","_context11","validateMiniTokenSymbol","ListMiniMsg","getMsg","getSignMsg","listMiniToken","_x23","_setAccountFlags","_callee12","flags","_args12","_callee12$","_context12","SetAccountFlagsMsg","setAccountFlags","_x24","_x25","_prepareTransaction2","_callee13","stdSignMsg","_args13","_callee13$","_context13","parseInt","call","_x26","_x27","_x28","_sendTransaction2","_callee14","sync","signedBz","_callee14$","_context14","serialize","sendRawTransaction","_x29","_x30","_sendRawTransaction","_callee15","opts","_args15","_callee15$","_context15","headers","_x31","_sendTransaction3","_callee16","_args16","_callee16$","_context16","_sendTransaction","_x32","_x33","_x34","_getAccount","_callee17","_args17","_callee17$","_context17","_getBalance","_callee18","_args18","_callee18$","_context18","balances","getBalance","_getMarkets","_callee19","limit","offset","_args19","_callee19$","_context19","_getTransactions","_callee20","_args20","_callee20$","_context20","_getTxs","_callee21","startTime","endTime","_args21","_callee21$","_context21","_getTx","_callee22","hash","_callee22$","_context22","_x35","_getDepth","_callee23","_args23","_callee23$","_context23","_getOpenOrders","_callee24","_args24","_callee24$","_context24","_getSwapByID","_callee25","swapID","_callee25$","_context25","getSwapByID","_x36","_getSwapByCreator","_callee26","creator","_args26","_callee26$","_context26","getSwapByCreator","_x37","_getSwapByRecipient","_callee27","recipient","_args27","_callee27$","_context27","getSwapByRecipient","_x38","createAccount","generatePrivateKey","createAccountWithKeystore","password","keystore","generateKeyStore","createAccountWithMneomnic","mnemonic","generateMnemonic","getPrivateKeyFromMnemonic","recoverAccountFromKeystore","getPrivateKeyFromKeyStore","recoverAccountFromMnemonic","recoverAccountFromMneomnic","recoverAccountFromPrivateKey","checkAddress","prefix","getClientKeyAddress"],"sources":["C:/Users/acer/node_modules/@binance-chain/javascript-sdk/lib/client/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BncClient = exports.LedgerSigningDelegate = exports.DefaultBroadcastDelegate = exports.DefaultSigningDelegate = exports.NETWORK_PREFIX_MAPPING = exports.api = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _big = _interopRequireDefault(require(\"big.js\"));\n\nvar crypto = _interopRequireWildcard(require(\"../crypto\"));\n\nvar _tx = _interopRequireDefault(require(\"../tx\"));\n\nvar _types = require(\"../types/\");\n\nvar _request = _interopRequireDefault(require(\"../utils/request\"));\n\nvar _validateHelper = require(\"../utils/validateHelper\");\n\nvar _gov = _interopRequireDefault(require(\"./gov\"));\n\nvar _swap = _interopRequireDefault(require(\"./swap\"));\n\nvar _token = _interopRequireWildcard(require(\"./token\"));\n\nvar _bridge = require(\"./bridge\");\n\nvar _stake = require(\"./stake\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar BASENUMBER = Math.pow(10, 8);\nvar api = {\n  broadcast: \"/api/v1/broadcast\",\n  nodeInfo: \"/api/v1/node-info\",\n  getAccount: \"/api/v1/account\",\n  getMarkets: \"/api/v1/markets\",\n  getSwaps: \"/api/v1/atomic-swaps\",\n  getOpenOrders: \"/api/v1/orders/open\",\n  getDepth: \"/api/v1/depth\",\n  getTransactions: \"/api/v1/transactions\",\n  getTxs: \"/bc/api/v1/txs\",\n  getTx: \"/api/v1/tx\"\n};\nexports.api = api;\nvar NETWORK_PREFIX_MAPPING = {\n  testnet: \"tbnb\",\n  mainnet: \"bnb\"\n};\nexports.NETWORK_PREFIX_MAPPING = NETWORK_PREFIX_MAPPING;\n\n/**\n * The default signing delegate which uses the local private key.\n * @param  {Transaction} tx      the transaction\n * @param  {Object}      signMsg the canonical sign bytes for the msg\n * @return {Transaction}\n */\nvar DefaultSigningDelegate = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(tx, signMsg) {\n    var privateKey;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            privateKey = this.getPrivateKey();\n\n            if (privateKey) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(\"Private key has to be set before signing a transaction\"));\n\n          case 3:\n            return _context.abrupt(\"return\", tx.sign(privateKey, signMsg));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function DefaultSigningDelegate(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n/**\n * The default broadcast delegate which immediately broadcasts a transaction.\n * @param {Transaction} signedTx the signed transaction\n */\n\n\nexports.DefaultSigningDelegate = DefaultSigningDelegate;\n\nvar DefaultBroadcastDelegate = /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(signedTx) {\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", this.sendTransaction(signedTx, true));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function DefaultBroadcastDelegate(_x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n/**\n * The Ledger signing delegate.\n * @param  {LedgerApp}  ledgerApp\n * @param  {preSignCb}  function\n * @param  {postSignCb} function\n * @param  {errCb} function\n * @return {function}\n */\n\n\nexports.DefaultBroadcastDelegate = DefaultBroadcastDelegate;\n\nvar LedgerSigningDelegate = function LedgerSigningDelegate(ledgerApp, preSignCb, postSignCb, errCb, hdPath) {\n  return /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(tx, signMsg) {\n      var signBytes, pubKeyResp, sigResp, pubKey;\n      return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              signBytes = tx.getSignBytes(signMsg);\n              preSignCb && preSignCb(signBytes);\n              _context3.prev = 2;\n              _context3.next = 5;\n              return ledgerApp.getPublicKey(hdPath);\n\n            case 5:\n              pubKeyResp = _context3.sent;\n              _context3.next = 8;\n              return ledgerApp.sign(signBytes, hdPath);\n\n            case 8:\n              sigResp = _context3.sent;\n              postSignCb && postSignCb(pubKeyResp, sigResp);\n              _context3.next = 16;\n              break;\n\n            case 12:\n              _context3.prev = 12;\n              _context3.t0 = _context3[\"catch\"](2);\n              console.warn(\"LedgerSigningDelegate error\", _context3.t0);\n              errCb && errCb(_context3.t0);\n\n            case 16:\n              if (!(sigResp && sigResp.signature)) {\n                _context3.next = 19;\n                break;\n              }\n\n              pubKey = crypto.getPublicKey(pubKeyResp.pk.toString(\"hex\"));\n              return _context3.abrupt(\"return\", tx.addSignature(pubKey, sigResp.signature));\n\n            case 19:\n              return _context3.abrupt(\"return\", tx);\n\n            case 20:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 12]]);\n    }));\n\n    return function (_x6, _x7) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\n/**\n * validate the input number.\n * @param {Array} outputs\n */\n\n\nexports.LedgerSigningDelegate = LedgerSigningDelegate;\n\nvar checkOutputs = function checkOutputs(outputs) {\n  outputs.forEach(function (transfer) {\n    var coins = transfer.coins || [];\n    coins.forEach(function (coin) {\n      (0, _validateHelper.checkNumber)(coin.amount);\n\n      if (!coin.denom) {\n        throw new Error(\"invalid denmon\");\n      }\n    });\n  });\n};\n/**\n * sum corresponding input coin\n * @param {Array} inputs\n * @param {Array} coins\n */\n\n\nvar calInputCoins = function calInputCoins(inputs, coins) {\n  coins.forEach(function (coin) {\n    var existCoin = inputs[0].coins.find(function (c) {\n      return c.denom === coin.denom;\n    });\n\n    if (existCoin) {\n      var existAmount = new _big[\"default\"](existCoin.amount);\n      existCoin.amount = Number(existAmount.plus(coin.amount).toString());\n    } else {\n      inputs[0].coins.push(_objectSpread({}, coin));\n    }\n  });\n};\n/**\n * The Binance Chain client.\n */\n\n\nvar BncClient = /*#__PURE__*/function () {\n  /**\n   * @param {String} server Binance Chain public url\n   * @param {Boolean} useAsyncBroadcast use async broadcast mode, faster but less guarantees (default off)\n   * @param {Number} source where does this transaction come from (default 0)\n   */\n  function BncClient(server) {\n    var useAsyncBroadcast = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    (0, _classCallCheck2[\"default\"])(this, BncClient);\n    (0, _defineProperty2[\"default\"])(this, \"_httpClient\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_signingDelegate\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_broadcastDelegate\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_useAsyncBroadcast\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_source\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"tokens\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"swap\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"gov\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"bridge\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"stake\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"chainId\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"addressPrefix\", \"tbnb\");\n    (0, _defineProperty2[\"default\"])(this, \"network\", \"testnet\");\n    (0, _defineProperty2[\"default\"])(this, \"address\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_setPkPromise\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"account_number\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"_privateKey\", null);\n\n    if (!server) {\n      throw new Error(\"Binance chain server should not be null\");\n    }\n\n    this._httpClient = new _request[\"default\"](server);\n    this._signingDelegate = DefaultSigningDelegate;\n    this._broadcastDelegate = DefaultBroadcastDelegate;\n    this._useAsyncBroadcast = useAsyncBroadcast;\n    this._source = source;\n    this.tokens = new _token[\"default\"](this);\n    this.swap = new _swap[\"default\"](this);\n    this.gov = new _gov[\"default\"](this);\n    this.bridge = new _bridge.Bridge(this);\n    this.stake = new _stake.Stake(this);\n  }\n  /**\n   * Initialize the client with the chain's ID. Asynchronous.\n   * @return {Promise}\n   */\n\n\n  (0, _createClass2[\"default\"])(BncClient, [{\n    key: \"initChain\",\n    value: function () {\n      var _initChain = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4() {\n        var data;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this.chainId) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                _context4.next = 3;\n                return this._httpClient.request(\"get\", api.nodeInfo);\n\n              case 3:\n                data = _context4.sent;\n                this.chainId = data.result.node_info && data.result.node_info.network;\n\n              case 5:\n                return _context4.abrupt(\"return\", this);\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function initChain() {\n        return _initChain.apply(this, arguments);\n      }\n\n      return initChain;\n    }()\n    /**\n     * Sets the client network (testnet or mainnet).\n     * @param {String} network Indicate testnet or mainnet\n     */\n\n  }, {\n    key: \"chooseNetwork\",\n    value: function chooseNetwork(network) {\n      this.addressPrefix = NETWORK_PREFIX_MAPPING[network] || \"tbnb\";\n      this.network = NETWORK_PREFIX_MAPPING[network] ? network : \"testnet\";\n    }\n    /**\n     * Sets the client's private key for calls made by this client. Asynchronous.\n     * @param {string} privateKey the private key hexstring\n     * @param {boolean} localOnly set this to true if you will supply an account_number yourself via `setAccountNumber`. Warning: You must do that if you set this to true!\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"setPrivateKey\",\n    value: function () {\n      var _setPrivateKey = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(privateKey) {\n        var localOnly,\n            address,\n            promise,\n            data,\n            _args5 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                localOnly = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : false;\n\n                if (!(privateKey !== this._privateKey)) {\n                  _context5.next = 19;\n                  break;\n                }\n\n                address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n\n                if (address) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                throw new Error(\"address is falsy: \".concat(address, \". invalid private key?\"));\n\n              case 5:\n                this._privateKey = privateKey;\n                this.address = address;\n\n                if (localOnly) {\n                  _context5.next = 19;\n                  break;\n                }\n\n                _context5.prev = 8;\n                promise = this._setPkPromise = this._httpClient.request(\"get\", \"\".concat(api.getAccount, \"/\").concat(address));\n                _context5.next = 12;\n                return promise;\n\n              case 12:\n                data = _context5.sent;\n                this.account_number = data.result.account_number;\n                _context5.next = 19;\n                break;\n\n              case 16:\n                _context5.prev = 16;\n                _context5.t0 = _context5[\"catch\"](8);\n                throw new Error(\"unable to query the address on the blockchain. try sending it some funds first: \".concat(address));\n\n              case 19:\n                return _context5.abrupt(\"return\", this);\n\n              case 20:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[8, 16]]);\n      }));\n\n      function setPrivateKey(_x8) {\n        return _setPrivateKey.apply(this, arguments);\n      }\n\n      return setPrivateKey;\n    }()\n    /**\n     * Removes client's private key.\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"removePrivateKey\",\n    value: function removePrivateKey() {\n      this._privateKey = null;\n      return this;\n    }\n    /**\n     * Gets client's private key.\n     * @return {string|null} the private key hexstring or `null` if no private key has been set\n     */\n\n  }, {\n    key: \"getPrivateKey\",\n    value: function getPrivateKey() {\n      return this._privateKey;\n    }\n    /**\n     * Sets the client's account number.\n     * @param {number} accountNumber\n     */\n\n  }, {\n    key: \"setAccountNumber\",\n    value: function setAccountNumber(accountNumber) {\n      this.account_number = accountNumber;\n    }\n    /**\n     * Use async broadcast mode. Broadcasts faster with less guarantees (default off)\n     * @param {Boolean} useAsyncBroadcast\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"useAsyncBroadcast\",\n    value: function useAsyncBroadcast() {\n      var _useAsyncBroadcast = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._useAsyncBroadcast = _useAsyncBroadcast;\n      return this;\n    }\n    /**\n     * Sets the signing delegate (for wallet integrations).\n     * @param {function} delegate\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"setSigningDelegate\",\n    value: function setSigningDelegate(delegate) {\n      if (typeof delegate !== \"function\") throw new Error(\"signing delegate must be a function\");\n      this._signingDelegate = delegate;\n      return this;\n    }\n    /**\n     * Sets the broadcast delegate (for wallet integrations).\n     * @param {function} delegate\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"setBroadcastDelegate\",\n    value: function setBroadcastDelegate(delegate) {\n      if (typeof delegate !== \"function\") throw new Error(\"broadcast delegate must be a function\");\n      this._broadcastDelegate = delegate;\n      return this;\n    }\n    /**\n     * Applies the default signing delegate.\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"useDefaultSigningDelegate\",\n    value: function useDefaultSigningDelegate() {\n      this._signingDelegate = DefaultSigningDelegate;\n      return this;\n    }\n    /**\n     * Applies the default broadcast delegate.\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"useDefaultBroadcastDelegate\",\n    value: function useDefaultBroadcastDelegate() {\n      this._broadcastDelegate = DefaultBroadcastDelegate;\n      return this;\n    }\n    /**\n     * Applies the Ledger signing delegate.\n     * @param {function} ledgerApp\n     * @param {function} preSignCb\n     * @param {function} postSignCb\n     * @param {function} errCb\n     * @return {BncClient} this instance (for chaining)\n     */\n\n  }, {\n    key: \"useLedgerSigningDelegate\",\n    value: function useLedgerSigningDelegate() {\n      this._signingDelegate = LedgerSigningDelegate.apply(void 0, arguments);\n      return this;\n    }\n    /**\n     * Transfer tokens from one address to another.\n     * @param {String} fromAddress\n     * @param {String} toAddress\n     * @param {Number} amount\n     * @param {String} asset\n     * @param {String} memo optional memo\n     * @param {Number} sequence optional sequence\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"transfer\",\n    value: function () {\n      var _transfer = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(fromAddress, toAddress, amount, asset) {\n        var memo,\n            sequence,\n            accCode,\n            toAccCode,\n            coin,\n            msg,\n            signMsg,\n            signedTx,\n            _args6 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                memo = _args6.length > 4 && _args6[4] !== undefined ? _args6[4] : \"\";\n                sequence = _args6.length > 5 && _args6[5] !== undefined ? _args6[5] : null;\n                accCode = crypto.decodeAddress(fromAddress);\n                toAccCode = crypto.decodeAddress(toAddress);\n                amount = new _big[\"default\"](amount);\n                amount = Number(amount.mul(BASENUMBER).toString());\n                (0, _validateHelper.checkNumber)(amount, \"amount\");\n                coin = {\n                  denom: asset,\n                  amount: amount\n                };\n                msg = {\n                  inputs: [{\n                    address: accCode,\n                    coins: [coin]\n                  }],\n                  outputs: [{\n                    address: toAccCode,\n                    coins: [coin]\n                  }],\n                  aminoPrefix: _types.AminoPrefix.MsgSend\n                };\n                signMsg = {\n                  inputs: [{\n                    address: fromAddress,\n                    coins: [{\n                      amount: amount,\n                      denom: asset\n                    }]\n                  }],\n                  outputs: [{\n                    address: toAddress,\n                    coins: [{\n                      amount: amount,\n                      denom: asset\n                    }]\n                  }]\n                };\n                _context6.next = 12;\n                return this._prepareTransaction(msg, signMsg, fromAddress, sequence, memo);\n\n              case 12:\n                signedTx = _context6.sent;\n                return _context6.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 14:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function transfer(_x9, _x10, _x11, _x12) {\n        return _transfer.apply(this, arguments);\n      }\n\n      return transfer;\n    }()\n    /**\n     * Create and sign a multi send tx\n     * @param {String} fromAddress\n     * @param {Array} outputs\n     * @example\n     * const outputs = [\n     * {\n     *   \"to\": \"tbnb1p4kpnj5qz5spsaf0d2555h6ctngse0me5q57qe\",\n     *   \"coins\": [{\n     *     \"denom\": \"BNB\",\n     *     \"amount\": 10\n     *   },{\n     *     \"denom\": \"BTC\",\n     *     \"amount\": 10\n     *   }]\n     * },\n     * {\n     *   \"to\": \"tbnb1scjj8chhhp7lngdeflltzex22yaf9ep59ls4gk\",\n     *   \"coins\": [{\n     *     \"denom\": \"BTC\",\n     *     \"amount\": 10\n     *   },{\n     *     \"denom\": \"BNB\",\n     *     \"amount\": 10\n     *   }]\n     * }]\n     * @param {String} memo optional memo\n     * @param {Number} sequence optional sequence\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"multiSend\",\n    value: function () {\n      var _multiSend = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(fromAddress, outputs) {\n        var memo,\n            sequence,\n            fromAddrCode,\n            inputs,\n            transfers,\n            msg,\n            signInputs,\n            signOutputs,\n            signMsg,\n            signedTx,\n            _args7 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                memo = _args7.length > 2 && _args7[2] !== undefined ? _args7[2] : \"\";\n                sequence = _args7.length > 3 && _args7[3] !== undefined ? _args7[3] : null;\n\n                if (fromAddress) {\n                  _context7.next = 4;\n                  break;\n                }\n\n                throw new Error(\"fromAddress should not be falsy\");\n\n              case 4:\n                if (Array.isArray(outputs)) {\n                  _context7.next = 6;\n                  break;\n                }\n\n                throw new Error(\"outputs should be array\");\n\n              case 6:\n                checkOutputs(outputs); //sort denom by alphbet and init amount\n\n                outputs.forEach(function (item) {\n                  item.coins = item.coins.sort(function (a, b) {\n                    return a.denom.localeCompare(b.denom);\n                  });\n                  item.coins.forEach(function (coin) {\n                    var amount = new _big[\"default\"](coin.amount);\n                    coin.amount = Number(amount.mul(BASENUMBER).toString());\n                  });\n                });\n                fromAddrCode = crypto.decodeAddress(fromAddress);\n                inputs = [{\n                  address: fromAddrCode,\n                  coins: []\n                }];\n                transfers = [];\n                outputs.forEach(function (item) {\n                  var toAddcCode = crypto.decodeAddress(item.to);\n                  calInputCoins(inputs, item.coins);\n                  transfers.push({\n                    address: toAddcCode,\n                    coins: item.coins\n                  });\n                });\n                msg = {\n                  inputs: inputs,\n                  outputs: transfers,\n                  aminoPrefix: _types.AminoPrefix.MsgSend\n                };\n                signInputs = [{\n                  address: fromAddress,\n                  coins: []\n                }];\n                signOutputs = [];\n                outputs.forEach(function (item, index) {\n                  signOutputs.push({\n                    address: item.to,\n                    coins: []\n                  });\n                  item.coins.forEach(function (c) {\n                    signOutputs[index].coins.push(c);\n                  });\n                  calInputCoins(signInputs, item.coins);\n                });\n                signMsg = {\n                  inputs: signInputs,\n                  outputs: signOutputs\n                };\n                _context7.next = 19;\n                return this._prepareTransaction(msg, signMsg, fromAddress, sequence, memo);\n\n              case 19:\n                signedTx = _context7.sent;\n                return _context7.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 21:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function multiSend(_x13, _x14) {\n        return _multiSend.apply(this, arguments);\n      }\n\n      return multiSend;\n    }()\n    /**\n     * Cancel an order.\n     * @param {String} fromAddress\n     * @param {String} symbol the market pair\n     * @param {String} refid the order ID of the order to cancel\n     * @param {Number} sequence optional sequence\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"cancelOrder\",\n    value: function () {\n      var _cancelOrder = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(fromAddress, symbol, refid) {\n        var sequence,\n            accCode,\n            msg,\n            signMsg,\n            signedTx,\n            _args8 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                sequence = _args8.length > 3 && _args8[3] !== undefined ? _args8[3] : null;\n                accCode = crypto.decodeAddress(fromAddress);\n                msg = {\n                  sender: accCode,\n                  symbol: symbol,\n                  refid: refid,\n                  aminoPrefix: _types.AminoPrefix.CancelOrderMsg\n                };\n                signMsg = {\n                  refid: refid,\n                  sender: fromAddress,\n                  symbol: symbol\n                };\n                _context8.next = 6;\n                return this._prepareTransaction(msg, signMsg, fromAddress, sequence, \"\");\n\n              case 6:\n                signedTx = _context8.sent;\n                return _context8.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 8:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function cancelOrder(_x15, _x16, _x17) {\n        return _cancelOrder.apply(this, arguments);\n      }\n\n      return cancelOrder;\n    }()\n    /**\n     * Place an order.\n     * @param {String} address\n     * @param {String} symbol the market pair\n     * @param {Number} side (1-Buy, 2-Sell)\n     * @param {Number} price\n     * @param {Number} quantity\n     * @param {Number} sequence optional sequence\n     * @param {Number} timeinforce (1-GTC(Good Till Expire), 3-IOC(Immediate or Cancel))\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"placeOrder\",\n    value: function () {\n      var _placeOrder = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9() {\n        var address,\n            symbol,\n            side,\n            price,\n            quantity,\n            sequence,\n            timeinforce,\n            accCode,\n            data,\n            bigPrice,\n            bigQuantity,\n            placeOrderMsg,\n            signMsg,\n            signedTx,\n            _args9 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                address = _args9.length > 0 && _args9[0] !== undefined ? _args9[0] : this.address;\n                symbol = _args9.length > 1 ? _args9[1] : undefined;\n                side = _args9.length > 2 ? _args9[2] : undefined;\n                price = _args9.length > 3 ? _args9[3] : undefined;\n                quantity = _args9.length > 4 ? _args9[4] : undefined;\n                sequence = _args9.length > 5 && _args9[5] !== undefined ? _args9[5] : null;\n                timeinforce = _args9.length > 6 && _args9[6] !== undefined ? _args9[6] : 1;\n\n                if (address) {\n                  _context9.next = 9;\n                  break;\n                }\n\n                throw new Error(\"address should not be falsy\");\n\n              case 9:\n                if (symbol) {\n                  _context9.next = 11;\n                  break;\n                }\n\n                throw new Error(\"symbol should not be falsy\");\n\n              case 11:\n                if (!(side !== 1 && side !== 2)) {\n                  _context9.next = 13;\n                  break;\n                }\n\n                throw new Error(\"side can only be 1 or 2\");\n\n              case 13:\n                if (!(timeinforce !== 1 && timeinforce !== 3)) {\n                  _context9.next = 15;\n                  break;\n                }\n\n                throw new Error(\"timeinforce can only be 1 or 3\");\n\n              case 15:\n                accCode = crypto.decodeAddress(address);\n\n                if (!(sequence !== 0 && !sequence)) {\n                  _context9.next = 21;\n                  break;\n                }\n\n                _context9.next = 19;\n                return this._httpClient.request(\"get\", \"\".concat(api.getAccount, \"/\").concat(address));\n\n              case 19:\n                data = _context9.sent;\n                sequence = data.result && data.result.sequence;\n\n              case 21:\n                bigPrice = new _big[\"default\"](price);\n                bigQuantity = new _big[\"default\"](quantity);\n                placeOrderMsg = {\n                  sender: accCode,\n                  id: \"\".concat(accCode.toString(\"hex\"), \"-\").concat(sequence + 1).toUpperCase(),\n                  symbol: symbol,\n                  ordertype: 2,\n                  side: side,\n                  price: parseFloat(bigPrice.mul(BASENUMBER).toString()),\n                  quantity: parseFloat(bigQuantity.mul(BASENUMBER).toString()),\n                  timeinforce: timeinforce,\n                  aminoPrefix: _types.AminoPrefix.NewOrderMsg\n                };\n                signMsg = {\n                  id: placeOrderMsg.id,\n                  ordertype: placeOrderMsg.ordertype,\n                  price: placeOrderMsg.price,\n                  quantity: placeOrderMsg.quantity,\n                  sender: address,\n                  side: placeOrderMsg.side,\n                  symbol: placeOrderMsg.symbol,\n                  timeinforce: timeinforce\n                };\n                (0, _validateHelper.checkNumber)(placeOrderMsg.price, \"price\");\n                (0, _validateHelper.checkNumber)(placeOrderMsg.quantity, \"quantity\");\n                _context9.next = 29;\n                return this._prepareTransaction(placeOrderMsg, signMsg, address, sequence, \"\");\n\n              case 29:\n                signedTx = _context9.sent;\n                return _context9.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 31:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function placeOrder() {\n        return _placeOrder.apply(this, arguments);\n      }\n\n      return placeOrder;\n    }()\n    /**\n     * @param {String} address\n     * @param {Number} proposalId\n     * @param {String} baseAsset\n     * @param {String} quoteAsset\n     * @param {Number} initPrice\n     * @param {Number} sequence optional sequence\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"list\",\n    value: function () {\n      var _list = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(address, proposalId, baseAsset, quoteAsset, initPrice) {\n        var sequence,\n            accCode,\n            init_price,\n            listMsg,\n            signMsg,\n            signedTx,\n            _args10 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                sequence = _args10.length > 5 && _args10[5] !== undefined ? _args10[5] : null;\n                accCode = crypto.decodeAddress(address);\n\n                if (address) {\n                  _context10.next = 4;\n                  break;\n                }\n\n                throw new Error(\"address should not be falsy\");\n\n              case 4:\n                if (!(proposalId <= 0)) {\n                  _context10.next = 6;\n                  break;\n                }\n\n                throw new Error(\"proposal id should larger than 0\");\n\n              case 6:\n                if (!(initPrice <= 0)) {\n                  _context10.next = 8;\n                  break;\n                }\n\n                throw new Error(\"price should larger than 0\");\n\n              case 8:\n                if (baseAsset) {\n                  _context10.next = 10;\n                  break;\n                }\n\n                throw new Error(\"baseAsset should not be falsy\");\n\n              case 10:\n                if (quoteAsset) {\n                  _context10.next = 12;\n                  break;\n                }\n\n                throw new Error(\"quoteAsset should not be falsy\");\n\n              case 12:\n                init_price = Number(new _big[\"default\"](initPrice).mul(BASENUMBER).toString());\n                listMsg = {\n                  from: accCode,\n                  proposal_id: proposalId,\n                  base_asset_symbol: baseAsset,\n                  quote_asset_symbol: quoteAsset,\n                  init_price: init_price,\n                  aminoPrefix: _types.AminoPrefix.ListMsg\n                };\n                signMsg = {\n                  base_asset_symbol: baseAsset,\n                  from: address,\n                  init_price: init_price,\n                  proposal_id: proposalId,\n                  quote_asset_symbol: quoteAsset\n                };\n                _context10.next = 17;\n                return this._prepareTransaction(listMsg, signMsg, address, sequence, \"\");\n\n              case 17:\n                signedTx = _context10.sent;\n                return _context10.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 19:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function list(_x18, _x19, _x20, _x21, _x22) {\n        return _list.apply(this, arguments);\n      }\n\n      return list;\n    }()\n    /**\n     * list miniToken\n     */\n\n  }, {\n    key: \"listMiniToken\",\n    value: function () {\n      var _listMiniToken = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee11(_ref4) {\n        var from, baseAsset, quoteAsset, initPrice, _ref4$sequence, sequence, init_price, listMiniMsg, signedTx;\n\n        return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                from = _ref4.from, baseAsset = _ref4.baseAsset, quoteAsset = _ref4.quoteAsset, initPrice = _ref4.initPrice, _ref4$sequence = _ref4.sequence, sequence = _ref4$sequence === void 0 ? null : _ref4$sequence;\n                (0, _token.validateMiniTokenSymbol)(baseAsset);\n\n                if (!(initPrice <= 0)) {\n                  _context11.next = 4;\n                  break;\n                }\n\n                throw new Error(\"price should larger than 0\");\n\n              case 4:\n                if (from) {\n                  _context11.next = 6;\n                  break;\n                }\n\n                throw new Error(\"address should not be falsy\");\n\n              case 6:\n                if (quoteAsset) {\n                  _context11.next = 8;\n                  break;\n                }\n\n                throw new Error(\"quoteAsset should not be falsy\");\n\n              case 8:\n                init_price = Number(new _big[\"default\"](initPrice).mul(BASENUMBER).toString());\n                listMiniMsg = new _types.ListMiniMsg({\n                  from: from,\n                  base_asset_symbol: baseAsset,\n                  quote_asset_symbol: quoteAsset,\n                  init_price: init_price\n                });\n                _context11.next = 12;\n                return this._prepareTransaction(listMiniMsg.getMsg(), listMiniMsg.getSignMsg(), from, sequence);\n\n              case 12:\n                signedTx = _context11.sent;\n                return _context11.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 14:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function listMiniToken(_x23) {\n        return _listMiniToken.apply(this, arguments);\n      }\n\n      return listMiniToken;\n    }()\n    /**\n     * Set account flags\n     * @param {String} address\n     * @param {Number} flags new value of account flags\n     * @param {Number} sequence optional sequence\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"setAccountFlags\",\n    value: function () {\n      var _setAccountFlags = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee12(address, flags) {\n        var sequence,\n            accCode,\n            msg,\n            signMsg,\n            signedTx,\n            _args12 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                sequence = _args12.length > 2 && _args12[2] !== undefined ? _args12[2] : null;\n                accCode = crypto.decodeAddress(address);\n                msg = {\n                  from: accCode,\n                  flags: flags,\n                  aminoPrefix: _types.AminoPrefix.SetAccountFlagsMsg\n                };\n                signMsg = {\n                  flags: flags,\n                  from: address\n                };\n                _context12.next = 6;\n                return this._prepareTransaction(msg, signMsg, address, sequence, \"\");\n\n              case 6:\n                signedTx = _context12.sent;\n                return _context12.abrupt(\"return\", this._broadcastDelegate(signedTx));\n\n              case 8:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function setAccountFlags(_x24, _x25) {\n        return _setAccountFlags.apply(this, arguments);\n      }\n\n      return setAccountFlags;\n    }()\n    /**\n     * Prepare a serialized raw transaction for sending to the blockchain.\n     * @param {Object} msg the msg object\n     * @param {Object} stdSignMsg the sign doc object used to generate a signature\n     * @param {String} address\n     * @param {Number} sequence optional sequence\n     * @param {String} memo optional memo\n     * @return {Transaction} signed transaction\n     */\n\n  }, {\n    key: \"_prepareTransaction\",\n    value: function () {\n      var _prepareTransaction2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee13(msg, stdSignMsg, address) {\n        var sequence,\n            memo,\n            data,\n            tx,\n            _args13 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                sequence = _args13.length > 3 && _args13[3] !== undefined ? _args13[3] : null;\n                memo = _args13.length > 4 && _args13[4] !== undefined ? _args13[4] : \"\";\n\n                if (!((!this.account_number || sequence !== 0 && !sequence) && address)) {\n                  _context13.next = 10;\n                  break;\n                }\n\n                _context13.next = 5;\n                return this._httpClient.request(\"get\", \"\".concat(api.getAccount, \"/\").concat(address));\n\n              case 5:\n                data = _context13.sent;\n                sequence = data.result.sequence;\n                this.account_number = data.result.account_number; // if user has not used `await` in its call to setPrivateKey (old API), we should wait for the promise here\n\n                _context13.next = 13;\n                break;\n\n              case 10:\n                if (!this._setPkPromise) {\n                  _context13.next = 13;\n                  break;\n                }\n\n                _context13.next = 13;\n                return this._setPkPromise;\n\n              case 13:\n                tx = new _tx[\"default\"]({\n                  accountNumber: typeof this.account_number !== \"number\" ? parseInt(this.account_number) : this.account_number,\n                  chainId: this.chainId,\n                  memo: memo,\n                  msg: msg,\n                  sequence: typeof sequence !== \"number\" ? parseInt(sequence) : sequence,\n                  source: this._source\n                });\n                return _context13.abrupt(\"return\", this._signingDelegate.call(this, tx, stdSignMsg));\n\n              case 15:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function _prepareTransaction(_x26, _x27, _x28) {\n        return _prepareTransaction2.apply(this, arguments);\n      }\n\n      return _prepareTransaction;\n    }()\n    /**\n     * Broadcast a transaction to the blockchain.\n     * @param {signedTx} tx signed Transaction object\n     * @param {Boolean} sync use synchronous mode, optional\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"sendTransaction\",\n    value: function () {\n      var _sendTransaction2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee14(signedTx, sync) {\n        var signedBz;\n        return _regenerator[\"default\"].wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                signedBz = signedTx.serialize();\n                return _context14.abrupt(\"return\", this.sendRawTransaction(signedBz, sync));\n\n              case 2:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function sendTransaction(_x29, _x30) {\n        return _sendTransaction2.apply(this, arguments);\n      }\n\n      return sendTransaction;\n    }()\n    /**\n     * Broadcast a raw transaction to the blockchain.\n     * @param {String} signedBz signed and serialized raw transaction\n     * @param {Boolean} sync use synchronous mode, optional\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"sendRawTransaction\",\n    value: function () {\n      var _sendRawTransaction = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee15(signedBz) {\n        var sync,\n            opts,\n            _args15 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                sync = _args15.length > 1 && _args15[1] !== undefined ? _args15[1] : !this._useAsyncBroadcast;\n                opts = {\n                  data: signedBz,\n                  headers: {\n                    \"content-type\": \"text/plain\"\n                  }\n                };\n                return _context15.abrupt(\"return\", this._httpClient.request(\"post\", \"\".concat(api.broadcast, \"?sync=\").concat(sync), null, opts));\n\n              case 3:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function sendRawTransaction(_x31) {\n        return _sendRawTransaction.apply(this, arguments);\n      }\n\n      return sendRawTransaction;\n    }()\n    /**\n     * Broadcast a raw transaction to the blockchain.\n     * @param {Object} msg the msg object\n     * @param {Object} stdSignMsg the sign doc object used to generate a signature\n     * @param {String} address\n     * @param {Number} sequence optional sequence\n     * @param {String} memo optional memo\n     * @param {Boolean} sync use synchronous mode, optional\n     * @return {Promise} resolves with response (success or fail)\n     */\n\n  }, {\n    key: \"_sendTransaction\",\n    value: function () {\n      var _sendTransaction3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee16(msg, stdSignMsg, address) {\n        var sequence,\n            memo,\n            sync,\n            signedTx,\n            _args16 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                sequence = _args16.length > 3 && _args16[3] !== undefined ? _args16[3] : null;\n                memo = _args16.length > 4 && _args16[4] !== undefined ? _args16[4] : \"\";\n                sync = _args16.length > 5 && _args16[5] !== undefined ? _args16[5] : !this._useAsyncBroadcast;\n                _context16.next = 5;\n                return this._prepareTransaction(msg, stdSignMsg, address, sequence, memo);\n\n              case 5:\n                signedTx = _context16.sent;\n                return _context16.abrupt(\"return\", this.sendTransaction(signedTx, sync));\n\n              case 7:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function _sendTransaction(_x32, _x33, _x34) {\n        return _sendTransaction3.apply(this, arguments);\n      }\n\n      return _sendTransaction;\n    }()\n    /**\n     * get account\n     * @param {String} address\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getAccount\",\n    value: function () {\n      var _getAccount = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee17() {\n        var address,\n            data,\n            _args17 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                address = _args17.length > 0 && _args17[0] !== undefined ? _args17[0] : this.address;\n\n                if (address) {\n                  _context17.next = 3;\n                  break;\n                }\n\n                throw new Error(\"address should not be falsy\");\n\n              case 3:\n                _context17.prev = 3;\n                _context17.next = 6;\n                return this._httpClient.request(\"get\", \"\".concat(api.getAccount, \"/\").concat(address));\n\n              case 6:\n                data = _context17.sent;\n                return _context17.abrupt(\"return\", data);\n\n              case 10:\n                _context17.prev = 10;\n                _context17.t0 = _context17[\"catch\"](3);\n                return _context17.abrupt(\"return\", null);\n\n              case 13:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this, [[3, 10]]);\n      }));\n\n      function getAccount() {\n        return _getAccount.apply(this, arguments);\n      }\n\n      return getAccount;\n    }()\n    /**\n     * get balances\n     * @param {String} address optional address\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getBalance\",\n    value: function () {\n      var _getBalance = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee18() {\n        var address,\n            data,\n            _args18 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee18$(_context18) {\n          while (1) {\n            switch (_context18.prev = _context18.next) {\n              case 0:\n                address = _args18.length > 0 && _args18[0] !== undefined ? _args18[0] : this.address;\n                _context18.prev = 1;\n                _context18.next = 4;\n                return this.getAccount(address);\n\n              case 4:\n                data = _context18.sent;\n                return _context18.abrupt(\"return\", data.result.balances);\n\n              case 8:\n                _context18.prev = 8;\n                _context18.t0 = _context18[\"catch\"](1);\n                return _context18.abrupt(\"return\", []);\n\n              case 11:\n              case \"end\":\n                return _context18.stop();\n            }\n          }\n        }, _callee18, this, [[1, 8]]);\n      }));\n\n      function getBalance() {\n        return _getBalance.apply(this, arguments);\n      }\n\n      return getBalance;\n    }()\n    /**\n     * get markets\n     * @param {Number} limit max 1000 is default\n     * @param {Number} offset from beggining, default 0\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getMarkets\",\n    value: function () {\n      var _getMarkets = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee19() {\n        var limit,\n            offset,\n            data,\n            _args19 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                limit = _args19.length > 0 && _args19[0] !== undefined ? _args19[0] : 1000;\n                offset = _args19.length > 1 && _args19[1] !== undefined ? _args19[1] : 0;\n                _context19.prev = 2;\n                _context19.next = 5;\n                return this._httpClient.request(\"get\", \"\".concat(api.getMarkets, \"?limit=\").concat(limit, \"&offset=\").concat(offset));\n\n              case 5:\n                data = _context19.sent;\n                return _context19.abrupt(\"return\", data);\n\n              case 9:\n                _context19.prev = 9;\n                _context19.t0 = _context19[\"catch\"](2);\n                console.warn(\"getMarkets error\", _context19.t0);\n                return _context19.abrupt(\"return\", []);\n\n              case 13:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19, this, [[2, 9]]);\n      }));\n\n      function getMarkets() {\n        return _getMarkets.apply(this, arguments);\n      }\n\n      return getMarkets;\n    }()\n    /**\n     * get transactions for an account\n     * @param {String} address optional address\n     * @param {Number} offset from beggining, default 0\n     * @return {Promise} resolves with http response\n     * @deprecated please use getTxs instead.\n     */\n\n  }, {\n    key: \"getTransactions\",\n    value: function () {\n      var _getTransactions = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee20() {\n        var address,\n            offset,\n            data,\n            _args20 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee20$(_context20) {\n          while (1) {\n            switch (_context20.prev = _context20.next) {\n              case 0:\n                address = _args20.length > 0 && _args20[0] !== undefined ? _args20[0] : this.address;\n                offset = _args20.length > 1 && _args20[1] !== undefined ? _args20[1] : 0;\n                _context20.prev = 2;\n                _context20.next = 5;\n                return this._httpClient.request(\"get\", \"\".concat(api.getTransactions, \"?address=\").concat(address, \"&offset=\").concat(offset));\n\n              case 5:\n                data = _context20.sent;\n                return _context20.abrupt(\"return\", data);\n\n              case 9:\n                _context20.prev = 9;\n                _context20.t0 = _context20[\"catch\"](2);\n                console.warn(\"getTransactions error\", _context20.t0);\n                return _context20.abrupt(\"return\", []);\n\n              case 13:\n              case \"end\":\n                return _context20.stop();\n            }\n          }\n        }, _callee20, this, [[2, 9]]);\n      }));\n\n      function getTransactions() {\n        return _getTransactions.apply(this, arguments);\n      }\n\n      return getTransactions;\n    }()\n    /**\n     * get transactions for an account\n     * @param {String} address optional address\n     * @param {Number} startTime start time in milliseconds\n     * @param {Number} endTime end time in in milliseconds, endTime - startTime should be smaller than 7 days\n     * @return {Promise} resolves with http response ([more details](https://docs.binance.org/api-reference/dex-api/block-service.html#apiv1txs))\n     * ```js\n     * // Example:\n     * const client = new BncClient('https://testnet-api.binance.org')\n     * client.getTxs(...);\n     * ```\n     */\n\n  }, {\n    key: \"getTxs\",\n    value: function () {\n      var _getTxs = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee21() {\n        var address,\n            startTime,\n            endTime,\n            data,\n            _args21 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee21$(_context21) {\n          while (1) {\n            switch (_context21.prev = _context21.next) {\n              case 0:\n                address = _args21.length > 0 && _args21[0] !== undefined ? _args21[0] : this.address;\n                startTime = _args21.length > 1 ? _args21[1] : undefined;\n                endTime = _args21.length > 2 ? _args21[2] : undefined;\n                _context21.prev = 3;\n                _context21.next = 6;\n                return this._httpClient.request(\"get\", \"\".concat(api.getTxs, \"?address=\").concat(address, \"&startTime=\").concat(startTime, \"&endTime=\").concat(endTime));\n\n              case 6:\n                data = _context21.sent;\n                return _context21.abrupt(\"return\", data);\n\n              case 10:\n                _context21.prev = 10;\n                _context21.t0 = _context21[\"catch\"](3);\n                console.warn(\"getTxs error\", _context21.t0);\n                return _context21.abrupt(\"return\", []);\n\n              case 14:\n              case \"end\":\n                return _context21.stop();\n            }\n          }\n        }, _callee21, this, [[3, 10]]);\n      }));\n\n      function getTxs() {\n        return _getTxs.apply(this, arguments);\n      }\n\n      return getTxs;\n    }()\n    /**\n     * get transaction\n     * @param {String} hash the transaction hash\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getTx\",\n    value: function () {\n      var _getTx = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee22(hash) {\n        var data;\n        return _regenerator[\"default\"].wrap(function _callee22$(_context22) {\n          while (1) {\n            switch (_context22.prev = _context22.next) {\n              case 0:\n                _context22.prev = 0;\n                _context22.next = 3;\n                return this._httpClient.request(\"get\", \"\".concat(api.getTx, \"/\").concat(hash));\n\n              case 3:\n                data = _context22.sent;\n                return _context22.abrupt(\"return\", data);\n\n              case 7:\n                _context22.prev = 7;\n                _context22.t0 = _context22[\"catch\"](0);\n                console.warn(\"getTx error\", _context22.t0);\n                return _context22.abrupt(\"return\", []);\n\n              case 11:\n              case \"end\":\n                return _context22.stop();\n            }\n          }\n        }, _callee22, this, [[0, 7]]);\n      }));\n\n      function getTx(_x35) {\n        return _getTx.apply(this, arguments);\n      }\n\n      return getTx;\n    }()\n    /**\n     * get depth for a given market\n     * @param {String} symbol the market pair\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getDepth\",\n    value: function () {\n      var _getDepth = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee23() {\n        var symbol,\n            data,\n            _args23 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee23$(_context23) {\n          while (1) {\n            switch (_context23.prev = _context23.next) {\n              case 0:\n                symbol = _args23.length > 0 && _args23[0] !== undefined ? _args23[0] : \"BNB_BUSD-BD1\";\n                _context23.prev = 1;\n                _context23.next = 4;\n                return this._httpClient.request(\"get\", \"\".concat(api.getDepth, \"?symbol=\").concat(symbol));\n\n              case 4:\n                data = _context23.sent;\n                return _context23.abrupt(\"return\", data);\n\n              case 8:\n                _context23.prev = 8;\n                _context23.t0 = _context23[\"catch\"](1);\n                console.warn(\"getDepth error\", _context23.t0);\n                return _context23.abrupt(\"return\", []);\n\n              case 12:\n              case \"end\":\n                return _context23.stop();\n            }\n          }\n        }, _callee23, this, [[1, 8]]);\n      }));\n\n      function getDepth() {\n        return _getDepth.apply(this, arguments);\n      }\n\n      return getDepth;\n    }()\n    /**\n     * get open orders for an address\n     * @param {String} address binance address\n     * @param {String} symbol binance BEP2 symbol\n     * @return {Promise} resolves with http response\n     */\n\n  }, {\n    key: \"getOpenOrders\",\n    value: function () {\n      var _getOpenOrders = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee24() {\n        var address,\n            data,\n            _args24 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee24$(_context24) {\n          while (1) {\n            switch (_context24.prev = _context24.next) {\n              case 0:\n                address = _args24.length > 0 && _args24[0] !== undefined ? _args24[0] : this.address;\n                _context24.prev = 1;\n                _context24.next = 4;\n                return this._httpClient.request(\"get\", \"\".concat(api.getOpenOrders, \"?address=\").concat(address));\n\n              case 4:\n                data = _context24.sent;\n                return _context24.abrupt(\"return\", data);\n\n              case 8:\n                _context24.prev = 8;\n                _context24.t0 = _context24[\"catch\"](1);\n                console.warn(\"getOpenOrders error\", _context24.t0);\n                return _context24.abrupt(\"return\", []);\n\n              case 12:\n              case \"end\":\n                return _context24.stop();\n            }\n          }\n        }, _callee24, this, [[1, 8]]);\n      }));\n\n      function getOpenOrders() {\n        return _getOpenOrders.apply(this, arguments);\n      }\n\n      return getOpenOrders;\n    }()\n    /**\n     * get atomic swap\n     * @param {String} swapID: ID of an existing swap\n     * @return {Promise} AtomicSwap\n     */\n\n  }, {\n    key: \"getSwapByID\",\n    value: function () {\n      var _getSwapByID = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee25(swapID) {\n        var data;\n        return _regenerator[\"default\"].wrap(function _callee25$(_context25) {\n          while (1) {\n            switch (_context25.prev = _context25.next) {\n              case 0:\n                _context25.prev = 0;\n                _context25.next = 3;\n                return this._httpClient.request(\"get\", \"\".concat(api.getSwaps, \"/\").concat(swapID));\n\n              case 3:\n                data = _context25.sent;\n                return _context25.abrupt(\"return\", data);\n\n              case 7:\n                _context25.prev = 7;\n                _context25.t0 = _context25[\"catch\"](0);\n                console.warn(\"query swap by swapID error\", _context25.t0);\n                return _context25.abrupt(\"return\", []);\n\n              case 11:\n              case \"end\":\n                return _context25.stop();\n            }\n          }\n        }, _callee25, this, [[0, 7]]);\n      }));\n\n      function getSwapByID(_x36) {\n        return _getSwapByID.apply(this, arguments);\n      }\n\n      return getSwapByID;\n    }()\n    /**\n     * query atomic swap list by creator address\n     * @param {String} creator: swap creator address\n     * @param {Number} offset from beginning, default 0\n     * @param {Number} limit, max 1000 is default\n     * @return {Promise} Array of AtomicSwap\n     */\n\n  }, {\n    key: \"getSwapByCreator\",\n    value: function () {\n      var _getSwapByCreator = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee26(creator) {\n        var limit,\n            offset,\n            data,\n            _args26 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee26$(_context26) {\n          while (1) {\n            switch (_context26.prev = _context26.next) {\n              case 0:\n                limit = _args26.length > 1 && _args26[1] !== undefined ? _args26[1] : 100;\n                offset = _args26.length > 2 && _args26[2] !== undefined ? _args26[2] : 0;\n                _context26.prev = 2;\n                _context26.next = 5;\n                return this._httpClient.request(\"get\", \"\".concat(api.getSwaps, \"?fromAddress=\").concat(creator, \"&limit=\").concat(limit, \"&offset=\").concat(offset));\n\n              case 5:\n                data = _context26.sent;\n                return _context26.abrupt(\"return\", data);\n\n              case 9:\n                _context26.prev = 9;\n                _context26.t0 = _context26[\"catch\"](2);\n                console.warn(\"query swap list by swap creator error\", _context26.t0);\n                return _context26.abrupt(\"return\", []);\n\n              case 13:\n              case \"end\":\n                return _context26.stop();\n            }\n          }\n        }, _callee26, this, [[2, 9]]);\n      }));\n\n      function getSwapByCreator(_x37) {\n        return _getSwapByCreator.apply(this, arguments);\n      }\n\n      return getSwapByCreator;\n    }()\n    /**\n     * query atomic swap list by recipient address\n     * @param {String} recipient: the recipient address of the swap\n     * @param {Number} offset from beginning, default 0\n     * @param {Number} limit, max 1000 is default\n     * @return {Promise} Array of AtomicSwap\n     */\n\n  }, {\n    key: \"getSwapByRecipient\",\n    value: function () {\n      var _getSwapByRecipient = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee27(recipient) {\n        var limit,\n            offset,\n            data,\n            _args27 = arguments;\n        return _regenerator[\"default\"].wrap(function _callee27$(_context27) {\n          while (1) {\n            switch (_context27.prev = _context27.next) {\n              case 0:\n                limit = _args27.length > 1 && _args27[1] !== undefined ? _args27[1] : 100;\n                offset = _args27.length > 2 && _args27[2] !== undefined ? _args27[2] : 0;\n                _context27.prev = 2;\n                _context27.next = 5;\n                return this._httpClient.request(\"get\", \"\".concat(api.getSwaps, \"?toAddress=\").concat(recipient, \"&limit=\").concat(limit, \"&offset=\").concat(offset));\n\n              case 5:\n                data = _context27.sent;\n                return _context27.abrupt(\"return\", data);\n\n              case 9:\n                _context27.prev = 9;\n                _context27.t0 = _context27[\"catch\"](2);\n                console.warn(\"query swap list by swap recipient error\", _context27.t0);\n                return _context27.abrupt(\"return\", []);\n\n              case 13:\n              case \"end\":\n                return _context27.stop();\n            }\n          }\n        }, _callee27, this, [[2, 9]]);\n      }));\n\n      function getSwapByRecipient(_x38) {\n        return _getSwapByRecipient.apply(this, arguments);\n      }\n\n      return getSwapByRecipient;\n    }()\n    /**\n     * Creates a private key and returns it and its address.\n     * @return {object} the private key and address in an object.\n     * {\n     *  address,\n     *  privateKey\n     * }\n     */\n\n  }, {\n    key: \"createAccount\",\n    value: function createAccount() {\n      var privateKey = crypto.generatePrivateKey();\n      return {\n        privateKey: privateKey,\n        address: crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix)\n      };\n    }\n    /**\n     * Creates an account keystore object, and returns the private key and address.\n     * @param {String} password\n     *  {\n     *  privateKey,\n     *  address,\n     *  keystore\n     * }\n     */\n\n  }, {\n    key: \"createAccountWithKeystore\",\n    value: function createAccountWithKeystore(password) {\n      if (!password) {\n        throw new Error(\"password should not be falsy\");\n      }\n\n      var privateKey = crypto.generatePrivateKey();\n      var address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n      var keystore = crypto.generateKeyStore(privateKey, password);\n      return {\n        privateKey: privateKey,\n        address: address,\n        keystore: keystore\n      };\n    }\n    /**\n     * Creates an account from mnemonic seed phrase.\n     * @return {object}\n     * {\n     *  privateKey,\n     *  address,\n     *  mnemonic\n     * }\n     */\n\n  }, {\n    key: \"createAccountWithMneomnic\",\n    value: function createAccountWithMneomnic() {\n      var mnemonic = crypto.generateMnemonic();\n      var privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic);\n      var address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n      return {\n        privateKey: privateKey,\n        address: address,\n        mnemonic: mnemonic\n      };\n    }\n    /**\n     * Recovers an account from a keystore object.\n     * @param {object} keystore object.\n     * @param {string} password password.\n     * {\n     * privateKey,\n     * address\n     * }\n     */\n\n  }, {\n    key: \"recoverAccountFromKeystore\",\n    value: function recoverAccountFromKeystore(keystore, password) {\n      var privateKey = crypto.getPrivateKeyFromKeyStore(keystore, password);\n      var address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n      return {\n        privateKey: privateKey,\n        address: address\n      };\n    }\n    /**\n     * Recovers an account from a mnemonic seed phrase.\n     * @param {string} mneomnic\n     * {\n     * privateKey,\n     * address\n     * }\n     */\n\n  }, {\n    key: \"recoverAccountFromMnemonic\",\n    value: function recoverAccountFromMnemonic(mnemonic) {\n      var privateKey = crypto.getPrivateKeyFromMnemonic(mnemonic);\n      var address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n      return {\n        privateKey: privateKey,\n        address: address\n      };\n    } // support an old method name containing a typo\n\n  }, {\n    key: \"recoverAccountFromMneomnic\",\n    value: function recoverAccountFromMneomnic(mnemonic) {\n      return this.recoverAccountFromMnemonic(mnemonic);\n    }\n    /**\n     * Recovers an account using private key.\n     * @param {String} privateKey\n     * {\n     * privateKey,\n     * address\n     * }\n     */\n\n  }, {\n    key: \"recoverAccountFromPrivateKey\",\n    value: function recoverAccountFromPrivateKey(privateKey) {\n      var address = crypto.getAddressFromPrivateKey(privateKey, this.addressPrefix);\n      return {\n        privateKey: privateKey,\n        address: address\n      };\n    }\n    /**\n     * Validates an address.\n     * @param {String} address\n     * @param {String} prefix\n     * @return {Boolean}\n     */\n\n  }, {\n    key: \"checkAddress\",\n    value: function checkAddress(address) {\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.addressPrefix;\n      return crypto.checkAddress(address, prefix);\n    }\n    /**\n     * Returns the address for the current account if setPrivateKey has been called on this client.\n     * @return {String}\n     */\n\n  }, {\n    key: \"getClientKeyAddress\",\n    value: function getClientKeyAddress() {\n      if (!this._privateKey) throw new Error(\"no private key is set on this client\");\n      var address = crypto.getAddressFromPrivateKey(this._privateKey, this.addressPrefix);\n      this.address = address;\n      return address;\n    }\n  }]);\n  return BncClient;\n}();\n\nexports.BncClient = BncClient;"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAArC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAAD,CAApC;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAC3CC,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,SAAR,GAAoBF,OAAO,CAACG,qBAAR,GAAgCH,OAAO,CAACI,wBAAR,GAAmCJ,OAAO,CAACK,sBAAR,GAAiCL,OAAO,CAACM,sBAAR,GAAiCN,OAAO,CAACO,GAAR,GAAc,KAAK,CAA5K;;AAEA,IAAIC,gBAAgB,GAAGX,sBAAsB,CAACD,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIa,aAAa,GAAGZ,sBAAsB,CAACD,OAAO,CAAC,oCAAD,CAAR,CAA1C;;AAEA,IAAIc,gBAAgB,GAAGb,sBAAsB,CAACD,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIe,YAAY,GAAGd,sBAAsB,CAACD,OAAO,CAAC,4BAAD,CAAR,CAAzC;;AAEA,IAAIgB,kBAAkB,GAAGf,sBAAsB,CAACD,OAAO,CAAC,yCAAD,CAAR,CAA/C;;AAEA,IAAIiB,IAAI,GAAGhB,sBAAsB,CAACD,OAAO,CAAC,QAAD,CAAR,CAAjC;;AAEA,IAAIkB,MAAM,GAAGnB,uBAAuB,CAACC,OAAO,CAAC,WAAD,CAAR,CAApC;;AAEA,IAAImB,GAAG,GAAGlB,sBAAsB,CAACD,OAAO,CAAC,OAAD,CAAR,CAAhC;;AAEA,IAAIoB,MAAM,GAAGpB,OAAO,CAAC,WAAD,CAApB;;AAEA,IAAIqB,QAAQ,GAAGpB,sBAAsB,CAACD,OAAO,CAAC,kBAAD,CAAR,CAArC;;AAEA,IAAIsB,eAAe,GAAGtB,OAAO,CAAC,yBAAD,CAA7B;;AAEA,IAAIuB,IAAI,GAAGtB,sBAAsB,CAACD,OAAO,CAAC,OAAD,CAAR,CAAjC;;AAEA,IAAIwB,KAAK,GAAGvB,sBAAsB,CAACD,OAAO,CAAC,QAAD,CAAR,CAAlC;;AAEA,IAAIyB,MAAM,GAAG1B,uBAAuB,CAACC,OAAO,CAAC,SAAD,CAAR,CAApC;;AAEA,IAAI0B,OAAO,GAAG1B,OAAO,CAAC,UAAD,CAArB;;AAEA,IAAI2B,MAAM,GAAG3B,OAAO,CAAC,SAAD,CAApB;;AAEA,SAAS4B,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;EAAE,IAAIC,IAAI,GAAG7B,MAAM,CAAC6B,IAAP,CAAYF,MAAZ,CAAX;;EAAgC,IAAI3B,MAAM,CAAC8B,qBAAX,EAAkC;IAAE,IAAIC,OAAO,GAAG/B,MAAM,CAAC8B,qBAAP,CAA6BH,MAA7B,CAAd;IAAoD,IAAIC,cAAJ,EAAoBG,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;MAAE,OAAOjC,MAAM,CAACkC,wBAAP,CAAgCP,MAAhC,EAAwCM,GAAxC,EAA6CE,UAApD;IAAiE,CAAjG,CAAV;IAA8GN,IAAI,CAACO,IAAL,CAAUC,KAAV,CAAgBR,IAAhB,EAAsBE,OAAtB;EAAiC;;EAAC,OAAOF,IAAP;AAAc;;AAErV,SAASS,aAAT,CAAuBC,MAAvB,EAA+B;EAAE,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;IAAE,IAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;IAAuD,IAAIA,CAAC,GAAG,CAAR,EAAW;MAAEd,OAAO,CAAC1B,MAAM,CAAC2C,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUC,GAAV,EAAe;QAAE,CAAC,GAAGjC,gBAAgB,CAAC,SAAD,CAApB,EAAiC2B,MAAjC,EAAyCM,GAAzC,EAA8CF,MAAM,CAACE,GAAD,CAApD;MAA6D,CAApH;IAAwH,CAArI,MAA2I,IAAI7C,MAAM,CAAC8C,yBAAX,EAAsC;MAAE9C,MAAM,CAAC+C,gBAAP,CAAwBR,MAAxB,EAAgCvC,MAAM,CAAC8C,yBAAP,CAAiCH,MAAjC,CAAhC;IAA4E,CAApH,MAA0H;MAAEjB,OAAO,CAAC1B,MAAM,CAAC2C,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;QAAE7C,MAAM,CAACC,cAAP,CAAsBsC,MAAtB,EAA8BM,GAA9B,EAAmC7C,MAAM,CAACkC,wBAAP,CAAgCS,MAAhC,EAAwCE,GAAxC,CAAnC;MAAmF,CAApI;IAAwI;EAAE;;EAAC,OAAON,MAAP;AAAgB;;AAEviB,IAAIS,UAAU,GAAGC,IAAI,CAACC,GAAL,CAAS,EAAT,EAAa,CAAb,CAAjB;AACA,IAAIzC,GAAG,GAAG;EACR0C,SAAS,EAAE,mBADH;EAERC,QAAQ,EAAE,mBAFF;EAGRC,UAAU,EAAE,iBAHJ;EAIRC,UAAU,EAAE,iBAJJ;EAKRC,QAAQ,EAAE,sBALF;EAMRC,aAAa,EAAE,qBANP;EAORC,QAAQ,EAAE,eAPF;EAQRC,eAAe,EAAE,sBART;EASRC,MAAM,EAAE,gBATA;EAURC,KAAK,EAAE;AAVC,CAAV;AAYA1D,OAAO,CAACO,GAAR,GAAcA,GAAd;AACA,IAAID,sBAAsB,GAAG;EAC3BqD,OAAO,EAAE,MADkB;EAE3BC,OAAO,EAAE;AAFkB,CAA7B;AAIA5D,OAAO,CAACM,sBAAR,GAAiCA,sBAAjC;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAID,sBAAsB,GAAG,aAAa,YAAY;EACpD,IAAIwD,IAAI,GAAG,CAAC,GAAGjD,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASC,OAAT,CAAiBC,EAAjB,EAAqBC,OAArB,EAA8B;IACrH,IAAIC,UAAJ;IACA,OAAOvD,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;MAC9D,OAAO,CAAP,EAAU;QACR,QAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;UACE,KAAK,CAAL;YACEL,UAAU,GAAG,KAAKM,aAAL,EAAb;;YAEA,IAAIN,UAAJ,EAAgB;cACdG,QAAQ,CAACE,IAAT,GAAgB,CAAhB;cACA;YACD;;YAED,OAAOF,QAAQ,CAACI,MAAT,CAAgB,QAAhB,EAA0BC,OAAO,CAACC,MAAR,CAAe,wDAAf,CAA1B,CAAP;;UAEF,KAAK,CAAL;YACE,OAAON,QAAQ,CAACI,MAAT,CAAgB,QAAhB,EAA0BT,EAAE,CAACY,IAAH,CAAQV,UAAR,EAAoBD,OAApB,CAA1B,CAAP;;UAEF,KAAK,CAAL;UACA,KAAK,KAAL;YACE,OAAOI,QAAQ,CAACQ,IAAT,EAAP;QAhBJ;MAkBD;IACF,CArBM,EAqBJd,OArBI,EAqBK,IArBL,CAAP;EAsBD,CAxB2D,CAAjD,CAAX;;EA0BA,OAAO,SAAS1D,sBAAT,CAAgCyE,EAAhC,EAAoCC,GAApC,EAAyCC,GAAzC,EAA8C;IACnD,OAAOnB,IAAI,CAAC1B,KAAL,CAAW,IAAX,EAAiBI,SAAjB,CAAP;EACD,CAFD;AAGD,CA9ByC,EAA1C;AA+BA;AACA;AACA;AACA;;;AAGAvC,OAAO,CAACK,sBAAR,GAAiCA,sBAAjC;;AAEA,IAAID,wBAAwB,GAAG,aAAa,YAAY;EACtD,IAAI6E,KAAK,GAAG,CAAC,GAAGrE,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASoB,QAAT,CAAkBC,QAAlB,EAA4B;IACpH,OAAOxE,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASiB,SAAT,CAAmBC,SAAnB,EAA8B;MAChE,OAAO,CAAP,EAAU;QACR,QAAQA,SAAS,CAACf,IAAV,GAAiBe,SAAS,CAACd,IAAnC;UACE,KAAK,CAAL;YACE,OAAOc,SAAS,CAACZ,MAAV,CAAiB,QAAjB,EAA2B,KAAKa,eAAL,CAAqBH,QAArB,EAA+B,IAA/B,CAA3B,CAAP;;UAEF,KAAK,CAAL;UACA,KAAK,KAAL;YACE,OAAOE,SAAS,CAACR,IAAV,EAAP;QANJ;MAQD;IACF,CAXM,EAWJK,QAXI,EAWM,IAXN,CAAP;EAYD,CAb4D,CAAjD,CAAZ;;EAeA,OAAO,SAAS9E,wBAAT,CAAkCmF,GAAlC,EAAuCC,GAAvC,EAA4C;IACjD,OAAOP,KAAK,CAAC9C,KAAN,CAAY,IAAZ,EAAkBI,SAAlB,CAAP;EACD,CAFD;AAGD,CAnB2C,EAA5C;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGAvC,OAAO,CAACI,wBAAR,GAAmCA,wBAAnC;;AAEA,IAAID,qBAAqB,GAAG,SAASA,qBAAT,CAA+BsF,SAA/B,EAA0CC,SAA1C,EAAqDC,UAArD,EAAiEC,KAAjE,EAAwEC,MAAxE,EAAgF;EAC1G,OAAO,aAAa,YAAY;IAC9B,IAAIC,KAAK,GAAG,CAAC,GAAGlF,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASiC,QAAT,CAAkB/B,EAAlB,EAAsBC,OAAtB,EAA+B;MACvH,IAAI+B,SAAJ,EAAeC,UAAf,EAA2BC,OAA3B,EAAoCC,MAApC;MACA,OAAOxF,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASiC,SAAT,CAAmBC,SAAnB,EAA8B;QAChE,OAAO,CAAP,EAAU;UACR,QAAQA,SAAS,CAAC/B,IAAV,GAAiB+B,SAAS,CAAC9B,IAAnC;YACE,KAAK,CAAL;cACEyB,SAAS,GAAGhC,EAAE,CAACsC,YAAH,CAAgBrC,OAAhB,CAAZ;cACAyB,SAAS,IAAIA,SAAS,CAACM,SAAD,CAAtB;cACAK,SAAS,CAAC/B,IAAV,GAAiB,CAAjB;cACA+B,SAAS,CAAC9B,IAAV,GAAiB,CAAjB;cACA,OAAOkB,SAAS,CAACc,YAAV,CAAuBV,MAAvB,CAAP;;YAEF,KAAK,CAAL;cACEI,UAAU,GAAGI,SAAS,CAACG,IAAvB;cACAH,SAAS,CAAC9B,IAAV,GAAiB,CAAjB;cACA,OAAOkB,SAAS,CAACb,IAAV,CAAeoB,SAAf,EAA0BH,MAA1B,CAAP;;YAEF,KAAK,CAAL;cACEK,OAAO,GAAGG,SAAS,CAACG,IAApB;cACAb,UAAU,IAAIA,UAAU,CAACM,UAAD,EAAaC,OAAb,CAAxB;cACAG,SAAS,CAAC9B,IAAV,GAAiB,EAAjB;cACA;;YAEF,KAAK,EAAL;cACE8B,SAAS,CAAC/B,IAAV,GAAiB,EAAjB;cACA+B,SAAS,CAACI,EAAV,GAAeJ,SAAS,CAAC,OAAD,CAAT,CAAmB,CAAnB,CAAf;cACAK,OAAO,CAACC,IAAR,CAAa,6BAAb,EAA4CN,SAAS,CAACI,EAAtD;cACAb,KAAK,IAAIA,KAAK,CAACS,SAAS,CAACI,EAAX,CAAd;;YAEF,KAAK,EAAL;cACE,IAAI,EAAEP,OAAO,IAAIA,OAAO,CAACU,SAArB,CAAJ,EAAqC;gBACnCP,SAAS,CAAC9B,IAAV,GAAiB,EAAjB;gBACA;cACD;;cAED4B,MAAM,GAAGrF,MAAM,CAACyF,YAAP,CAAoBN,UAAU,CAACY,EAAX,CAAcC,QAAd,CAAuB,KAAvB,CAApB,CAAT;cACA,OAAOT,SAAS,CAAC5B,MAAV,CAAiB,QAAjB,EAA2BT,EAAE,CAAC+C,YAAH,CAAgBZ,MAAhB,EAAwBD,OAAO,CAACU,SAAhC,CAA3B,CAAP;;YAEF,KAAK,EAAL;cACE,OAAOP,SAAS,CAAC5B,MAAV,CAAiB,QAAjB,EAA2BT,EAA3B,CAAP;;YAEF,KAAK,EAAL;YACA,KAAK,KAAL;cACE,OAAOqC,SAAS,CAACxB,IAAV,EAAP;UAvCJ;QAyCD;MACF,CA5CM,EA4CJkB,QA5CI,EA4CM,IA5CN,EA4CY,CAAC,CAAC,CAAD,EAAI,EAAJ,CAAD,CA5CZ,CAAP;IA6CD,CA/C4D,CAAjD,CAAZ;;IAiDA,OAAO,UAAUiB,GAAV,EAAeC,GAAf,EAAoB;MACzB,OAAOnB,KAAK,CAAC3D,KAAN,CAAY,IAAZ,EAAkBI,SAAlB,CAAP;IACD,CAFD;EAGD,CArDmB,EAApB;AAsDD,CAvDD;AAwDA;AACA;AACA;AACA;;;AAGAvC,OAAO,CAACG,qBAAR,GAAgCA,qBAAhC;;AAEA,IAAI+G,YAAY,GAAG,SAASA,YAAT,CAAsBC,OAAtB,EAA+B;EAChDA,OAAO,CAACzE,OAAR,CAAgB,UAAU0E,QAAV,EAAoB;IAClC,IAAIC,KAAK,GAAGD,QAAQ,CAACC,KAAT,IAAkB,EAA9B;IACAA,KAAK,CAAC3E,OAAN,CAAc,UAAU4E,IAAV,EAAgB;MAC5B,CAAC,GAAGpG,eAAe,CAACqG,WAApB,EAAiCD,IAAI,CAACE,MAAtC;;MAEA,IAAI,CAACF,IAAI,CAACG,KAAV,EAAiB;QACf,MAAM,IAAIC,KAAJ,CAAU,gBAAV,CAAN;MACD;IACF,CAND;EAOD,CATD;AAUD,CAXD;AAYA;AACA;AACA;AACA;AACA;;;AAGA,IAAIC,aAAa,GAAG,SAASA,aAAT,CAAuBC,MAAvB,EAA+BP,KAA/B,EAAsC;EACxDA,KAAK,CAAC3E,OAAN,CAAc,UAAU4E,IAAV,EAAgB;IAC5B,IAAIO,SAAS,GAAGD,MAAM,CAAC,CAAD,CAAN,CAAUP,KAAV,CAAgBS,IAAhB,CAAqB,UAAUC,CAAV,EAAa;MAChD,OAAOA,CAAC,CAACN,KAAF,KAAYH,IAAI,CAACG,KAAxB;IACD,CAFe,CAAhB;;IAIA,IAAII,SAAJ,EAAe;MACb,IAAIG,WAAW,GAAG,IAAInH,IAAI,CAAC,SAAD,CAAR,CAAoBgH,SAAS,CAACL,MAA9B,CAAlB;MACAK,SAAS,CAACL,MAAV,GAAmBS,MAAM,CAACD,WAAW,CAACE,IAAZ,CAAiBZ,IAAI,CAACE,MAAtB,EAA8BV,QAA9B,EAAD,CAAzB;IACD,CAHD,MAGO;MACLc,MAAM,CAAC,CAAD,CAAN,CAAUP,KAAV,CAAgBnF,IAAhB,CAAqBE,aAAa,CAAC,EAAD,EAAKkF,IAAL,CAAlC;IACD;EACF,CAXD;AAYD,CAbD;AAcA;AACA;AACA;;;AAGA,IAAIpH,SAAS,GAAG,aAAa,YAAY;EACvC;AACF;AACA;AACA;AACA;EACE,SAASA,SAAT,CAAmBiI,MAAnB,EAA2B;IACzB,IAAIC,iBAAiB,GAAG7F,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8F,SAAzC,GAAqD9F,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAA5F;IACA,IAAIE,MAAM,GAAGF,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8F,SAAzC,GAAqD9F,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAjF;IACA,CAAC,GAAG/B,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuCN,SAAvC;IACA,CAAC,GAAGQ,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,aAAvC,EAAsD,KAAK,CAA3D;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,kBAAvC,EAA2D,KAAK,CAAhE;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,oBAAvC,EAA6D,KAAK,CAAlE;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,oBAAvC,EAA6D,KAAK,CAAlE;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,SAAvC,EAAkD,KAAK,CAAvD;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,QAAvC,EAAiD,KAAK,CAAtD;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,MAAvC,EAA+C,KAAK,CAApD;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,KAAvC,EAA8C,KAAK,CAAnD;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,QAAvC,EAAiD,KAAK,CAAtD;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,OAAvC,EAAgD,KAAK,CAArD;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,SAAvC,EAAkD,KAAK,CAAvD;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,eAAvC,EAAwD,MAAxD;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,SAAvC,EAAkD,SAAlD;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,SAAvC,EAAkD,KAAK,CAAvD;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,eAAvC,EAAwD,KAAK,CAA7D;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,gBAAvC,EAAyD,KAAK,CAA9D;IACA,CAAC,GAAGA,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuC,aAAvC,EAAsD,IAAtD;;IAEA,IAAI,CAACyH,MAAL,EAAa;MACX,MAAM,IAAIT,KAAJ,CAAU,yCAAV,CAAN;IACD;;IAED,KAAKY,WAAL,GAAmB,IAAIrH,QAAQ,CAAC,SAAD,CAAZ,CAAwBkH,MAAxB,CAAnB;IACA,KAAKI,gBAAL,GAAwBlI,sBAAxB;IACA,KAAKmI,kBAAL,GAA0BpI,wBAA1B;IACA,KAAKqI,kBAAL,GAA0BL,iBAA1B;IACA,KAAKM,OAAL,GAAejG,MAAf;IACA,KAAKkG,MAAL,GAAc,IAAItH,MAAM,CAAC,SAAD,CAAV,CAAsB,IAAtB,CAAd;IACA,KAAKuH,IAAL,GAAY,IAAIxH,KAAK,CAAC,SAAD,CAAT,CAAqB,IAArB,CAAZ;IACA,KAAKyH,GAAL,GAAW,IAAI1H,IAAI,CAAC,SAAD,CAAR,CAAoB,IAApB,CAAX;IACA,KAAK2H,MAAL,GAAc,IAAIxH,OAAO,CAACyH,MAAZ,CAAmB,IAAnB,CAAd;IACA,KAAKC,KAAL,GAAa,IAAIzH,MAAM,CAAC0H,KAAX,CAAiB,IAAjB,CAAb;EACD;EACD;AACF;AACA;AACA;;;EAGE,CAAC,GAAGxI,aAAa,CAAC,SAAD,CAAjB,EAA8BP,SAA9B,EAAyC,CAAC;IACxCyC,GAAG,EAAE,WADmC;IAExC1C,KAAK,EAAE,YAAY;MACjB,IAAIiJ,UAAU,GAAG,CAAC,GAAGtI,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASqF,QAAT,GAAoB;QACjH,IAAIC,IAAJ;QACA,OAAOzI,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASkF,SAAT,CAAmBC,SAAnB,EAA8B;UAChE,OAAO,CAAP,EAAU;YACR,QAAQA,SAAS,CAAChF,IAAV,GAAiBgF,SAAS,CAAC/E,IAAnC;cACE,KAAK,CAAL;gBACE,IAAI,KAAKgF,OAAT,EAAkB;kBAChBD,SAAS,CAAC/E,IAAV,GAAiB,CAAjB;kBACA;gBACD;;gBAED+E,SAAS,CAAC/E,IAAV,GAAiB,CAAjB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgCjJ,GAAG,CAAC2C,QAApC,CAAP;;cAEF,KAAK,CAAL;gBACEkG,IAAI,GAAGE,SAAS,CAAC9C,IAAjB;gBACA,KAAK+C,OAAL,GAAeH,IAAI,CAACK,MAAL,CAAYC,SAAZ,IAAyBN,IAAI,CAACK,MAAL,CAAYC,SAAZ,CAAsBC,OAA9D;;cAEF,KAAK,CAAL;gBACE,OAAOL,SAAS,CAAC7E,MAAV,CAAiB,QAAjB,EAA2B,IAA3B,CAAP;;cAEF,KAAK,CAAL;cACA,KAAK,KAAL;gBACE,OAAO6E,SAAS,CAACzE,IAAV,EAAP;YAnBJ;UAqBD;QACF,CAxBM,EAwBJsE,QAxBI,EAwBM,IAxBN,CAAP;MAyBD,CA3BiE,CAAjD,CAAjB;;MA6BA,SAASS,SAAT,GAAqB;QACnB,OAAOV,UAAU,CAAC/G,KAAX,CAAiB,IAAjB,EAAuBI,SAAvB,CAAP;MACD;;MAED,OAAOqH,SAAP;IACD,CAnCM;IAoCP;AACJ;AACA;AACA;;EAzC4C,CAAD,EA2CtC;IACDjH,GAAG,EAAE,eADJ;IAED1C,KAAK,EAAE,SAAS4J,aAAT,CAAuBF,OAAvB,EAAgC;MACrC,KAAKG,aAAL,GAAqBxJ,sBAAsB,CAACqJ,OAAD,CAAtB,IAAmC,MAAxD;MACA,KAAKA,OAAL,GAAerJ,sBAAsB,CAACqJ,OAAD,CAAtB,GAAkCA,OAAlC,GAA4C,SAA3D;IACD;IACD;AACJ;AACA;AACA;AACA;AACA;;EAXK,CA3CsC,EAwDtC;IACDhH,GAAG,EAAE,eADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAI8J,cAAc,GAAG,CAAC,GAAGnJ,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASkG,QAAT,CAAkB9F,UAAlB,EAA8B;QAC/H,IAAI+F,SAAJ;QAAA,IACIC,OADJ;QAAA,IAEIC,OAFJ;QAAA,IAGIf,IAHJ;QAAA,IAIIgB,MAAM,GAAG7H,SAJb;QAKA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASkG,SAAT,CAAmBC,SAAnB,EAA8B;UAChE,OAAO,CAAP,EAAU;YACR,QAAQA,SAAS,CAAChG,IAAV,GAAiBgG,SAAS,CAAC/F,IAAnC;cACE,KAAK,CAAL;gBACE0F,SAAS,GAAGG,MAAM,CAAC5H,MAAP,GAAgB,CAAhB,IAAqB4H,MAAM,CAAC,CAAD,CAAN,KAAc/B,SAAnC,GAA+C+B,MAAM,CAAC,CAAD,CAArD,GAA2D,KAAvE;;gBAEA,IAAI,EAAElG,UAAU,KAAK,KAAKqG,WAAtB,CAAJ,EAAwC;kBACtCD,SAAS,CAAC/F,IAAV,GAAiB,EAAjB;kBACA;gBACD;;gBAED2F,OAAO,GAAGpJ,MAAM,CAAC0J,wBAAP,CAAgCtG,UAAhC,EAA4C,KAAK4F,aAAjD,CAAV;;gBAEA,IAAII,OAAJ,EAAa;kBACXI,SAAS,CAAC/F,IAAV,GAAiB,CAAjB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,qBAAqB+C,MAArB,CAA4BP,OAA5B,EAAqC,wBAArC,CAAV,CAAN;;cAEF,KAAK,CAAL;gBACE,KAAKK,WAAL,GAAmBrG,UAAnB;gBACA,KAAKgG,OAAL,GAAeA,OAAf;;gBAEA,IAAID,SAAJ,EAAe;kBACbK,SAAS,CAAC/F,IAAV,GAAiB,EAAjB;kBACA;gBACD;;gBAED+F,SAAS,CAAChG,IAAV,GAAiB,CAAjB;gBACA6F,OAAO,GAAG,KAAKO,aAAL,GAAqB,KAAKpC,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAAC4C,UAAd,EAA0B,GAA1B,EAA+BsH,MAA/B,CAAsCP,OAAtC,CAAhC,CAA/B;gBACAI,SAAS,CAAC/F,IAAV,GAAiB,EAAjB;gBACA,OAAO4F,OAAP;;cAEF,KAAK,EAAL;gBACEf,IAAI,GAAGkB,SAAS,CAAC9D,IAAjB;gBACA,KAAKmE,cAAL,GAAsBvB,IAAI,CAACK,MAAL,CAAYkB,cAAlC;gBACAL,SAAS,CAAC/F,IAAV,GAAiB,EAAjB;gBACA;;cAEF,KAAK,EAAL;gBACE+F,SAAS,CAAChG,IAAV,GAAiB,EAAjB;gBACAgG,SAAS,CAAC7D,EAAV,GAAe6D,SAAS,CAAC,OAAD,CAAT,CAAmB,CAAnB,CAAf;gBACA,MAAM,IAAI5C,KAAJ,CAAU,mFAAmF+C,MAAnF,CAA0FP,OAA1F,CAAV,CAAN;;cAEF,KAAK,EAAL;gBACE,OAAOI,SAAS,CAAC7F,MAAV,CAAiB,QAAjB,EAA2B,IAA3B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAO6F,SAAS,CAACzF,IAAV,EAAP;YAhDJ;UAkDD;QACF,CArDM,EAqDJmF,QArDI,EAqDM,IArDN,EAqDY,CAAC,CAAC,CAAD,EAAI,EAAJ,CAAD,CArDZ,CAAP;MAsDD,CA5DqE,CAAjD,CAArB;;MA8DA,SAASY,aAAT,CAAuBC,GAAvB,EAA4B;QAC1B,OAAOd,cAAc,CAAC5H,KAAf,CAAqB,IAArB,EAA2BI,SAA3B,CAAP;MACD;;MAED,OAAOqI,aAAP;IACD,CApEM;IAqEP;AACJ;AACA;AACA;;EA1EK,CAxDsC,EAoItC;IACDjI,GAAG,EAAE,kBADJ;IAED1C,KAAK,EAAE,SAAS6K,gBAAT,GAA4B;MACjC,KAAKP,WAAL,GAAmB,IAAnB;MACA,OAAO,IAAP;IACD;IACD;AACJ;AACA;AACA;;EATK,CApIsC,EA+ItC;IACD5H,GAAG,EAAE,eADJ;IAED1C,KAAK,EAAE,SAASuE,aAAT,GAAyB;MAC9B,OAAO,KAAK+F,WAAZ;IACD;IACD;AACJ;AACA;AACA;;EARK,CA/IsC,EAyJtC;IACD5H,GAAG,EAAE,kBADJ;IAED1C,KAAK,EAAE,SAAS8K,gBAAT,CAA0BC,aAA1B,EAAyC;MAC9C,KAAKL,cAAL,GAAsBK,aAAtB;IACD;IACD;AACJ;AACA;AACA;AACA;;EATK,CAzJsC,EAoKtC;IACDrI,GAAG,EAAE,mBADJ;IAED1C,KAAK,EAAE,SAASmI,iBAAT,GAA6B;MAClC,IAAIK,kBAAkB,GAAGlG,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8F,SAAzC,GAAqD9F,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAA7F;;MAEA,KAAKkG,kBAAL,GAA0BA,kBAA1B;MACA,OAAO,IAAP;IACD;IACD;AACJ;AACA;AACA;AACA;;EAZK,CApKsC,EAkLtC;IACD9F,GAAG,EAAE,oBADJ;IAED1C,KAAK,EAAE,SAASgL,kBAAT,CAA4BC,QAA5B,EAAsC;MAC3C,IAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC,MAAM,IAAIxD,KAAJ,CAAU,qCAAV,CAAN;MACpC,KAAKa,gBAAL,GAAwB2C,QAAxB;MACA,OAAO,IAAP;IACD;IACD;AACJ;AACA;AACA;AACA;;EAXK,CAlLsC,EA+LtC;IACDvI,GAAG,EAAE,sBADJ;IAED1C,KAAK,EAAE,SAASkL,oBAAT,CAA8BD,QAA9B,EAAwC;MAC7C,IAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC,MAAM,IAAIxD,KAAJ,CAAU,uCAAV,CAAN;MACpC,KAAKc,kBAAL,GAA0B0C,QAA1B;MACA,OAAO,IAAP;IACD;IACD;AACJ;AACA;AACA;;EAVK,CA/LsC,EA2MtC;IACDvI,GAAG,EAAE,2BADJ;IAED1C,KAAK,EAAE,SAASmL,yBAAT,GAAqC;MAC1C,KAAK7C,gBAAL,GAAwBlI,sBAAxB;MACA,OAAO,IAAP;IACD;IACD;AACJ;AACA;AACA;;EATK,CA3MsC,EAsNtC;IACDsC,GAAG,EAAE,6BADJ;IAED1C,KAAK,EAAE,SAASoL,2BAAT,GAAuC;MAC5C,KAAK7C,kBAAL,GAA0BpI,wBAA1B;MACA,OAAO,IAAP;IACD;IACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;EAbK,CAtNsC,EAqOtC;IACDuC,GAAG,EAAE,0BADJ;IAED1C,KAAK,EAAE,SAASqL,wBAAT,GAAoC;MACzC,KAAK/C,gBAAL,GAAwBpI,qBAAqB,CAACgC,KAAtB,CAA4B,KAAK,CAAjC,EAAoCI,SAApC,CAAxB;MACA,OAAO,IAAP;IACD;IACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAfK,CArOsC,EAsPtC;IACDI,GAAG,EAAE,UADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIsL,SAAS,GAAG,CAAC,GAAG3K,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAAS0H,QAAT,CAAkBC,WAAlB,EAA+BC,SAA/B,EAA0ClE,MAA1C,EAAkDmE,KAAlD,EAAyD;QACrJ,IAAIC,IAAJ;QAAA,IACIC,QADJ;QAAA,IAEIC,OAFJ;QAAA,IAGIC,SAHJ;QAAA,IAIIzE,IAJJ;QAAA,IAKI0E,GALJ;QAAA,IAMI/H,OANJ;QAAA,IAOIkB,QAPJ;QAAA,IAQI8G,MAAM,GAAG1J,SARb;QASA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAAS+H,SAAT,CAAmBC,SAAnB,EAA8B;UAChE,OAAO,CAAP,EAAU;YACR,QAAQA,SAAS,CAAC7H,IAAV,GAAiB6H,SAAS,CAAC5H,IAAnC;cACE,KAAK,CAAL;gBACEqH,IAAI,GAAGK,MAAM,CAACzJ,MAAP,GAAgB,CAAhB,IAAqByJ,MAAM,CAAC,CAAD,CAAN,KAAc5D,SAAnC,GAA+C4D,MAAM,CAAC,CAAD,CAArD,GAA2D,EAAlE;gBACAJ,QAAQ,GAAGI,MAAM,CAACzJ,MAAP,GAAgB,CAAhB,IAAqByJ,MAAM,CAAC,CAAD,CAAN,KAAc5D,SAAnC,GAA+C4D,MAAM,CAAC,CAAD,CAArD,GAA2D,IAAtE;gBACAH,OAAO,GAAGhL,MAAM,CAACsL,aAAP,CAAqBX,WAArB,CAAV;gBACAM,SAAS,GAAGjL,MAAM,CAACsL,aAAP,CAAqBV,SAArB,CAAZ;gBACAlE,MAAM,GAAG,IAAI3G,IAAI,CAAC,SAAD,CAAR,CAAoB2G,MAApB,CAAT;gBACAA,MAAM,GAAGS,MAAM,CAACT,MAAM,CAAC6E,GAAP,CAAWvJ,UAAX,EAAuBgE,QAAvB,EAAD,CAAf;gBACA,CAAC,GAAG5F,eAAe,CAACqG,WAApB,EAAiCC,MAAjC,EAAyC,QAAzC;gBACAF,IAAI,GAAG;kBACLG,KAAK,EAAEkE,KADF;kBAELnE,MAAM,EAAEA;gBAFH,CAAP;gBAIAwE,GAAG,GAAG;kBACJpE,MAAM,EAAE,CAAC;oBACPsC,OAAO,EAAE4B,OADF;oBAEPzE,KAAK,EAAE,CAACC,IAAD;kBAFA,CAAD,CADJ;kBAKJH,OAAO,EAAE,CAAC;oBACR+C,OAAO,EAAE6B,SADD;oBAER1E,KAAK,EAAE,CAACC,IAAD;kBAFC,CAAD,CALL;kBASJgF,WAAW,EAAEtL,MAAM,CAACuL,WAAP,CAAmBC;gBAT5B,CAAN;gBAWAvI,OAAO,GAAG;kBACR2D,MAAM,EAAE,CAAC;oBACPsC,OAAO,EAAEuB,WADF;oBAEPpE,KAAK,EAAE,CAAC;sBACNG,MAAM,EAAEA,MADF;sBAENC,KAAK,EAAEkE;oBAFD,CAAD;kBAFA,CAAD,CADA;kBAQRxE,OAAO,EAAE,CAAC;oBACR+C,OAAO,EAAEwB,SADD;oBAERrE,KAAK,EAAE,CAAC;sBACNG,MAAM,EAAEA,MADF;sBAENC,KAAK,EAAEkE;oBAFD,CAAD;kBAFC,CAAD;gBARD,CAAV;gBAgBAQ,SAAS,CAAC5H,IAAV,GAAiB,EAAjB;gBACA,OAAO,KAAKkI,mBAAL,CAAyBT,GAAzB,EAA8B/H,OAA9B,EAAuCwH,WAAvC,EAAoDI,QAApD,EAA8DD,IAA9D,CAAP;;cAEF,KAAK,EAAL;gBACEzG,QAAQ,GAAGgH,SAAS,CAAC3F,IAArB;gBACA,OAAO2F,SAAS,CAAC1H,MAAV,CAAiB,QAAjB,EAA2B,KAAK+D,kBAAL,CAAwBrD,QAAxB,CAA3B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOgH,SAAS,CAACtH,IAAV,EAAP;YAjDJ;UAmDD;QACF,CAtDM,EAsDJ2G,QAtDI,EAsDM,IAtDN,CAAP;MAuDD,CAjEgE,CAAjD,CAAhB;;MAmEA,SAASpE,QAAT,CAAkBsF,GAAlB,EAAuBC,IAAvB,EAA6BC,IAA7B,EAAmCC,IAAnC,EAAyC;QACvC,OAAOtB,SAAS,CAACpJ,KAAV,CAAgB,IAAhB,EAAsBI,SAAtB,CAAP;MACD;;MAED,OAAO6E,QAAP;IACD,CAzEM;IA0EP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAzGK,CAtPsC,EAiWtC;IACDzE,GAAG,EAAE,WADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAI6M,UAAU,GAAG,CAAC,GAAGlM,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASiJ,QAAT,CAAkBtB,WAAlB,EAA+BtE,OAA/B,EAAwC;QACrI,IAAIyE,IAAJ;QAAA,IACIC,QADJ;QAAA,IAEImB,YAFJ;QAAA,IAGIpF,MAHJ;QAAA,IAIIqF,SAJJ;QAAA,IAKIjB,GALJ;QAAA,IAMIkB,UANJ;QAAA,IAOIC,WAPJ;QAAA,IAQIlJ,OARJ;QAAA,IASIkB,QATJ;QAAA,IAUIiI,MAAM,GAAG7K,SAVb;QAWA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASkJ,SAAT,CAAmBC,SAAnB,EAA8B;UAChE,OAAO,CAAP,EAAU;YACR,QAAQA,SAAS,CAAChJ,IAAV,GAAiBgJ,SAAS,CAAC/I,IAAnC;cACE,KAAK,CAAL;gBACEqH,IAAI,GAAGwB,MAAM,CAAC5K,MAAP,GAAgB,CAAhB,IAAqB4K,MAAM,CAAC,CAAD,CAAN,KAAc/E,SAAnC,GAA+C+E,MAAM,CAAC,CAAD,CAArD,GAA2D,EAAlE;gBACAvB,QAAQ,GAAGuB,MAAM,CAAC5K,MAAP,GAAgB,CAAhB,IAAqB4K,MAAM,CAAC,CAAD,CAAN,KAAc/E,SAAnC,GAA+C+E,MAAM,CAAC,CAAD,CAArD,GAA2D,IAAtE;;gBAEA,IAAI3B,WAAJ,EAAiB;kBACf6B,SAAS,CAAC/I,IAAV,GAAiB,CAAjB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,iCAAV,CAAN;;cAEF,KAAK,CAAL;gBACE,IAAI6F,KAAK,CAACC,OAAN,CAAcrG,OAAd,CAAJ,EAA4B;kBAC1BmG,SAAS,CAAC/I,IAAV,GAAiB,CAAjB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,yBAAV,CAAN;;cAEF,KAAK,CAAL;gBACER,YAAY,CAACC,OAAD,CAAZ,CADF,CACyB;;gBAEvBA,OAAO,CAACzE,OAAR,CAAgB,UAAU+K,IAAV,EAAgB;kBAC9BA,IAAI,CAACpG,KAAL,GAAaoG,IAAI,CAACpG,KAAL,CAAWqG,IAAX,CAAgB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;oBAC3C,OAAOD,CAAC,CAAClG,KAAF,CAAQoG,aAAR,CAAsBD,CAAC,CAACnG,KAAxB,CAAP;kBACD,CAFY,CAAb;kBAGAgG,IAAI,CAACpG,KAAL,CAAW3E,OAAX,CAAmB,UAAU4E,IAAV,EAAgB;oBACjC,IAAIE,MAAM,GAAG,IAAI3G,IAAI,CAAC,SAAD,CAAR,CAAoByG,IAAI,CAACE,MAAzB,CAAb;oBACAF,IAAI,CAACE,MAAL,GAAcS,MAAM,CAACT,MAAM,CAAC6E,GAAP,CAAWvJ,UAAX,EAAuBgE,QAAvB,EAAD,CAApB;kBACD,CAHD;gBAID,CARD;gBASAkG,YAAY,GAAGlM,MAAM,CAACsL,aAAP,CAAqBX,WAArB,CAAf;gBACA7D,MAAM,GAAG,CAAC;kBACRsC,OAAO,EAAE8C,YADD;kBAER3F,KAAK,EAAE;gBAFC,CAAD,CAAT;gBAIA4F,SAAS,GAAG,EAAZ;gBACA9F,OAAO,CAACzE,OAAR,CAAgB,UAAU+K,IAAV,EAAgB;kBAC9B,IAAIK,UAAU,GAAGhN,MAAM,CAACsL,aAAP,CAAqBqB,IAAI,CAACM,EAA1B,CAAjB;kBACApG,aAAa,CAACC,MAAD,EAAS6F,IAAI,CAACpG,KAAd,CAAb;kBACA4F,SAAS,CAAC/K,IAAV,CAAe;oBACbgI,OAAO,EAAE4D,UADI;oBAEbzG,KAAK,EAAEoG,IAAI,CAACpG;kBAFC,CAAf;gBAID,CAPD;gBAQA2E,GAAG,GAAG;kBACJpE,MAAM,EAAEA,MADJ;kBAEJT,OAAO,EAAE8F,SAFL;kBAGJX,WAAW,EAAEtL,MAAM,CAACuL,WAAP,CAAmBC;gBAH5B,CAAN;gBAKAU,UAAU,GAAG,CAAC;kBACZhD,OAAO,EAAEuB,WADG;kBAEZpE,KAAK,EAAE;gBAFK,CAAD,CAAb;gBAIA8F,WAAW,GAAG,EAAd;gBACAhG,OAAO,CAACzE,OAAR,CAAgB,UAAU+K,IAAV,EAAgBO,KAAhB,EAAuB;kBACrCb,WAAW,CAACjL,IAAZ,CAAiB;oBACfgI,OAAO,EAAEuD,IAAI,CAACM,EADC;oBAEf1G,KAAK,EAAE;kBAFQ,CAAjB;kBAIAoG,IAAI,CAACpG,KAAL,CAAW3E,OAAX,CAAmB,UAAUqF,CAAV,EAAa;oBAC9BoF,WAAW,CAACa,KAAD,CAAX,CAAmB3G,KAAnB,CAAyBnF,IAAzB,CAA8B6F,CAA9B;kBACD,CAFD;kBAGAJ,aAAa,CAACuF,UAAD,EAAaO,IAAI,CAACpG,KAAlB,CAAb;gBACD,CATD;gBAUApD,OAAO,GAAG;kBACR2D,MAAM,EAAEsF,UADA;kBAER/F,OAAO,EAAEgG;gBAFD,CAAV;gBAIAG,SAAS,CAAC/I,IAAV,GAAiB,EAAjB;gBACA,OAAO,KAAKkI,mBAAL,CAAyBT,GAAzB,EAA8B/H,OAA9B,EAAuCwH,WAAvC,EAAoDI,QAApD,EAA8DD,IAA9D,CAAP;;cAEF,KAAK,EAAL;gBACEzG,QAAQ,GAAGmI,SAAS,CAAC9G,IAArB;gBACA,OAAO8G,SAAS,CAAC7I,MAAV,CAAiB,QAAjB,EAA2B,KAAK+D,kBAAL,CAAwBrD,QAAxB,CAA3B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOmI,SAAS,CAACzI,IAAV,EAAP;YA/EJ;UAiFD;QACF,CApFM,EAoFJkI,QApFI,EAoFM,IApFN,CAAP;MAqFD,CAjGiE,CAAjD,CAAjB;;MAmGA,SAASkB,SAAT,CAAmBC,IAAnB,EAAyBC,IAAzB,EAA+B;QAC7B,OAAOrB,UAAU,CAAC3K,KAAX,CAAiB,IAAjB,EAAuBI,SAAvB,CAAP;MACD;;MAED,OAAO0L,SAAP;IACD,CAzGM;IA0GP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;EAnHK,CAjWsC,EAsdtC;IACDtL,GAAG,EAAE,aADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAImO,YAAY,GAAG,CAAC,GAAGxN,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASuK,QAAT,CAAkB5C,WAAlB,EAA+B6C,MAA/B,EAAuCC,KAAvC,EAA8C;QAC7I,IAAI1C,QAAJ;QAAA,IACIC,OADJ;QAAA,IAEIE,GAFJ;QAAA,IAGI/H,OAHJ;QAAA,IAIIkB,QAJJ;QAAA,IAKIqJ,MAAM,GAAGjM,SALb;QAMA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASsK,SAAT,CAAmBC,SAAnB,EAA8B;UAChE,OAAO,CAAP,EAAU;YACR,QAAQA,SAAS,CAACpK,IAAV,GAAiBoK,SAAS,CAACnK,IAAnC;cACE,KAAK,CAAL;gBACEsH,QAAQ,GAAG2C,MAAM,CAAChM,MAAP,GAAgB,CAAhB,IAAqBgM,MAAM,CAAC,CAAD,CAAN,KAAcnG,SAAnC,GAA+CmG,MAAM,CAAC,CAAD,CAArD,GAA2D,IAAtE;gBACA1C,OAAO,GAAGhL,MAAM,CAACsL,aAAP,CAAqBX,WAArB,CAAV;gBACAO,GAAG,GAAG;kBACJ2C,MAAM,EAAE7C,OADJ;kBAEJwC,MAAM,EAAEA,MAFJ;kBAGJC,KAAK,EAAEA,KAHH;kBAIJjC,WAAW,EAAEtL,MAAM,CAACuL,WAAP,CAAmBqC;gBAJ5B,CAAN;gBAMA3K,OAAO,GAAG;kBACRsK,KAAK,EAAEA,KADC;kBAERI,MAAM,EAAElD,WAFA;kBAGR6C,MAAM,EAAEA;gBAHA,CAAV;gBAKAI,SAAS,CAACnK,IAAV,GAAiB,CAAjB;gBACA,OAAO,KAAKkI,mBAAL,CAAyBT,GAAzB,EAA8B/H,OAA9B,EAAuCwH,WAAvC,EAAoDI,QAApD,EAA8D,EAA9D,CAAP;;cAEF,KAAK,CAAL;gBACE1G,QAAQ,GAAGuJ,SAAS,CAAClI,IAArB;gBACA,OAAOkI,SAAS,CAACjK,MAAV,CAAiB,QAAjB,EAA2B,KAAK+D,kBAAL,CAAwBrD,QAAxB,CAA3B,CAAP;;cAEF,KAAK,CAAL;cACA,KAAK,KAAL;gBACE,OAAOuJ,SAAS,CAAC7J,IAAV,EAAP;YAxBJ;UA0BD;QACF,CA7BM,EA6BJwJ,QA7BI,EA6BM,IA7BN,CAAP;MA8BD,CArCmE,CAAjD,CAAnB;;MAuCA,SAASQ,WAAT,CAAqBC,IAArB,EAA2BC,IAA3B,EAAiCC,IAAjC,EAAuC;QACrC,OAAOZ,YAAY,CAACjM,KAAb,CAAmB,IAAnB,EAAyBI,SAAzB,CAAP;MACD;;MAED,OAAOsM,WAAP;IACD,CA7CM;IA8CP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EA1DK,CAtdsC,EAkhBtC;IACDlM,GAAG,EAAE,YADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIgP,WAAW,GAAG,CAAC,GAAGrO,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASoL,QAAT,GAAoB;QAClH,IAAIhF,OAAJ;QAAA,IACIoE,MADJ;QAAA,IAEIa,IAFJ;QAAA,IAGIC,KAHJ;QAAA,IAIIC,QAJJ;QAAA,IAKIxD,QALJ;QAAA,IAMIyD,WANJ;QAAA,IAOIxD,OAPJ;QAAA,IAQI1C,IARJ;QAAA,IASImG,QATJ;QAAA,IAUIC,WAVJ;QAAA,IAWIC,aAXJ;QAAA,IAYIxL,OAZJ;QAAA,IAaIkB,QAbJ;QAAA,IAcIuK,MAAM,GAAGnN,SAdb;QAeA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASwL,SAAT,CAAmBC,SAAnB,EAA8B;UAChE,OAAO,CAAP,EAAU;YACR,QAAQA,SAAS,CAACtL,IAAV,GAAiBsL,SAAS,CAACrL,IAAnC;cACE,KAAK,CAAL;gBACE2F,OAAO,GAAGwF,MAAM,CAAClN,MAAP,GAAgB,CAAhB,IAAqBkN,MAAM,CAAC,CAAD,CAAN,KAAcrH,SAAnC,GAA+CqH,MAAM,CAAC,CAAD,CAArD,GAA2D,KAAKxF,OAA1E;gBACAoE,MAAM,GAAGoB,MAAM,CAAClN,MAAP,GAAgB,CAAhB,GAAoBkN,MAAM,CAAC,CAAD,CAA1B,GAAgCrH,SAAzC;gBACA8G,IAAI,GAAGO,MAAM,CAAClN,MAAP,GAAgB,CAAhB,GAAoBkN,MAAM,CAAC,CAAD,CAA1B,GAAgCrH,SAAvC;gBACA+G,KAAK,GAAGM,MAAM,CAAClN,MAAP,GAAgB,CAAhB,GAAoBkN,MAAM,CAAC,CAAD,CAA1B,GAAgCrH,SAAxC;gBACAgH,QAAQ,GAAGK,MAAM,CAAClN,MAAP,GAAgB,CAAhB,GAAoBkN,MAAM,CAAC,CAAD,CAA1B,GAAgCrH,SAA3C;gBACAwD,QAAQ,GAAG6D,MAAM,CAAClN,MAAP,GAAgB,CAAhB,IAAqBkN,MAAM,CAAC,CAAD,CAAN,KAAcrH,SAAnC,GAA+CqH,MAAM,CAAC,CAAD,CAArD,GAA2D,IAAtE;gBACAJ,WAAW,GAAGI,MAAM,CAAClN,MAAP,GAAgB,CAAhB,IAAqBkN,MAAM,CAAC,CAAD,CAAN,KAAcrH,SAAnC,GAA+CqH,MAAM,CAAC,CAAD,CAArD,GAA2D,CAAzE;;gBAEA,IAAIxF,OAAJ,EAAa;kBACX0F,SAAS,CAACrL,IAAV,GAAiB,CAAjB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,6BAAV,CAAN;;cAEF,KAAK,CAAL;gBACE,IAAI4G,MAAJ,EAAY;kBACVsB,SAAS,CAACrL,IAAV,GAAiB,EAAjB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,4BAAV,CAAN;;cAEF,KAAK,EAAL;gBACE,IAAI,EAAEyH,IAAI,KAAK,CAAT,IAAcA,IAAI,KAAK,CAAzB,CAAJ,EAAiC;kBAC/BS,SAAS,CAACrL,IAAV,GAAiB,EAAjB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,yBAAV,CAAN;;cAEF,KAAK,EAAL;gBACE,IAAI,EAAE4H,WAAW,KAAK,CAAhB,IAAqBA,WAAW,KAAK,CAAvC,CAAJ,EAA+C;kBAC7CM,SAAS,CAACrL,IAAV,GAAiB,EAAjB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,gCAAV,CAAN;;cAEF,KAAK,EAAL;gBACEoE,OAAO,GAAGhL,MAAM,CAACsL,aAAP,CAAqBlC,OAArB,CAAV;;gBAEA,IAAI,EAAE2B,QAAQ,KAAK,CAAb,IAAkB,CAACA,QAArB,CAAJ,EAAoC;kBAClC+D,SAAS,CAACrL,IAAV,GAAiB,EAAjB;kBACA;gBACD;;gBAEDqL,SAAS,CAACrL,IAAV,GAAiB,EAAjB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAAC4C,UAAd,EAA0B,GAA1B,EAA+BsH,MAA/B,CAAsCP,OAAtC,CAAhC,CAAP;;cAEF,KAAK,EAAL;gBACEd,IAAI,GAAGwG,SAAS,CAACpJ,IAAjB;gBACAqF,QAAQ,GAAGzC,IAAI,CAACK,MAAL,IAAeL,IAAI,CAACK,MAAL,CAAYoC,QAAtC;;cAEF,KAAK,EAAL;gBACE0D,QAAQ,GAAG,IAAI1O,IAAI,CAAC,SAAD,CAAR,CAAoBuO,KAApB,CAAX;gBACAI,WAAW,GAAG,IAAI3O,IAAI,CAAC,SAAD,CAAR,CAAoBwO,QAApB,CAAd;gBACAI,aAAa,GAAG;kBACdd,MAAM,EAAE7C,OADM;kBAEd+D,EAAE,EAAE,GAAGpF,MAAH,CAAUqB,OAAO,CAAChF,QAAR,CAAiB,KAAjB,CAAV,EAAmC,GAAnC,EAAwC2D,MAAxC,CAA+CoB,QAAQ,GAAG,CAA1D,EAA6DiE,WAA7D,EAFU;kBAGdxB,MAAM,EAAEA,MAHM;kBAIdyB,SAAS,EAAE,CAJG;kBAKdZ,IAAI,EAAEA,IALQ;kBAMdC,KAAK,EAAEY,UAAU,CAACT,QAAQ,CAAClD,GAAT,CAAavJ,UAAb,EAAyBgE,QAAzB,EAAD,CANH;kBAOduI,QAAQ,EAAEW,UAAU,CAACR,WAAW,CAACnD,GAAZ,CAAgBvJ,UAAhB,EAA4BgE,QAA5B,EAAD,CAPN;kBAQdwI,WAAW,EAAEA,WARC;kBASdhD,WAAW,EAAEtL,MAAM,CAACuL,WAAP,CAAmB0D;gBATlB,CAAhB;gBAWAhM,OAAO,GAAG;kBACR4L,EAAE,EAAEJ,aAAa,CAACI,EADV;kBAERE,SAAS,EAAEN,aAAa,CAACM,SAFjB;kBAGRX,KAAK,EAAEK,aAAa,CAACL,KAHb;kBAIRC,QAAQ,EAAEI,aAAa,CAACJ,QAJhB;kBAKRV,MAAM,EAAEzE,OALA;kBAMRiF,IAAI,EAAEM,aAAa,CAACN,IANZ;kBAORb,MAAM,EAAEmB,aAAa,CAACnB,MAPd;kBAQRgB,WAAW,EAAEA;gBARL,CAAV;gBAUA,CAAC,GAAGpO,eAAe,CAACqG,WAApB,EAAiCkI,aAAa,CAACL,KAA/C,EAAsD,OAAtD;gBACA,CAAC,GAAGlO,eAAe,CAACqG,WAApB,EAAiCkI,aAAa,CAACJ,QAA/C,EAAyD,UAAzD;gBACAO,SAAS,CAACrL,IAAV,GAAiB,EAAjB;gBACA,OAAO,KAAKkI,mBAAL,CAAyBgD,aAAzB,EAAwCxL,OAAxC,EAAiDiG,OAAjD,EAA0D2B,QAA1D,EAAoE,EAApE,CAAP;;cAEF,KAAK,EAAL;gBACE1G,QAAQ,GAAGyK,SAAS,CAACpJ,IAArB;gBACA,OAAOoJ,SAAS,CAACnL,MAAV,CAAiB,QAAjB,EAA2B,KAAK+D,kBAAL,CAAwBrD,QAAxB,CAA3B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOyK,SAAS,CAAC/K,IAAV,EAAP;YA3FJ;UA6FD;QACF,CAhGM,EAgGJqK,QAhGI,EAgGM,IAhGN,CAAP;MAiGD,CAjHkE,CAAjD,CAAlB;;MAmHA,SAASgB,UAAT,GAAsB;QACpB,OAAOjB,WAAW,CAAC9M,KAAZ,CAAkB,IAAlB,EAAwBI,SAAxB,CAAP;MACD;;MAED,OAAO2N,UAAP;IACD,CAzHM;IA0HP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EApIK,CAlhBsC,EAwpBtC;IACDvN,GAAG,EAAE,MADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIkQ,KAAK,GAAG,CAAC,GAAGvP,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASsM,SAAT,CAAmBlG,OAAnB,EAA4BmG,UAA5B,EAAwCC,SAAxC,EAAmDC,UAAnD,EAA+DC,SAA/D,EAA0E;QAClK,IAAI3E,QAAJ;QAAA,IACIC,OADJ;QAAA,IAEI2E,UAFJ;QAAA,IAGIC,OAHJ;QAAA,IAIIzM,OAJJ;QAAA,IAKIkB,QALJ;QAAA,IAMIwL,OAAO,GAAGpO,SANd;QAOA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASyM,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACvM,IAAX,GAAkBuM,UAAU,CAACtM,IAArC;cACE,KAAK,CAAL;gBACEsH,QAAQ,GAAG8E,OAAO,CAACnO,MAAR,GAAiB,CAAjB,IAAsBmO,OAAO,CAAC,CAAD,CAAP,KAAetI,SAArC,GAAiDsI,OAAO,CAAC,CAAD,CAAxD,GAA8D,IAAzE;gBACA7E,OAAO,GAAGhL,MAAM,CAACsL,aAAP,CAAqBlC,OAArB,CAAV;;gBAEA,IAAIA,OAAJ,EAAa;kBACX2G,UAAU,CAACtM,IAAX,GAAkB,CAAlB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,6BAAV,CAAN;;cAEF,KAAK,CAAL;gBACE,IAAI,EAAE2I,UAAU,IAAI,CAAhB,CAAJ,EAAwB;kBACtBQ,UAAU,CAACtM,IAAX,GAAkB,CAAlB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,kCAAV,CAAN;;cAEF,KAAK,CAAL;gBACE,IAAI,EAAE8I,SAAS,IAAI,CAAf,CAAJ,EAAuB;kBACrBK,UAAU,CAACtM,IAAX,GAAkB,CAAlB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,4BAAV,CAAN;;cAEF,KAAK,CAAL;gBACE,IAAI4I,SAAJ,EAAe;kBACbO,UAAU,CAACtM,IAAX,GAAkB,EAAlB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,+BAAV,CAAN;;cAEF,KAAK,EAAL;gBACE,IAAI6I,UAAJ,EAAgB;kBACdM,UAAU,CAACtM,IAAX,GAAkB,EAAlB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,gCAAV,CAAN;;cAEF,KAAK,EAAL;gBACE+I,UAAU,GAAGxI,MAAM,CAAC,IAAIpH,IAAI,CAAC,SAAD,CAAR,CAAoB2P,SAApB,EAA+BnE,GAA/B,CAAmCvJ,UAAnC,EAA+CgE,QAA/C,EAAD,CAAnB;gBACA4J,OAAO,GAAG;kBACRI,IAAI,EAAEhF,OADE;kBAERiF,WAAW,EAAEV,UAFL;kBAGRW,iBAAiB,EAAEV,SAHX;kBAIRW,kBAAkB,EAAEV,UAJZ;kBAKRE,UAAU,EAAEA,UALJ;kBAMRnE,WAAW,EAAEtL,MAAM,CAACuL,WAAP,CAAmB2E;gBANxB,CAAV;gBAQAjN,OAAO,GAAG;kBACR+M,iBAAiB,EAAEV,SADX;kBAERQ,IAAI,EAAE5G,OAFE;kBAGRuG,UAAU,EAAEA,UAHJ;kBAIRM,WAAW,EAAEV,UAJL;kBAKRY,kBAAkB,EAAEV;gBALZ,CAAV;gBAOAM,UAAU,CAACtM,IAAX,GAAkB,EAAlB;gBACA,OAAO,KAAKkI,mBAAL,CAAyBiE,OAAzB,EAAkCzM,OAAlC,EAA2CiG,OAA3C,EAAoD2B,QAApD,EAA8D,EAA9D,CAAP;;cAEF,KAAK,EAAL;gBACE1G,QAAQ,GAAG0L,UAAU,CAACrK,IAAtB;gBACA,OAAOqK,UAAU,CAACpM,MAAX,CAAkB,QAAlB,EAA4B,KAAK+D,kBAAL,CAAwBrD,QAAxB,CAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAO0L,UAAU,CAAChM,IAAX,EAAP;YAtEJ;UAwED;QACF,CA3EM,EA2EJuL,SA3EI,EA2EO,IA3EP,CAAP;MA4ED,CApF4D,CAAjD,CAAZ;;MAsFA,SAASe,IAAT,CAAcC,IAAd,EAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,IAAhC,EAAsCC,IAAtC,EAA4C;QAC1C,OAAOrB,KAAK,CAAChO,KAAN,CAAY,IAAZ,EAAkBI,SAAlB,CAAP;MACD;;MAED,OAAO4O,IAAP;IACD,CA5FM;IA6FP;AACJ;AACA;;EAjGK,CAxpBsC,EA2vBtC;IACDxO,GAAG,EAAE,eADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIwR,cAAc,GAAG,CAAC,GAAG7Q,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAAS4N,SAAT,CAAmBC,KAAnB,EAA0B;QAC3H,IAAIb,IAAJ,EAAUR,SAAV,EAAqBC,UAArB,EAAiCC,SAAjC,EAA4CoB,cAA5C,EAA4D/F,QAA5D,EAAsE4E,UAAtE,EAAkFoB,WAAlF,EAA+F1M,QAA/F;;QAEA,OAAOxE,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAAS2N,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACzN,IAAX,GAAkByN,UAAU,CAACxN,IAArC;cACE,KAAK,CAAL;gBACEuM,IAAI,GAAGa,KAAK,CAACb,IAAb,EAAmBR,SAAS,GAAGqB,KAAK,CAACrB,SAArC,EAAgDC,UAAU,GAAGoB,KAAK,CAACpB,UAAnE,EAA+EC,SAAS,GAAGmB,KAAK,CAACnB,SAAjG,EAA4GoB,cAAc,GAAGD,KAAK,CAAC9F,QAAnI,EAA6IA,QAAQ,GAAG+F,cAAc,KAAK,KAAK,CAAxB,GAA4B,IAA5B,GAAmCA,cAA3L;gBACA,CAAC,GAAGvQ,MAAM,CAAC2Q,uBAAX,EAAoC1B,SAApC;;gBAEA,IAAI,EAAEE,SAAS,IAAI,CAAf,CAAJ,EAAuB;kBACrBuB,UAAU,CAACxN,IAAX,GAAkB,CAAlB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,4BAAV,CAAN;;cAEF,KAAK,CAAL;gBACE,IAAIoJ,IAAJ,EAAU;kBACRiB,UAAU,CAACxN,IAAX,GAAkB,CAAlB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,6BAAV,CAAN;;cAEF,KAAK,CAAL;gBACE,IAAI6I,UAAJ,EAAgB;kBACdwB,UAAU,CAACxN,IAAX,GAAkB,CAAlB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,gCAAV,CAAN;;cAEF,KAAK,CAAL;gBACE+I,UAAU,GAAGxI,MAAM,CAAC,IAAIpH,IAAI,CAAC,SAAD,CAAR,CAAoB2P,SAApB,EAA+BnE,GAA/B,CAAmCvJ,UAAnC,EAA+CgE,QAA/C,EAAD,CAAnB;gBACA+K,WAAW,GAAG,IAAI7Q,MAAM,CAACiR,WAAX,CAAuB;kBACnCnB,IAAI,EAAEA,IAD6B;kBAEnCE,iBAAiB,EAAEV,SAFgB;kBAGnCW,kBAAkB,EAAEV,UAHe;kBAInCE,UAAU,EAAEA;gBAJuB,CAAvB,CAAd;gBAMAsB,UAAU,CAACxN,IAAX,GAAkB,EAAlB;gBACA,OAAO,KAAKkI,mBAAL,CAAyBoF,WAAW,CAACK,MAAZ,EAAzB,EAA+CL,WAAW,CAACM,UAAZ,EAA/C,EAAyErB,IAAzE,EAA+EjF,QAA/E,CAAP;;cAEF,KAAK,EAAL;gBACE1G,QAAQ,GAAG4M,UAAU,CAACvL,IAAtB;gBACA,OAAOuL,UAAU,CAACtN,MAAX,CAAkB,QAAlB,EAA4B,KAAK+D,kBAAL,CAAwBrD,QAAxB,CAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAO4M,UAAU,CAAClN,IAAX,EAAP;YA7CJ;UA+CD;QACF,CAlDM,EAkDJ6M,SAlDI,EAkDO,IAlDP,CAAP;MAmDD,CAtDqE,CAAjD,CAArB;;MAwDA,SAASU,aAAT,CAAuBC,IAAvB,EAA6B;QAC3B,OAAOZ,cAAc,CAACtP,KAAf,CAAqB,IAArB,EAA2BI,SAA3B,CAAP;MACD;;MAED,OAAO6P,aAAP;IACD,CA9DM;IA+DP;AACJ;AACA;AACA;AACA;AACA;AACA;;EAvEK,CA3vBsC,EAo0BtC;IACDzP,GAAG,EAAE,iBADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIqS,gBAAgB,GAAG,CAAC,GAAG1R,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASyO,SAAT,CAAmBrI,OAAnB,EAA4BsI,KAA5B,EAAmC;QACtI,IAAI3G,QAAJ;QAAA,IACIC,OADJ;QAAA,IAEIE,GAFJ;QAAA,IAGI/H,OAHJ;QAAA,IAIIkB,QAJJ;QAAA,IAKIsN,OAAO,GAAGlQ,SALd;QAMA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASuO,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACrO,IAAX,GAAkBqO,UAAU,CAACpO,IAArC;cACE,KAAK,CAAL;gBACEsH,QAAQ,GAAG4G,OAAO,CAACjQ,MAAR,GAAiB,CAAjB,IAAsBiQ,OAAO,CAAC,CAAD,CAAP,KAAepK,SAArC,GAAiDoK,OAAO,CAAC,CAAD,CAAxD,GAA8D,IAAzE;gBACA3G,OAAO,GAAGhL,MAAM,CAACsL,aAAP,CAAqBlC,OAArB,CAAV;gBACA8B,GAAG,GAAG;kBACJ8E,IAAI,EAAEhF,OADF;kBAEJ0G,KAAK,EAAEA,KAFH;kBAGJlG,WAAW,EAAEtL,MAAM,CAACuL,WAAP,CAAmBqG;gBAH5B,CAAN;gBAKA3O,OAAO,GAAG;kBACRuO,KAAK,EAAEA,KADC;kBAER1B,IAAI,EAAE5G;gBAFE,CAAV;gBAIAyI,UAAU,CAACpO,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAKkI,mBAAL,CAAyBT,GAAzB,EAA8B/H,OAA9B,EAAuCiG,OAAvC,EAAgD2B,QAAhD,EAA0D,EAA1D,CAAP;;cAEF,KAAK,CAAL;gBACE1G,QAAQ,GAAGwN,UAAU,CAACnM,IAAtB;gBACA,OAAOmM,UAAU,CAAClO,MAAX,CAAkB,QAAlB,EAA4B,KAAK+D,kBAAL,CAAwBrD,QAAxB,CAA5B,CAAP;;cAEF,KAAK,CAAL;cACA,KAAK,KAAL;gBACE,OAAOwN,UAAU,CAAC9N,IAAX,EAAP;YAtBJ;UAwBD;QACF,CA3BM,EA2BJ0N,SA3BI,EA2BO,IA3BP,CAAP;MA4BD,CAnCuE,CAAjD,CAAvB;;MAqCA,SAASM,eAAT,CAAyBC,IAAzB,EAA+BC,IAA/B,EAAqC;QACnC,OAAOT,gBAAgB,CAACnQ,KAAjB,CAAuB,IAAvB,EAA6BI,SAA7B,CAAP;MACD;;MAED,OAAOsQ,eAAP;IACD,CA3CM;IA4CP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAtDK,CAp0BsC,EA43BtC;IACDlQ,GAAG,EAAE,qBADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAI+S,oBAAoB,GAAG,CAAC,GAAGpS,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASmP,SAAT,CAAmBjH,GAAnB,EAAwBkH,UAAxB,EAAoChJ,OAApC,EAA6C;QACpJ,IAAI2B,QAAJ;QAAA,IACID,IADJ;QAAA,IAEIxC,IAFJ;QAAA,IAGIpF,EAHJ;QAAA,IAIImP,OAAO,GAAG5Q,SAJd;QAKA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASiP,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAAC/O,IAAX,GAAkB+O,UAAU,CAAC9O,IAArC;cACE,KAAK,CAAL;gBACEsH,QAAQ,GAAGsH,OAAO,CAAC3Q,MAAR,GAAiB,CAAjB,IAAsB2Q,OAAO,CAAC,CAAD,CAAP,KAAe9K,SAArC,GAAiD8K,OAAO,CAAC,CAAD,CAAxD,GAA8D,IAAzE;gBACAvH,IAAI,GAAGuH,OAAO,CAAC3Q,MAAR,GAAiB,CAAjB,IAAsB2Q,OAAO,CAAC,CAAD,CAAP,KAAe9K,SAArC,GAAiD8K,OAAO,CAAC,CAAD,CAAxD,GAA8D,EAArE;;gBAEA,IAAI,EAAE,CAAC,CAAC,KAAKxI,cAAN,IAAwBkB,QAAQ,KAAK,CAAb,IAAkB,CAACA,QAA5C,KAAyD3B,OAA3D,CAAJ,EAAyE;kBACvEmJ,UAAU,CAAC9O,IAAX,GAAkB,EAAlB;kBACA;gBACD;;gBAED8O,UAAU,CAAC9O,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAAC4C,UAAd,EAA0B,GAA1B,EAA+BsH,MAA/B,CAAsCP,OAAtC,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACEd,IAAI,GAAGiK,UAAU,CAAC7M,IAAlB;gBACAqF,QAAQ,GAAGzC,IAAI,CAACK,MAAL,CAAYoC,QAAvB;gBACA,KAAKlB,cAAL,GAAsBvB,IAAI,CAACK,MAAL,CAAYkB,cAAlC,CAHF,CAGoD;;gBAElD0I,UAAU,CAAC9O,IAAX,GAAkB,EAAlB;gBACA;;cAEF,KAAK,EAAL;gBACE,IAAI,CAAC,KAAKmG,aAAV,EAAyB;kBACvB2I,UAAU,CAAC9O,IAAX,GAAkB,EAAlB;kBACA;gBACD;;gBAED8O,UAAU,CAAC9O,IAAX,GAAkB,EAAlB;gBACA,OAAO,KAAKmG,aAAZ;;cAEF,KAAK,EAAL;gBACE1G,EAAE,GAAG,IAAIjD,GAAG,CAAC,SAAD,CAAP,CAAmB;kBACtBiK,aAAa,EAAE,OAAO,KAAKL,cAAZ,KAA+B,QAA/B,GAA0C2I,QAAQ,CAAC,KAAK3I,cAAN,CAAlD,GAA0E,KAAKA,cADxE;kBAEtBpB,OAAO,EAAE,KAAKA,OAFQ;kBAGtBqC,IAAI,EAAEA,IAHgB;kBAItBI,GAAG,EAAEA,GAJiB;kBAKtBH,QAAQ,EAAE,OAAOA,QAAP,KAAoB,QAApB,GAA+ByH,QAAQ,CAACzH,QAAD,CAAvC,GAAoDA,QALxC;kBAMtBpJ,MAAM,EAAE,KAAKiG;gBANS,CAAnB,CAAL;gBAQA,OAAO2K,UAAU,CAAC5O,MAAX,CAAkB,QAAlB,EAA4B,KAAK8D,gBAAL,CAAsBgL,IAAtB,CAA2B,IAA3B,EAAiCvP,EAAjC,EAAqCkP,UAArC,CAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOG,UAAU,CAACxO,IAAX,EAAP;YA3CJ;UA6CD;QACF,CAhDM,EAgDJoO,SAhDI,EAgDO,IAhDP,CAAP;MAiDD,CAvD2E,CAAjD,CAA3B;;MAyDA,SAASxG,mBAAT,CAA6B+G,IAA7B,EAAmCC,IAAnC,EAAyCC,IAAzC,EAA+C;QAC7C,OAAOV,oBAAoB,CAAC7Q,KAArB,CAA2B,IAA3B,EAAiCI,SAAjC,CAAP;MACD;;MAED,OAAOkK,mBAAP;IACD,CA/DM;IAgEP;AACJ;AACA;AACA;AACA;AACA;;EAvEK,CA53BsC,EAq8BtC;IACD9J,GAAG,EAAE,iBADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAI0T,iBAAiB,GAAG,CAAC,GAAG/S,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAAS8P,SAAT,CAAmBzO,QAAnB,EAA6B0O,IAA7B,EAAmC;QACvI,IAAIC,QAAJ;QACA,OAAOnT,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAAS4P,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAAC1P,IAAX,GAAkB0P,UAAU,CAACzP,IAArC;cACE,KAAK,CAAL;gBACEuP,QAAQ,GAAG3O,QAAQ,CAAC8O,SAAT,EAAX;gBACA,OAAOD,UAAU,CAACvP,MAAX,CAAkB,QAAlB,EAA4B,KAAKyP,kBAAL,CAAwBJ,QAAxB,EAAkCD,IAAlC,CAA5B,CAAP;;cAEF,KAAK,CAAL;cACA,KAAK,KAAL;gBACE,OAAOG,UAAU,CAACnP,IAAX,EAAP;YAPJ;UASD;QACF,CAZM,EAYJ+O,SAZI,EAYO,IAZP,CAAP;MAaD,CAfwE,CAAjD,CAAxB;;MAiBA,SAAStO,eAAT,CAAyB6O,IAAzB,EAA+BC,IAA/B,EAAqC;QACnC,OAAOT,iBAAiB,CAACxR,KAAlB,CAAwB,IAAxB,EAA8BI,SAA9B,CAAP;MACD;;MAED,OAAO+C,eAAP;IACD,CAvBM;IAwBP;AACJ;AACA;AACA;AACA;AACA;;EA/BK,CAr8BsC,EAs+BtC;IACD3C,GAAG,EAAE,oBADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIoU,mBAAmB,GAAG,CAAC,GAAGzT,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASwQ,SAAT,CAAmBR,QAAnB,EAA6B;QACnI,IAAID,IAAJ;QAAA,IACIU,IADJ;QAAA,IAEIC,OAAO,GAAGjS,SAFd;QAGA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASsQ,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACpQ,IAAX,GAAkBoQ,UAAU,CAACnQ,IAArC;cACE,KAAK,CAAL;gBACEsP,IAAI,GAAGW,OAAO,CAAChS,MAAR,GAAiB,CAAjB,IAAsBgS,OAAO,CAAC,CAAD,CAAP,KAAenM,SAArC,GAAiDmM,OAAO,CAAC,CAAD,CAAxD,GAA8D,CAAC,KAAK/L,kBAA3E;gBACA8L,IAAI,GAAG;kBACLnL,IAAI,EAAE0K,QADD;kBAELa,OAAO,EAAE;oBACP,gBAAgB;kBADT;gBAFJ,CAAP;gBAMA,OAAOD,UAAU,CAACjQ,MAAX,CAAkB,QAAlB,EAA4B,KAAK6D,WAAL,CAAiBkB,OAAjB,CAAyB,MAAzB,EAAiC,GAAGiB,MAAH,CAAUlK,GAAG,CAAC0C,SAAd,EAAyB,QAAzB,EAAmCwH,MAAnC,CAA0CoJ,IAA1C,CAAjC,EAAkF,IAAlF,EAAwFU,IAAxF,CAA5B,CAAP;;cAEF,KAAK,CAAL;cACA,KAAK,KAAL;gBACE,OAAOG,UAAU,CAAC7P,IAAX,EAAP;YAbJ;UAeD;QACF,CAlBM,EAkBJyP,SAlBI,EAkBO,IAlBP,CAAP;MAmBD,CAvB0E,CAAjD,CAA1B;;MAyBA,SAASJ,kBAAT,CAA4BU,IAA5B,EAAkC;QAChC,OAAOP,mBAAmB,CAAClS,KAApB,CAA0B,IAA1B,EAAgCI,SAAhC,CAAP;MACD;;MAED,OAAO2R,kBAAP;IACD,CA/BM;IAgCP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EA3CK,CAt+BsC,EAmhCtC;IACDvR,GAAG,EAAE,kBADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAI4U,iBAAiB,GAAG,CAAC,GAAGjU,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASgR,SAAT,CAAmB9I,GAAnB,EAAwBkH,UAAxB,EAAoChJ,OAApC,EAA6C;QACjJ,IAAI2B,QAAJ;QAAA,IACID,IADJ;QAAA,IAEIiI,IAFJ;QAAA,IAGI1O,QAHJ;QAAA,IAII4P,OAAO,GAAGxS,SAJd;QAKA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAAS6Q,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAAC3Q,IAAX,GAAkB2Q,UAAU,CAAC1Q,IAArC;cACE,KAAK,CAAL;gBACEsH,QAAQ,GAAGkJ,OAAO,CAACvS,MAAR,GAAiB,CAAjB,IAAsBuS,OAAO,CAAC,CAAD,CAAP,KAAe1M,SAArC,GAAiD0M,OAAO,CAAC,CAAD,CAAxD,GAA8D,IAAzE;gBACAnJ,IAAI,GAAGmJ,OAAO,CAACvS,MAAR,GAAiB,CAAjB,IAAsBuS,OAAO,CAAC,CAAD,CAAP,KAAe1M,SAArC,GAAiD0M,OAAO,CAAC,CAAD,CAAxD,GAA8D,EAArE;gBACAlB,IAAI,GAAGkB,OAAO,CAACvS,MAAR,GAAiB,CAAjB,IAAsBuS,OAAO,CAAC,CAAD,CAAP,KAAe1M,SAArC,GAAiD0M,OAAO,CAAC,CAAD,CAAxD,GAA8D,CAAC,KAAKtM,kBAA3E;gBACAwM,UAAU,CAAC1Q,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAKkI,mBAAL,CAAyBT,GAAzB,EAA8BkH,UAA9B,EAA0ChJ,OAA1C,EAAmD2B,QAAnD,EAA6DD,IAA7D,CAAP;;cAEF,KAAK,CAAL;gBACEzG,QAAQ,GAAG8P,UAAU,CAACzO,IAAtB;gBACA,OAAOyO,UAAU,CAACxQ,MAAX,CAAkB,QAAlB,EAA4B,KAAKa,eAAL,CAAqBH,QAArB,EAA+B0O,IAA/B,CAA5B,CAAP;;cAEF,KAAK,CAAL;cACA,KAAK,KAAL;gBACE,OAAOoB,UAAU,CAACpQ,IAAX,EAAP;YAdJ;UAgBD;QACF,CAnBM,EAmBJiQ,SAnBI,EAmBO,IAnBP,CAAP;MAoBD,CA1BwE,CAAjD,CAAxB;;MA4BA,SAASI,gBAAT,CAA0BC,IAA1B,EAAgCC,IAAhC,EAAsCC,IAAtC,EAA4C;QAC1C,OAAOR,iBAAiB,CAAC1S,KAAlB,CAAwB,IAAxB,EAA8BI,SAA9B,CAAP;MACD;;MAED,OAAO2S,gBAAP;IACD,CAlCM;IAmCP;AACJ;AACA;AACA;AACA;;EAzCK,CAnhCsC,EA8jCtC;IACDvS,GAAG,EAAE,YADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIqV,WAAW,GAAG,CAAC,GAAG1U,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASyR,SAAT,GAAqB;QACnH,IAAIrL,OAAJ;QAAA,IACId,IADJ;QAAA,IAEIoM,OAAO,GAAGjT,SAFd;QAGA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASsR,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACpR,IAAX,GAAkBoR,UAAU,CAACnR,IAArC;cACE,KAAK,CAAL;gBACE2F,OAAO,GAAGsL,OAAO,CAAChT,MAAR,GAAiB,CAAjB,IAAsBgT,OAAO,CAAC,CAAD,CAAP,KAAenN,SAArC,GAAiDmN,OAAO,CAAC,CAAD,CAAxD,GAA8D,KAAKtL,OAA7E;;gBAEA,IAAIA,OAAJ,EAAa;kBACXwL,UAAU,CAACnR,IAAX,GAAkB,CAAlB;kBACA;gBACD;;gBAED,MAAM,IAAImD,KAAJ,CAAU,6BAAV,CAAN;;cAEF,KAAK,CAAL;gBACEgO,UAAU,CAACpR,IAAX,GAAkB,CAAlB;gBACAoR,UAAU,CAACnR,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAAC4C,UAAd,EAA0B,GAA1B,EAA+BsH,MAA/B,CAAsCP,OAAtC,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACEd,IAAI,GAAGsM,UAAU,CAAClP,IAAlB;gBACA,OAAOkP,UAAU,CAACjR,MAAX,CAAkB,QAAlB,EAA4B2E,IAA5B,CAAP;;cAEF,KAAK,EAAL;gBACEsM,UAAU,CAACpR,IAAX,GAAkB,EAAlB;gBACAoR,UAAU,CAACjP,EAAX,GAAgBiP,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACA,OAAOA,UAAU,CAACjR,MAAX,CAAkB,QAAlB,EAA4B,IAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOiR,UAAU,CAAC7Q,IAAX,EAAP;YA3BJ;UA6BD;QACF,CAhCM,EAgCJ0Q,SAhCI,EAgCO,IAhCP,EAgCa,CAAC,CAAC,CAAD,EAAI,EAAJ,CAAD,CAhCb,CAAP;MAiCD,CArCkE,CAAjD,CAAlB;;MAuCA,SAASpS,UAAT,GAAsB;QACpB,OAAOmS,WAAW,CAACnT,KAAZ,CAAkB,IAAlB,EAAwBI,SAAxB,CAAP;MACD;;MAED,OAAOY,UAAP;IACD,CA7CM;IA8CP;AACJ;AACA;AACA;AACA;;EApDK,CA9jCsC,EAonCtC;IACDR,GAAG,EAAE,YADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAI0V,WAAW,GAAG,CAAC,GAAG/U,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAAS8R,SAAT,GAAqB;QACnH,IAAI1L,OAAJ;QAAA,IACId,IADJ;QAAA,IAEIyM,OAAO,GAAGtT,SAFd;QAGA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAAS2R,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACzR,IAAX,GAAkByR,UAAU,CAACxR,IAArC;cACE,KAAK,CAAL;gBACE2F,OAAO,GAAG2L,OAAO,CAACrT,MAAR,GAAiB,CAAjB,IAAsBqT,OAAO,CAAC,CAAD,CAAP,KAAexN,SAArC,GAAiDwN,OAAO,CAAC,CAAD,CAAxD,GAA8D,KAAK3L,OAA7E;gBACA6L,UAAU,CAACzR,IAAX,GAAkB,CAAlB;gBACAyR,UAAU,CAACxR,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAKpB,UAAL,CAAgB+G,OAAhB,CAAP;;cAEF,KAAK,CAAL;gBACEd,IAAI,GAAG2M,UAAU,CAACvP,IAAlB;gBACA,OAAOuP,UAAU,CAACtR,MAAX,CAAkB,QAAlB,EAA4B2E,IAAI,CAACK,MAAL,CAAYuM,QAAxC,CAAP;;cAEF,KAAK,CAAL;gBACED,UAAU,CAACzR,IAAX,GAAkB,CAAlB;gBACAyR,UAAU,CAACtP,EAAX,GAAgBsP,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACA,OAAOA,UAAU,CAACtR,MAAX,CAAkB,QAAlB,EAA4B,EAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOsR,UAAU,CAAClR,IAAX,EAAP;YAlBJ;UAoBD;QACF,CAvBM,EAuBJ+Q,SAvBI,EAuBO,IAvBP,EAuBa,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAvBb,CAAP;MAwBD,CA5BkE,CAAjD,CAAlB;;MA8BA,SAASK,UAAT,GAAsB;QACpB,OAAON,WAAW,CAACxT,KAAZ,CAAkB,IAAlB,EAAwBI,SAAxB,CAAP;MACD;;MAED,OAAO0T,UAAP;IACD,CApCM;IAqCP;AACJ;AACA;AACA;AACA;AACA;;EA5CK,CApnCsC,EAkqCtC;IACDtT,GAAG,EAAE,YADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIiW,WAAW,GAAG,CAAC,GAAGtV,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASqS,SAAT,GAAqB;QACnH,IAAIC,KAAJ;QAAA,IACIC,MADJ;QAAA,IAEIjN,IAFJ;QAAA,IAGIkN,OAAO,GAAG/T,SAHd;QAIA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASoS,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAAClS,IAAX,GAAkBkS,UAAU,CAACjS,IAArC;cACE,KAAK,CAAL;gBACE6R,KAAK,GAAGE,OAAO,CAAC9T,MAAR,GAAiB,CAAjB,IAAsB8T,OAAO,CAAC,CAAD,CAAP,KAAejO,SAArC,GAAiDiO,OAAO,CAAC,CAAD,CAAxD,GAA8D,IAAtE;gBACAD,MAAM,GAAGC,OAAO,CAAC9T,MAAR,GAAiB,CAAjB,IAAsB8T,OAAO,CAAC,CAAD,CAAP,KAAejO,SAArC,GAAiDiO,OAAO,CAAC,CAAD,CAAxD,GAA8D,CAAvE;gBACAE,UAAU,CAAClS,IAAX,GAAkB,CAAlB;gBACAkS,UAAU,CAACjS,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAAC6C,UAAd,EAA0B,SAA1B,EAAqCqH,MAArC,CAA4C2L,KAA5C,EAAmD,UAAnD,EAA+D3L,MAA/D,CAAsE4L,MAAtE,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACEjN,IAAI,GAAGoN,UAAU,CAAChQ,IAAlB;gBACA,OAAOgQ,UAAU,CAAC/R,MAAX,CAAkB,QAAlB,EAA4B2E,IAA5B,CAAP;;cAEF,KAAK,CAAL;gBACEoN,UAAU,CAAClS,IAAX,GAAkB,CAAlB;gBACAkS,UAAU,CAAC/P,EAAX,GAAgB+P,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACA9P,OAAO,CAACC,IAAR,CAAa,kBAAb,EAAiC6P,UAAU,CAAC/P,EAA5C;gBACA,OAAO+P,UAAU,CAAC/R,MAAX,CAAkB,QAAlB,EAA4B,EAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAO+R,UAAU,CAAC3R,IAAX,EAAP;YApBJ;UAsBD;QACF,CAzBM,EAyBJsR,SAzBI,EAyBO,IAzBP,EAyBa,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAzBb,CAAP;MA0BD,CA/BkE,CAAjD,CAAlB;;MAiCA,SAAS/S,UAAT,GAAsB;QACpB,OAAO8S,WAAW,CAAC/T,KAAZ,CAAkB,IAAlB,EAAwBI,SAAxB,CAAP;MACD;;MAED,OAAOa,UAAP;IACD,CAvCM;IAwCP;AACJ;AACA;AACA;AACA;AACA;AACA;;EAhDK,CAlqCsC,EAotCtC;IACDT,GAAG,EAAE,iBADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIwW,gBAAgB,GAAG,CAAC,GAAG7V,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAAS4S,SAAT,GAAqB;QACxH,IAAIxM,OAAJ;QAAA,IACImM,MADJ;QAAA,IAEIjN,IAFJ;QAAA,IAGIuN,OAAO,GAAGpU,SAHd;QAIA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASyS,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACvS,IAAX,GAAkBuS,UAAU,CAACtS,IAArC;cACE,KAAK,CAAL;gBACE2F,OAAO,GAAGyM,OAAO,CAACnU,MAAR,GAAiB,CAAjB,IAAsBmU,OAAO,CAAC,CAAD,CAAP,KAAetO,SAArC,GAAiDsO,OAAO,CAAC,CAAD,CAAxD,GAA8D,KAAKzM,OAA7E;gBACAmM,MAAM,GAAGM,OAAO,CAACnU,MAAR,GAAiB,CAAjB,IAAsBmU,OAAO,CAAC,CAAD,CAAP,KAAetO,SAArC,GAAiDsO,OAAO,CAAC,CAAD,CAAxD,GAA8D,CAAvE;gBACAE,UAAU,CAACvS,IAAX,GAAkB,CAAlB;gBACAuS,UAAU,CAACtS,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAACiD,eAAd,EAA+B,WAA/B,EAA4CiH,MAA5C,CAAmDP,OAAnD,EAA4D,UAA5D,EAAwEO,MAAxE,CAA+E4L,MAA/E,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACEjN,IAAI,GAAGyN,UAAU,CAACrQ,IAAlB;gBACA,OAAOqQ,UAAU,CAACpS,MAAX,CAAkB,QAAlB,EAA4B2E,IAA5B,CAAP;;cAEF,KAAK,CAAL;gBACEyN,UAAU,CAACvS,IAAX,GAAkB,CAAlB;gBACAuS,UAAU,CAACpQ,EAAX,GAAgBoQ,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACAnQ,OAAO,CAACC,IAAR,CAAa,uBAAb,EAAsCkQ,UAAU,CAACpQ,EAAjD;gBACA,OAAOoQ,UAAU,CAACpS,MAAX,CAAkB,QAAlB,EAA4B,EAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOoS,UAAU,CAAChS,IAAX,EAAP;YApBJ;UAsBD;QACF,CAzBM,EAyBJ6R,SAzBI,EAyBO,IAzBP,EAyBa,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAzBb,CAAP;MA0BD,CA/BuE,CAAjD,CAAvB;;MAiCA,SAASlT,eAAT,GAA2B;QACzB,OAAOiT,gBAAgB,CAACtU,KAAjB,CAAuB,IAAvB,EAA6BI,SAA7B,CAAP;MACD;;MAED,OAAOiB,eAAP;IACD,CAvCM;IAwCP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EArDK,CAptCsC,EA2wCtC;IACDb,GAAG,EAAE,QADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAI6W,OAAO,GAAG,CAAC,GAAGlW,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASiT,SAAT,GAAqB;QAC/G,IAAI7M,OAAJ;QAAA,IACI8M,SADJ;QAAA,IAEIC,OAFJ;QAAA,IAGI7N,IAHJ;QAAA,IAII8N,OAAO,GAAG3U,SAJd;QAKA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASgT,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAAC9S,IAAX,GAAkB8S,UAAU,CAAC7S,IAArC;cACE,KAAK,CAAL;gBACE2F,OAAO,GAAGgN,OAAO,CAAC1U,MAAR,GAAiB,CAAjB,IAAsB0U,OAAO,CAAC,CAAD,CAAP,KAAe7O,SAArC,GAAiD6O,OAAO,CAAC,CAAD,CAAxD,GAA8D,KAAKhN,OAA7E;gBACA8M,SAAS,GAAGE,OAAO,CAAC1U,MAAR,GAAiB,CAAjB,GAAqB0U,OAAO,CAAC,CAAD,CAA5B,GAAkC7O,SAA9C;gBACA4O,OAAO,GAAGC,OAAO,CAAC1U,MAAR,GAAiB,CAAjB,GAAqB0U,OAAO,CAAC,CAAD,CAA5B,GAAkC7O,SAA5C;gBACA+O,UAAU,CAAC9S,IAAX,GAAkB,CAAlB;gBACA8S,UAAU,CAAC7S,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAACkD,MAAd,EAAsB,WAAtB,EAAmCgH,MAAnC,CAA0CP,OAA1C,EAAmD,aAAnD,EAAkEO,MAAlE,CAAyEuM,SAAzE,EAAoF,WAApF,EAAiGvM,MAAjG,CAAwGwM,OAAxG,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACE7N,IAAI,GAAGgO,UAAU,CAAC5Q,IAAlB;gBACA,OAAO4Q,UAAU,CAAC3S,MAAX,CAAkB,QAAlB,EAA4B2E,IAA5B,CAAP;;cAEF,KAAK,EAAL;gBACEgO,UAAU,CAAC9S,IAAX,GAAkB,EAAlB;gBACA8S,UAAU,CAAC3Q,EAAX,GAAgB2Q,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACA1Q,OAAO,CAACC,IAAR,CAAa,cAAb,EAA6ByQ,UAAU,CAAC3Q,EAAxC;gBACA,OAAO2Q,UAAU,CAAC3S,MAAX,CAAkB,QAAlB,EAA4B,EAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAO2S,UAAU,CAACvS,IAAX,EAAP;YArBJ;UAuBD;QACF,CA1BM,EA0BJkS,SA1BI,EA0BO,IA1BP,EA0Ba,CAAC,CAAC,CAAD,EAAI,EAAJ,CAAD,CA1Bb,CAAP;MA2BD,CAjC8D,CAAjD,CAAd;;MAmCA,SAAStT,MAAT,GAAkB;QAChB,OAAOqT,OAAO,CAAC3U,KAAR,CAAc,IAAd,EAAoBI,SAApB,CAAP;MACD;;MAED,OAAOkB,MAAP;IACD,CAzCM;IA0CP;AACJ;AACA;AACA;AACA;;EAhDK,CA3wCsC,EA6zCtC;IACDd,GAAG,EAAE,OADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIoX,MAAM,GAAG,CAAC,GAAGzW,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASwT,SAAT,CAAmBC,IAAnB,EAAyB;QAClH,IAAInO,IAAJ;QACA,OAAOzI,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASqT,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACnT,IAAX,GAAkBmT,UAAU,CAAClT,IAArC;cACE,KAAK,CAAL;gBACEkT,UAAU,CAACnT,IAAX,GAAkB,CAAlB;gBACAmT,UAAU,CAAClT,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAACmD,KAAd,EAAqB,GAArB,EAA0B+G,MAA1B,CAAiC8M,IAAjC,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACEnO,IAAI,GAAGqO,UAAU,CAACjR,IAAlB;gBACA,OAAOiR,UAAU,CAAChT,MAAX,CAAkB,QAAlB,EAA4B2E,IAA5B,CAAP;;cAEF,KAAK,CAAL;gBACEqO,UAAU,CAACnT,IAAX,GAAkB,CAAlB;gBACAmT,UAAU,CAAChR,EAAX,GAAgBgR,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACA/Q,OAAO,CAACC,IAAR,CAAa,aAAb,EAA4B8Q,UAAU,CAAChR,EAAvC;gBACA,OAAOgR,UAAU,CAAChT,MAAX,CAAkB,QAAlB,EAA4B,EAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOgT,UAAU,CAAC5S,IAAX,EAAP;YAlBJ;UAoBD;QACF,CAvBM,EAuBJyS,SAvBI,EAuBO,IAvBP,EAuBa,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAvBb,CAAP;MAwBD,CA1B6D,CAAjD,CAAb;;MA4BA,SAAS5T,KAAT,CAAegU,IAAf,EAAqB;QACnB,OAAOL,MAAM,CAAClV,KAAP,CAAa,IAAb,EAAmBI,SAAnB,CAAP;MACD;;MAED,OAAOmB,KAAP;IACD,CAlCM;IAmCP;AACJ;AACA;AACA;AACA;;EAzCK,CA7zCsC,EAw2CtC;IACDf,GAAG,EAAE,UADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAI0X,SAAS,GAAG,CAAC,GAAG/W,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAAS8T,SAAT,GAAqB;QACjH,IAAItJ,MAAJ;QAAA,IACIlF,IADJ;QAAA,IAEIyO,OAAO,GAAGtV,SAFd;QAGA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAAS2T,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACzT,IAAX,GAAkByT,UAAU,CAACxT,IAArC;cACE,KAAK,CAAL;gBACE+J,MAAM,GAAGuJ,OAAO,CAACrV,MAAR,GAAiB,CAAjB,IAAsBqV,OAAO,CAAC,CAAD,CAAP,KAAexP,SAArC,GAAiDwP,OAAO,CAAC,CAAD,CAAxD,GAA8D,cAAvE;gBACAE,UAAU,CAACzT,IAAX,GAAkB,CAAlB;gBACAyT,UAAU,CAACxT,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAACgD,QAAd,EAAwB,UAAxB,EAAoCkH,MAApC,CAA2C6D,MAA3C,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACElF,IAAI,GAAG2O,UAAU,CAACvR,IAAlB;gBACA,OAAOuR,UAAU,CAACtT,MAAX,CAAkB,QAAlB,EAA4B2E,IAA5B,CAAP;;cAEF,KAAK,CAAL;gBACE2O,UAAU,CAACzT,IAAX,GAAkB,CAAlB;gBACAyT,UAAU,CAACtR,EAAX,GAAgBsR,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACArR,OAAO,CAACC,IAAR,CAAa,gBAAb,EAA+BoR,UAAU,CAACtR,EAA1C;gBACA,OAAOsR,UAAU,CAACtT,MAAX,CAAkB,QAAlB,EAA4B,EAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOsT,UAAU,CAAClT,IAAX,EAAP;YAnBJ;UAqBD;QACF,CAxBM,EAwBJ+S,SAxBI,EAwBO,IAxBP,EAwBa,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAxBb,CAAP;MAyBD,CA7BgE,CAAjD,CAAhB;;MA+BA,SAASrU,QAAT,GAAoB;QAClB,OAAOoU,SAAS,CAACxV,KAAV,CAAgB,IAAhB,EAAsBI,SAAtB,CAAP;MACD;;MAED,OAAOgB,QAAP;IACD,CArCM;IAsCP;AACJ;AACA;AACA;AACA;AACA;;EA7CK,CAx2CsC,EAu5CtC;IACDZ,GAAG,EAAE,eADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAI+X,cAAc,GAAG,CAAC,GAAGpX,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASmU,SAAT,GAAqB;QACtH,IAAI/N,OAAJ;QAAA,IACId,IADJ;QAAA,IAEI8O,OAAO,GAAG3V,SAFd;QAGA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASgU,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAAC9T,IAAX,GAAkB8T,UAAU,CAAC7T,IAArC;cACE,KAAK,CAAL;gBACE2F,OAAO,GAAGgO,OAAO,CAAC1V,MAAR,GAAiB,CAAjB,IAAsB0V,OAAO,CAAC,CAAD,CAAP,KAAe7P,SAArC,GAAiD6P,OAAO,CAAC,CAAD,CAAxD,GAA8D,KAAKhO,OAA7E;gBACAkO,UAAU,CAAC9T,IAAX,GAAkB,CAAlB;gBACA8T,UAAU,CAAC7T,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAAC+C,aAAd,EAA6B,WAA7B,EAA0CmH,MAA1C,CAAiDP,OAAjD,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACEd,IAAI,GAAGgP,UAAU,CAAC5R,IAAlB;gBACA,OAAO4R,UAAU,CAAC3T,MAAX,CAAkB,QAAlB,EAA4B2E,IAA5B,CAAP;;cAEF,KAAK,CAAL;gBACEgP,UAAU,CAAC9T,IAAX,GAAkB,CAAlB;gBACA8T,UAAU,CAAC3R,EAAX,GAAgB2R,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACA1R,OAAO,CAACC,IAAR,CAAa,qBAAb,EAAoCyR,UAAU,CAAC3R,EAA/C;gBACA,OAAO2R,UAAU,CAAC3T,MAAX,CAAkB,QAAlB,EAA4B,EAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAO2T,UAAU,CAACvT,IAAX,EAAP;YAnBJ;UAqBD;QACF,CAxBM,EAwBJoT,SAxBI,EAwBO,IAxBP,EAwBa,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAxBb,CAAP;MAyBD,CA7BqE,CAAjD,CAArB;;MA+BA,SAAS3U,aAAT,GAAyB;QACvB,OAAO0U,cAAc,CAAC7V,KAAf,CAAqB,IAArB,EAA2BI,SAA3B,CAAP;MACD;;MAED,OAAOe,aAAP;IACD,CArCM;IAsCP;AACJ;AACA;AACA;AACA;;EA5CK,CAv5CsC,EAq8CtC;IACDX,GAAG,EAAE,aADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAIoY,YAAY,GAAG,CAAC,GAAGzX,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASwU,SAAT,CAAmBC,MAAnB,EAA2B;QAC1H,IAAInP,IAAJ;QACA,OAAOzI,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASqU,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACnU,IAAX,GAAkBmU,UAAU,CAAClU,IAArC;cACE,KAAK,CAAL;gBACEkU,UAAU,CAACnU,IAAX,GAAkB,CAAlB;gBACAmU,UAAU,CAAClU,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAAC8C,QAAd,EAAwB,GAAxB,EAA6BoH,MAA7B,CAAoC8N,MAApC,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACEnP,IAAI,GAAGqP,UAAU,CAACjS,IAAlB;gBACA,OAAOiS,UAAU,CAAChU,MAAX,CAAkB,QAAlB,EAA4B2E,IAA5B,CAAP;;cAEF,KAAK,CAAL;gBACEqP,UAAU,CAACnU,IAAX,GAAkB,CAAlB;gBACAmU,UAAU,CAAChS,EAAX,GAAgBgS,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACA/R,OAAO,CAACC,IAAR,CAAa,4BAAb,EAA2C8R,UAAU,CAAChS,EAAtD;gBACA,OAAOgS,UAAU,CAAChU,MAAX,CAAkB,QAAlB,EAA4B,EAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOgU,UAAU,CAAC5T,IAAX,EAAP;YAlBJ;UAoBD;QACF,CAvBM,EAuBJyT,SAvBI,EAuBO,IAvBP,EAuBa,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAvBb,CAAP;MAwBD,CA1BmE,CAAjD,CAAnB;;MA4BA,SAASI,WAAT,CAAqBC,IAArB,EAA2B;QACzB,OAAON,YAAY,CAAClW,KAAb,CAAmB,IAAnB,EAAyBI,SAAzB,CAAP;MACD;;MAED,OAAOmW,WAAP;IACD,CAlCM;IAmCP;AACJ;AACA;AACA;AACA;AACA;AACA;;EA3CK,CAr8CsC,EAk/CtC;IACD/V,GAAG,EAAE,kBADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAI2Y,iBAAiB,GAAG,CAAC,GAAGhY,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAAS+U,SAAT,CAAmBC,OAAnB,EAA4B;QAChI,IAAI1C,KAAJ;QAAA,IACIC,MADJ;QAAA,IAEIjN,IAFJ;QAAA,IAGI2P,OAAO,GAAGxW,SAHd;QAIA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAAS6U,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAAC3U,IAAX,GAAkB2U,UAAU,CAAC1U,IAArC;cACE,KAAK,CAAL;gBACE6R,KAAK,GAAG2C,OAAO,CAACvW,MAAR,GAAiB,CAAjB,IAAsBuW,OAAO,CAAC,CAAD,CAAP,KAAe1Q,SAArC,GAAiD0Q,OAAO,CAAC,CAAD,CAAxD,GAA8D,GAAtE;gBACA1C,MAAM,GAAG0C,OAAO,CAACvW,MAAR,GAAiB,CAAjB,IAAsBuW,OAAO,CAAC,CAAD,CAAP,KAAe1Q,SAArC,GAAiD0Q,OAAO,CAAC,CAAD,CAAxD,GAA8D,CAAvE;gBACAE,UAAU,CAAC3U,IAAX,GAAkB,CAAlB;gBACA2U,UAAU,CAAC1U,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAAC8C,QAAd,EAAwB,eAAxB,EAAyCoH,MAAzC,CAAgDqO,OAAhD,EAAyD,SAAzD,EAAoErO,MAApE,CAA2E2L,KAA3E,EAAkF,UAAlF,EAA8F3L,MAA9F,CAAqG4L,MAArG,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACEjN,IAAI,GAAG6P,UAAU,CAACzS,IAAlB;gBACA,OAAOyS,UAAU,CAACxU,MAAX,CAAkB,QAAlB,EAA4B2E,IAA5B,CAAP;;cAEF,KAAK,CAAL;gBACE6P,UAAU,CAAC3U,IAAX,GAAkB,CAAlB;gBACA2U,UAAU,CAACxS,EAAX,GAAgBwS,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACAvS,OAAO,CAACC,IAAR,CAAa,uCAAb,EAAsDsS,UAAU,CAACxS,EAAjE;gBACA,OAAOwS,UAAU,CAACxU,MAAX,CAAkB,QAAlB,EAA4B,EAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOwU,UAAU,CAACpU,IAAX,EAAP;YApBJ;UAsBD;QACF,CAzBM,EAyBJgU,SAzBI,EAyBO,IAzBP,EAyBa,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAzBb,CAAP;MA0BD,CA/BwE,CAAjD,CAAxB;;MAiCA,SAASK,gBAAT,CAA0BC,IAA1B,EAAgC;QAC9B,OAAOP,iBAAiB,CAACzW,KAAlB,CAAwB,IAAxB,EAA8BI,SAA9B,CAAP;MACD;;MAED,OAAO2W,gBAAP;IACD,CAvCM;IAwCP;AACJ;AACA;AACA;AACA;AACA;AACA;;EAhDK,CAl/CsC,EAoiDtC;IACDvW,GAAG,EAAE,oBADJ;IAED1C,KAAK,EAAE,YAAY;MACjB,IAAImZ,mBAAmB,GAAG,CAAC,GAAGxY,kBAAkB,CAAC,SAAD,CAAtB,GAAoC,aAAaD,YAAY,CAAC,SAAD,CAAZ,CAAwBmD,IAAxB,CAA6B,SAASuV,SAAT,CAAmBC,SAAnB,EAA8B;QACpI,IAAIlD,KAAJ;QAAA,IACIC,MADJ;QAAA,IAEIjN,IAFJ;QAAA,IAGImQ,OAAO,GAAGhX,SAHd;QAIA,OAAO5B,YAAY,CAAC,SAAD,CAAZ,CAAwBwD,IAAxB,CAA6B,SAASqV,UAAT,CAAoBC,UAApB,EAAgC;UAClE,OAAO,CAAP,EAAU;YACR,QAAQA,UAAU,CAACnV,IAAX,GAAkBmV,UAAU,CAAClV,IAArC;cACE,KAAK,CAAL;gBACE6R,KAAK,GAAGmD,OAAO,CAAC/W,MAAR,GAAiB,CAAjB,IAAsB+W,OAAO,CAAC,CAAD,CAAP,KAAelR,SAArC,GAAiDkR,OAAO,CAAC,CAAD,CAAxD,GAA8D,GAAtE;gBACAlD,MAAM,GAAGkD,OAAO,CAAC/W,MAAR,GAAiB,CAAjB,IAAsB+W,OAAO,CAAC,CAAD,CAAP,KAAelR,SAArC,GAAiDkR,OAAO,CAAC,CAAD,CAAxD,GAA8D,CAAvE;gBACAE,UAAU,CAACnV,IAAX,GAAkB,CAAlB;gBACAmV,UAAU,CAAClV,IAAX,GAAkB,CAAlB;gBACA,OAAO,KAAK+D,WAAL,CAAiBkB,OAAjB,CAAyB,KAAzB,EAAgC,GAAGiB,MAAH,CAAUlK,GAAG,CAAC8C,QAAd,EAAwB,aAAxB,EAAuCoH,MAAvC,CAA8C6O,SAA9C,EAAyD,SAAzD,EAAoE7O,MAApE,CAA2E2L,KAA3E,EAAkF,UAAlF,EAA8F3L,MAA9F,CAAqG4L,MAArG,CAAhC,CAAP;;cAEF,KAAK,CAAL;gBACEjN,IAAI,GAAGqQ,UAAU,CAACjT,IAAlB;gBACA,OAAOiT,UAAU,CAAChV,MAAX,CAAkB,QAAlB,EAA4B2E,IAA5B,CAAP;;cAEF,KAAK,CAAL;gBACEqQ,UAAU,CAACnV,IAAX,GAAkB,CAAlB;gBACAmV,UAAU,CAAChT,EAAX,GAAgBgT,UAAU,CAAC,OAAD,CAAV,CAAoB,CAApB,CAAhB;gBACA/S,OAAO,CAACC,IAAR,CAAa,yCAAb,EAAwD8S,UAAU,CAAChT,EAAnE;gBACA,OAAOgT,UAAU,CAAChV,MAAX,CAAkB,QAAlB,EAA4B,EAA5B,CAAP;;cAEF,KAAK,EAAL;cACA,KAAK,KAAL;gBACE,OAAOgV,UAAU,CAAC5U,IAAX,EAAP;YApBJ;UAsBD;QACF,CAzBM,EAyBJwU,SAzBI,EAyBO,IAzBP,EAyBa,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAzBb,CAAP;MA0BD,CA/B0E,CAAjD,CAA1B;;MAiCA,SAASK,kBAAT,CAA4BC,IAA5B,EAAkC;QAChC,OAAOP,mBAAmB,CAACjX,KAApB,CAA0B,IAA1B,EAAgCI,SAAhC,CAAP;MACD;;MAED,OAAOmX,kBAAP;IACD,CAvCM;IAwCP;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;EAjDK,CApiDsC,EAulDtC;IACD/W,GAAG,EAAE,eADJ;IAED1C,KAAK,EAAE,SAAS2Z,aAAT,GAAyB;MAC9B,IAAI1V,UAAU,GAAGpD,MAAM,CAAC+Y,kBAAP,EAAjB;MACA,OAAO;QACL3V,UAAU,EAAEA,UADP;QAELgG,OAAO,EAAEpJ,MAAM,CAAC0J,wBAAP,CAAgCtG,UAAhC,EAA4C,KAAK4F,aAAjD;MAFJ,CAAP;IAID;IACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAjBK,CAvlDsC,EA0mDtC;IACDnH,GAAG,EAAE,2BADJ;IAED1C,KAAK,EAAE,SAAS6Z,yBAAT,CAAmCC,QAAnC,EAA6C;MAClD,IAAI,CAACA,QAAL,EAAe;QACb,MAAM,IAAIrS,KAAJ,CAAU,8BAAV,CAAN;MACD;;MAED,IAAIxD,UAAU,GAAGpD,MAAM,CAAC+Y,kBAAP,EAAjB;MACA,IAAI3P,OAAO,GAAGpJ,MAAM,CAAC0J,wBAAP,CAAgCtG,UAAhC,EAA4C,KAAK4F,aAAjD,CAAd;MACA,IAAIkQ,QAAQ,GAAGlZ,MAAM,CAACmZ,gBAAP,CAAwB/V,UAAxB,EAAoC6V,QAApC,CAAf;MACA,OAAO;QACL7V,UAAU,EAAEA,UADP;QAELgG,OAAO,EAAEA,OAFJ;QAGL8P,QAAQ,EAAEA;MAHL,CAAP;IAKD;IACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAxBK,CA1mDsC,EAooDtC;IACDrX,GAAG,EAAE,2BADJ;IAED1C,KAAK,EAAE,SAASia,yBAAT,GAAqC;MAC1C,IAAIC,QAAQ,GAAGrZ,MAAM,CAACsZ,gBAAP,EAAf;MACA,IAAIlW,UAAU,GAAGpD,MAAM,CAACuZ,yBAAP,CAAiCF,QAAjC,CAAjB;MACA,IAAIjQ,OAAO,GAAGpJ,MAAM,CAAC0J,wBAAP,CAAgCtG,UAAhC,EAA4C,KAAK4F,aAAjD,CAAd;MACA,OAAO;QACL5F,UAAU,EAAEA,UADP;QAELgG,OAAO,EAAEA,OAFJ;QAGLiQ,QAAQ,EAAEA;MAHL,CAAP;IAKD;IACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EApBK,CApoDsC,EA0pDtC;IACDxX,GAAG,EAAE,4BADJ;IAED1C,KAAK,EAAE,SAASqa,0BAAT,CAAoCN,QAApC,EAA8CD,QAA9C,EAAwD;MAC7D,IAAI7V,UAAU,GAAGpD,MAAM,CAACyZ,yBAAP,CAAiCP,QAAjC,EAA2CD,QAA3C,CAAjB;MACA,IAAI7P,OAAO,GAAGpJ,MAAM,CAAC0J,wBAAP,CAAgCtG,UAAhC,EAA4C,KAAK4F,aAAjD,CAAd;MACA,OAAO;QACL5F,UAAU,EAAEA,UADP;QAELgG,OAAO,EAAEA;MAFJ,CAAP;IAID;IACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;EAjBK,CA1pDsC,EA6qDtC;IACDvH,GAAG,EAAE,4BADJ;IAED1C,KAAK,EAAE,SAASua,0BAAT,CAAoCL,QAApC,EAA8C;MACnD,IAAIjW,UAAU,GAAGpD,MAAM,CAACuZ,yBAAP,CAAiCF,QAAjC,CAAjB;MACA,IAAIjQ,OAAO,GAAGpJ,MAAM,CAAC0J,wBAAP,CAAgCtG,UAAhC,EAA4C,KAAK4F,aAAjD,CAAd;MACA,OAAO;QACL5F,UAAU,EAAEA,UADP;QAELgG,OAAO,EAAEA;MAFJ,CAAP;IAID,CATA,CASC;;EATD,CA7qDsC,EAwrDtC;IACDvH,GAAG,EAAE,4BADJ;IAED1C,KAAK,EAAE,SAASwa,0BAAT,CAAoCN,QAApC,EAA8C;MACnD,OAAO,KAAKK,0BAAL,CAAgCL,QAAhC,CAAP;IACD;IACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;EAZK,CAxrDsC,EAssDtC;IACDxX,GAAG,EAAE,8BADJ;IAED1C,KAAK,EAAE,SAASya,4BAAT,CAAsCxW,UAAtC,EAAkD;MACvD,IAAIgG,OAAO,GAAGpJ,MAAM,CAAC0J,wBAAP,CAAgCtG,UAAhC,EAA4C,KAAK4F,aAAjD,CAAd;MACA,OAAO;QACL5F,UAAU,EAAEA,UADP;QAELgG,OAAO,EAAEA;MAFJ,CAAP;IAID;IACD;AACJ;AACA;AACA;AACA;AACA;;EAdK,CAtsDsC,EAstDtC;IACDvH,GAAG,EAAE,cADJ;IAED1C,KAAK,EAAE,SAAS0a,YAAT,CAAsBzQ,OAAtB,EAA+B;MACpC,IAAI0Q,MAAM,GAAGrY,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiB8F,SAAzC,GAAqD9F,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAKuH,aAAtF;MACA,OAAOhJ,MAAM,CAAC6Z,YAAP,CAAoBzQ,OAApB,EAA6B0Q,MAA7B,CAAP;IACD;IACD;AACJ;AACA;AACA;;EATK,CAttDsC,EAiuDtC;IACDjY,GAAG,EAAE,qBADJ;IAED1C,KAAK,EAAE,SAAS4a,mBAAT,GAA+B;MACpC,IAAI,CAAC,KAAKtQ,WAAV,EAAuB,MAAM,IAAI7C,KAAJ,CAAU,sCAAV,CAAN;MACvB,IAAIwC,OAAO,GAAGpJ,MAAM,CAAC0J,wBAAP,CAAgC,KAAKD,WAArC,EAAkD,KAAKT,aAAvD,CAAd;MACA,KAAKI,OAAL,GAAeA,OAAf;MACA,OAAOA,OAAP;IACD;EAPA,CAjuDsC,CAAzC;EA0uDA,OAAOhK,SAAP;AACD,CA5xD4B,EAA7B;;AA8xDAF,OAAO,CAACE,SAAR,GAAoBA,SAApB"},"metadata":{},"sourceType":"script"}