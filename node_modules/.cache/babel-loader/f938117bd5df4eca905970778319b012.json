{"ast":null,"code":"/*\n    Copyright 2018 The caver-js Authors\n    This file is part of the caver-js library.\n\n    The caver-js library is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    The caver-js library is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\n*/\nconst rpcFilter = function (filterColl) {\n  let filterOption = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'include';\n\n  if (!Array.isArray(filterColl)) {\n    throw Error('rpcFilter only takes an array for first argument');\n  } // For filterColl indexing. (Since Array traversing is slower than Object)\n\n\n  filterColl = filterColl.reduce((acc, cur) => {\n    acc[cur] = cur;\n    return acc;\n  }, {});\n  return (data, next) => {\n    if (filterOption === 'include') {\n      if (!filterColl[data.method]) return;\n      next(data);\n    } else if (filterOption === 'exclude') {\n      if (!filterColl[data.method]) next(data);\n    }\n  };\n};\n\nmodule.exports = rpcFilter;","map":{"version":3,"names":["rpcFilter","filterColl","filterOption","Array","isArray","Error","reduce","acc","cur","data","next","method","module","exports"],"sources":["C:/Users/acer/node_modules/caver-js/packages/caver-middleware/src/builtins/rpcFilter.js"],"sourcesContent":["/*\n    Copyright 2018 The caver-js Authors\n    This file is part of the caver-js library.\n\n    The caver-js library is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    The caver-js library is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with the caver-js. If not, see <http://www.gnu.org/licenses/>.\n*/\n\nconst rpcFilter = (filterColl, filterOption = 'include') => {\n    if (!Array.isArray(filterColl)) {\n        throw Error('rpcFilter only takes an array for first argument')\n    }\n\n    // For filterColl indexing. (Since Array traversing is slower than Object)\n    filterColl = filterColl.reduce((acc, cur) => {\n        acc[cur] = cur\n        return acc\n    }, {})\n\n    return (data, next) => {\n        if (filterOption === 'include') {\n            if (!filterColl[data.method]) return\n            next(data)\n        } else if (filterOption === 'exclude') {\n            if (!filterColl[data.method]) next(data)\n        }\n    }\n}\n\nmodule.exports = rpcFilter\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMA,SAAS,GAAG,UAACC,UAAD,EAA0C;EAAA,IAA7BC,YAA6B,uEAAd,SAAc;;EACxD,IAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,UAAd,CAAL,EAAgC;IAC5B,MAAMI,KAAK,CAAC,kDAAD,CAAX;EACH,CAHuD,CAKxD;;;EACAJ,UAAU,GAAGA,UAAU,CAACK,MAAX,CAAkB,CAACC,GAAD,EAAMC,GAAN,KAAc;IACzCD,GAAG,CAACC,GAAD,CAAH,GAAWA,GAAX;IACA,OAAOD,GAAP;EACH,CAHY,EAGV,EAHU,CAAb;EAKA,OAAO,CAACE,IAAD,EAAOC,IAAP,KAAgB;IACnB,IAAIR,YAAY,KAAK,SAArB,EAAgC;MAC5B,IAAI,CAACD,UAAU,CAACQ,IAAI,CAACE,MAAN,CAAf,EAA8B;MAC9BD,IAAI,CAACD,IAAD,CAAJ;IACH,CAHD,MAGO,IAAIP,YAAY,KAAK,SAArB,EAAgC;MACnC,IAAI,CAACD,UAAU,CAACQ,IAAI,CAACE,MAAN,CAAf,EAA8BD,IAAI,CAACD,IAAD,CAAJ;IACjC;EACJ,CAPD;AAQH,CAnBD;;AAqBAG,MAAM,CAACC,OAAP,GAAiBb,SAAjB"},"metadata":{},"sourceType":"script"}